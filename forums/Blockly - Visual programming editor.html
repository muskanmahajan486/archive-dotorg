<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Blockly - Visual programming editor</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Blockly - Visual programming editor
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 08, 2013 by <font color="#0050B2">edgi</font>.
				    </div>

				    <p>I'm no programmer, I understand the basic concept of Java and some other languages, but I'm always very curious to find practical and effective solutions.<br/>
I've been looking at what Zipato offers and I think that is an excellent tool, but they have even a stone in the heel, they are not open source and they do not have a custom panel Interfas as OR.</p>

<p>I have found Blockly of Google, maybe you already know this tool, but as I have not found anything yet about this tool in the forums of OR and for this reason I decided to make this notation on this topic.</p>

<p>Ok,<br/>
A short summary about Blockly::</p>

<p>Blockly is a web-based, graphical programming editor. Users can drag blocks together to build an application. No typing required.</p>

<p>Blockly is designed to easily install into your web application. Users drag blocks around, Blockly generates code, your application does something with that code. From your application's point of view Blockly is just a textarea in which the user types syntactically perfect JavaScript, Python, or other language.</p>

<p>Blockly is 100% client-side, requiring no support from the server (unless one wants to use the cloud-storage feature). There are no 3rd party dependencies (unless one wants to recompile the core). Everything is open source.</p>

<p>If you do not need to modify the code, you can use our public server at <a href="http://blockly-demo.appspot.com">http://blockly-demo.appspot.com</a>. Installation is only recommended for developers who wish to modify or add source code.</p>

<p>I think Blockly may be a great alternative to OR because it is open source and that is as flexible as OR.</p>

<p>Attached to this is the link to Blockly, also some links to interesting applications related to the topic:</p>

<p>Blockly:
<a href="https://code.google.com/p/blockly/">https://code.google.com/p/blockly/</a></p>

<p>Blockly Demo<br/>
<a href="http://blockly-demo.appspot.com/static/apps/code/code.html?lang=en#">http://blockly-demo.appspot.com/static/apps/code/code.html?lang=en#</a></p>

<p>Instalacion:<br/>
<a href="https://code.google.com/p/blockly/wiki/Installation">https://code.google.com/p/blockly/wiki/Installation</a></p>

<p>CustomBlocks  <br/>
<a href="https://code.google.com/p/blockly/wiki/CustomBlocks">https://code.google.com/p/blockly/wiki/CustomBlocks</a></p>

<p>Application example of Blockly for Home Automation:<br/>
<a href="https://code.google.com/p/blockly/wiki/Future">https://code.google.com/p/blockly/wiki/Future</a></p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22874537/23036017.png">Example for rule creator.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22874537/23036016.png">Example for rule creator.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22874538"></a>
                                    <font class="smallfont"><blockquote><p>Blockly for Home Automation</p></blockquote>
<p>The Domoticz example is an interesting one indeed. This simplicity is badly needed for the majority of users. <br/>
Do you envisage Blockly as a replacement of Drools (or alternatively as an extension on Macros), or as a "wrapper" around Drools? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Aug 08, 2013 09:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874540"></a>
                                    <font class="smallfont"><p>Pe,</p>

<p>I think this is a friendlier alternative, although "Drools" is a very powerful tool, I think that this is not 100% friendly to users with little knowledge of programming.</p>

<p>I don't know too much about "Drools", I don't know until what point is this customizable and if it is, I don't know how hard it is to get it user friendly.</p>

<p>I look at it from my personal perspective.<br/>
If for me that I don't have much more knowledge in programming is easy to understand the concept much easily, I believe that for others would also be the same way.</p>

<p>I believe that the power of all is the capacity to keep the concept "flexible" and "user friendly".</p>

<p>Blockly offers the possibility of being completely customizable, this means that advanced users can continue adding pieces to the puzzle and and novice users may play and perhaps also contribute with some part.</p>

<p>The project BlocklyDuino it is also very interesting, I show this one in the attached image.<br/>
This could be an example of how users would be allowed contribute to building libraries of devices to complement the visual part of the project.</p>

<p>I am a supporter of the visual, the clearer the concept, the more users would be interested in the concept of creation of macros.<br/>
Even I think it might be possible for users to share their macros in a library.</p>

<p>The user don't need to understand that (((1+15-2+6)+20))=40, they need to know that 20+20=40, the forms of this operation is very important for the programmer but has little relevance to the user.</p>

<p>If the user can understand the basic 20+20 and if he knows he can play with something easier like 10+10+20 then this will create a lot more interest for him.</p>

<p>BlocklyDuino:<br/>
<a href="http://www.gasolin.idv.tw/public/blockly/demos/blocklyduino/index.html">http://www.gasolin.idv.tw/public/blockly/demos/blocklyduino/index.html</a></p>

<p>If you can not see the image click this link:<br/>
<a href="https://docs.google.com/file/d/0B-ZXZoafcBaJRTk2QXBPZEpDTTA/edit?usp=sharing">https://docs.google.com/file/d/0B-ZXZoafcBaJRTk2QXBPZEpDTTA/edit?usp=sharing</a></p>

<p><img src="attachments/22874537/23036016.png" align="absmiddle" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by edgi at Aug 08, 2013 12:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874543"></a>
                                    <font class="smallfont"><p>Thanks for the extra information. I did suggest a blockly like approach in December last year to some of the OR team members. I am afraid that it will have to wait until some skilled community member(s) will dive onto this, as budgets for development are still very limited. It is not a trivial task. It might be a nice student project though!<br/>
Pieter</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Aug 08, 2013 13:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874567"></a>
                                    <font class="smallfont"><p>Ok,<br/>
I'm going to look if anyone is interested in taking it as a student project.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by edgi at Aug 09, 2013 08:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876323"></a>
                                    <font class="smallfont"><p>It has gone a bit silent here. Any success with finding a student? I know people from OpenRemote are talking to schools once in a while. This might be an attractive project for some of those institutions.</p>

<p>Just my 2cts:<br/>
I did have a <a href="http://www.openremote.org/display/forums/Event+listeners+and+feedback+to+the+user">discussion with Isaac Martin</a> on rethinking the issue.<br/>
In my opinion it would be worthwhile not start from "how to tame Drools", but rather from the functionalities needed. And above all, from the start keep it very simple (the better choice is the enemy of the right choice). Like with the User interface designer, let it grow organically on what the community produces/shouts on <em>nice to have's</em></p>

<p>I do not know the in depth dependencies between Drools and the core of openRemote. But as far as I can judge it would be sufficient to use controller.xml and panel.xml as inputs for an experiment to generate a DRL file that could either be manually pasted in the appropriate controller directory, or actually copy it to Designer. The xml files hold the proper information about individual devices, to generate picklists for the graphical rule editor.</p>

<p>If this assumption is true, from what I understand from blockly, it seems conceivable to design a simple scheduler for actions. Could be done on a local machine independent of Designer. And if you really have an independent mind write it in VBscript <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 14, 2013 10:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876360"></a>
                                    <font class="smallfont"><blockquote><p>conceivable to design a simple scheduler for actions</p></blockquote>
<p>The OpenRemote DateTime protocol does support <em>isNight</em> and <em>isDay</em> boolean functions. If, as I did suggest elesewhere, there were a similar but user definable <em>IsInPeriod</em> function, we might not need to use cron. That would make things simpler. Also the period definition would be reusabele. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 14, 2013 14:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876370"></a>
                                    <font class="smallfont"><p>I have heard about blockly in the past but totally forgot about it. Thanks for bringing it up here, Eduardo! It's a heavier solution than what I had in mind for a ui, but it's possible that level of expressiveness will be required.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by melchoir55 at Sep 14, 2013 21:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876388"></a>
                                    <font class="smallfont"><p>Looking deeper into controller.xml I bumped into the <b>type:custom</b> sensors, which semantically are a bit awkward, because the possible values/states are not known beforehand. Also the related related command does not tell much. (That problem has been described for other reasons in <a href="http://jira.openremote.org/browse/MODELER-268">Jira issue Modeler-268 Add Semantic Meta-Data to Commands</a>)<br/>
<b>note:</b> As I can't read the Java code, I have to rely on controller.xml for my assumptions about the knowledge available in the model.<br/>
PS: Due to other assigments, I won't have time to respond this week</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 15, 2013 11:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876404"></a>
                                    <font class="smallfont"><p>Hi Pieter and Isaac,</p>

<p>So far I have not yet found any student who is interested in taking this project.</p>

<p>Last week I was reading on the subject (EVENT LISTENERS AND FEEDBACK TO THE USER) and I find it very interesting that my proposition is taken into account.</p>

<p>I think the analysis that Pieter has made  is pretty close to my proposition.</p>

<p>I'm looking for more information about customization of Blockly and its implementation to create rules in the designer, or as proposed by Pieter, creating a kind of experiment to create rules on my local machine and then deploy it to the designer.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by edgi at Sep 15, 2013 19:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877772"></a>
                                    <font class="smallfont"><p>Just for my understanding: Are the rules as specified in Designer compiled by designer, or is that done by the OpenRemote Controller ? Or in other words can I edit the <b>drl-file</b> directly on my Raspberry Pi, and restart the controller.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 08, 2013 10:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877835"></a>
                                    <font class="smallfont"><p>You can edit the .drl on your controller but then the designer does not know about it and a new sync would bring your the version the designer knows.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 09, 2013 09:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877842"></a>
                                    <font class="smallfont"><p>I was aware of that "overwriting". With Z-Way custom code I intend to make rule modifications possible by end users directly from the OpenRemote user interface.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 09, 2013 09:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877859"></a>
                                    <font class="smallfont"><p>Compiled in the controller.</p>

<p>You can add add any number of *.drl files into the directory, they will all be picked up, compiled and evaluated.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 09, 2013 15:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877919"></a>
                                    <font class="smallfont"><p>Which also means that only the default <em>modeler_rules.drl</em> is overwritten by a sync from the controller ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 10, 2013 14:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877921"></a>
                                    <font class="smallfont"><p>That is correct. The modeler only creates this one file.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 10, 2013 14:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877922"></a>
                                    <font class="smallfont"><p>Thanks</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 10, 2013 14:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22878373"></a>
                                    <font class="smallfont"><p>The French, Synology based SynoZwave product has a not yet 100% implementation of <a href="http://wiki.synozwave.com/index.php?title=Blockly">Blockly</a>. There are a few appaealing examples. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 17, 2013 10:28
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:29</font></td>
		    </tr>
	    </table>
    </body>
</html>