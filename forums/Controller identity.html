<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Controller identity</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Controller identity
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 29, 2015 by <font color="#0050B2">gw400</font>.
				    </div>

				    <p>I have installed unlimited crypto library, synchronized controller with Designer and restarted controller, but I still get this error in boot log:</p>

<p>TRACE 2015-12-29 21:08:10,730 : Unable to retrieve controller identity<br/>
org.openremote.controller.exception.ConnectionException: The required password for user '' was not found. Password manager error : User credentials were not present, please synchronize the controller with your OpenRemote Designer/Beehive account first.<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.connect(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.httpRequest(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.httpPost(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.getControllerIdentity(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.getRemoteCommandService(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.run(Unknown Source)<br/>
	at java.lang.Thread.run(Thread.java:662)<br/>
Caused by: org.openremote.controller.service.Deployer$PasswordException: User credentials were not present, please synchronize the controller with your OpenRemote Designer/Beehive account first.<br/>
	at org.openremote.controller.service.Deployer.getPassword(Unknown Source)<br/>
	... 7 more<br/>
INFO 2015-12-29 21:08:10,730 : Unable to retrieve controller identity, retrying in 1 000 milliseconds...<br/>
INFO 2015-12-29 21:08:10,730 : Unable to retrieve controller identity, retrying in 1 000 milliseconds...<br/>
DEBUG 2015-12-29 21:08:11,855 : Error in attempting to retrieve the return code while cleaning up connection : Could not initialize class javax.crypto.SunJCE_b<br/>
java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.SunJCE_b<br/>
	at javax.crypto.KeyGenerator.a(DashoA13*..)<br/>
	at javax.crypto.KeyGenerator.&lt;init&gt;(DashoA13*..)<br/>
	at javax.crypto.KeyGenerator.getInstance(DashoA13*..)<br/>
	at com.sun.net.ssl.internal.ssl.JsseJce.getKeyGenerator(JsseJce.java:223)<br/>
	at com.sun.net.ssl.internal.ssl.RSAClientKeyExchange.&lt;init&gt;(RSAClientKeyExchange.java:91)<br/>
	at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverHelloDone(ClientHandshaker.java:747)<br/>
	at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:241)<br/>
	at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:593)<br/>
	at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:529)<br/>
	at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:943)<br/>
	at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)<br/>
	at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)<br/>
	at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)<br/>
	at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:434)<br/>
	at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:166)<br/>
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1195)<br/>
	at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:379)<br/>
	at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:318)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.getResponseCode(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.release(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.connect(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.httpRequest(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.httpPost(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.getControllerIdentity(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.getRemoteCommandService(Unknown Source)<br/>
	at org.openremote.controller.service.BeehiveCommandCheckService$BeehiveCommandChecker.run(Unknown Source)<br/>
	at java.lang.Thread.run(Thread.java:662)</p>

<p>I expected the commercial Openremote Controller to work out of the box, but unfortunately this does not seem to be the case.<br/>
Any idea what my next steps should be to resolve this?</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23602880"></a>
                                    <font class="smallfont"><p>Hi</p>

<p>I got very bored with trying to resolve this, so in the end I followed the second part of this thread and changed the password storage to plaintext, it worked perfectly.</p>

<p><a href="http://www.openremote.org/display/forums/OpenRemote+Pro+Release+1.3.0">http://www.openremote.org/display/forums/OpenRemote+Pro+Release+1.3.0</a></p>

<p>Please let us know how you get on.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mdar at Dec 29, 2015 23:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602888"></a>
                                    <font class="smallfont"><p>Thank you Stuart!<br/>
Installing JCE for Java 6 seems to work with Pro release 1.4.0.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gw400 at Dec 30, 2015 08:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602889"></a>
                                    <font class="smallfont"><p>That's excellent news <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>I might venture a road test with 1.4 now then.</p>


<p>Just for the benefit of anyone finding this in the future.</p>

<p>I hope you mean you've installed Java JDK6, target than JCE <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mdar at Dec 30, 2015 08:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602892"></a>
                                    <font class="smallfont"><p>It works for me on JRE (1.7 in my case on the Synology DS212+)</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Dec 30, 2015 11:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602922"></a>
                                    <font class="smallfont"><p>Yes, of course <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/><br/>
1. Install JDK6<br/>
2. Copy JCE files for Java 6 to ..jre\lib\security folder</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gw400 at Dec 31, 2015 10:32
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:32</font></td>
		    </tr>
	    </table>
    </body>
</html>