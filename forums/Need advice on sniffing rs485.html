<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Need advice on sniffing rs485</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Need advice on sniffing rs485
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Apr 14, 2013 by <font color="#0050B2">desertdog</font>.
				    </div>

				    <p>I have a home theater and automation system that I had installed about 10 years ago (before I became interested in open source solutions). The Crestron cp2e automation controller communicates with its devices via proprietary rs485. </p>

<p>I was wondering if I could get a usb to rs485 adapter and sniff the traffic. My goal would be to figure out the protocol and commands to control the matrix audio and video switchers without needing the automation controller.</p>

<p>Does anyone have any advice on sniffing rs485? Does every device on the network see all the traffic? I have used usbsnoop on scanners before.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-21860307"></a>
                                    <font class="smallfont"><p>Is the audio/video matrix also from Crestron?<br/>
If not, maybe the manufacturer will give you the protocol?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Apr 15, 2013 09:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21860318"></a>
                                    <font class="smallfont"><p>The audio switcher is a Crestron CNX-Pad8a. The video switcher is a CNXPVID8x3. </p>

<p>Crestron's Cresnet communication protocol is highly secretive. I have searched the yahoo Crestron group and the Crestron website. The crestnet protocol is not publicly available. Cresnet does use an rs485 protocol. </p>

<p>Also there is a youtube video called "Decryption of Crestron's Cresnet" but it is not in English <a href="http://www.youtube.com/watch?v=OPfeotv5C6A">http://www.youtube.com/watch?v=OPfeotv5C6A</a></p>

<p>The Crestron matrix switchers are well built, and the older one's sell for around $150 used on ebay, which is a huge discount to the original price. The problem is you have to have a complete crestron system and hire a Crestron programmer.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Apr 15, 2013 13:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21860345"></a>
                                    <font class="smallfont"><p>Ok, the native Crestron protocol will be hard to get.<br/>
I don't know anything about being able to sniff this or not.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Apr 15, 2013 19:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21860383"></a>
                                    <font class="smallfont"><p>Are you sure that you cannot get the protocol specification? I had a similar problem with my Bose Home Theather which could communicate with Crestreon via the serial link, which I've described in details in my blog <a href="http://mqlservice.net/openremote/2013/03/01/first-things-first/">http://mqlservice.net/openremote/2013/03/01/first-things-first/</a><br/>
However, in my case to get the protocol specification was as simple as calling Bose customer service and ask them. I had to sign the NDA though, so indeed the protocol is somehow "secretive", but still easy to get.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Apr 16, 2013 14:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597965"></a>
                                    <font class="smallfont"><p>It's been a while, but if anyone is still interested, here is description of the Crestron Cresnet protocol:</p>

<p><a href="https://cresnet.codeplex.com/wikipage?title=Crestron%20Cresnet%20Protocol">https://cresnet.codeplex.com/wikipage?title=Crestron%20Cresnet%20Protocol</a></p>

<p>It is posted along with a program and instructions for listening on the Cresnet bus. That seems to be just what Jack was looking for.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dosman at Apr 26, 2015 18:38
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:41</font></td>
		    </tr>
	    </table>
    </body>
</html>