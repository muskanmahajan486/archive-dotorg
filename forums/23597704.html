<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : TCP Serial Status ???</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : TCP Serial Status ???
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Apr 19, 2015 by <font color="#0050B2">gregoryx</font>.
				    </div>

				    <p>I've got serial control of my Rotel RSP-1066 working through a Global Cache iTach Flex.</p>

<p>Send TCP port 4999 "0xFE 03 C2 10 0B E0" and the volume goes up.<br/>
Sent TCP port 4999 "0xFE 03 C2 10 0C E1" and the volume goes down. </p>

<p>Now I'd like to see the current volume reflected in a "sensor." </p>

<hr />

<p>I'm using the GC iTest tool to send the commands to see what the responses look like. I send the HEX "status request" (0xFE 03 C2 10 FF D4) and I get two sets of response in iTest:</p>

<ul class="alternate" type="square">
	<li>the ASCII Response: "??????  CD   VOL 37 ?"</li>
</ul>


<ul class="alternate" type="square">
	<li>the HEX response: "FE 03 C2 10 FF D4 FE 17 C2 20 20 43 44 20 20 20 56 4F 4C 20 33 37 20D8 03 C2 10 FF D4 FE 17 C2 20 20 43 44 20 20 20 56 4F 4C 20 33 37 20"</li>
</ul>


<p>Which one is OR using? If there's some way to have it watching the ASCII info, I'd sure love to be able to pull out the "CD" portion as well as the "37" after the VOL. </p>



<hr />

<p>Side note: I have sensors working with my ISY-994iR by sending an HTTP ISY "STATUS" command and looking for a "RANGE" between 1 and 255. </p>

<p>I used the HTTP replies in the ISY to test what it would give when I send the REST commands. Relatively easy diagnostics to figure out - and the sensor is "smart" enough to pick the numbers out of the pile of junk to give me 0-255. </p>

<p>So... I'm pretty sure I know how to do the basic part. </p>

<p>But the return information from the Rotel is certainly nothing like the HTTP return information. </p>

<hr />

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23597721"></a>
                                    <font class="smallfont"><p>If you use the generic OR HTTP protocol, or the generic OR serial protocol the reply will be interpreted as ASCII. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by toesterdahl at Apr 20, 2015 07:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597730"></a>
                                    <font class="smallfont"><p>You can always use a shell command protocol and get required data from it. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Apr 20, 2015 17:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597897"></a>
                                    <font class="smallfont"><p>Hm. Okay... trying HTTP... but I assume there'd be a way to test that from a browser... and all I get from a browser if I go to <a href="http://192.168.253.235:4999/">http://192.168.253.235:4999/</a>&lt;whatever&gt; is a "download" file. Not sure what to do there. </p>

<p>Serial? I don't see anything in the "command protocol" list that looks like "serial" ??? </p>

<p>Michal, any hints on where I'd find a sample shell command protocol example I can learn from ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gregoryx at Apr 23, 2015 03:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597906"></a>
                                    <font class="smallfont"><blockquote><p>Serial? I don't see anything in the "command protocol" list that looks like "serial" ???</p></blockquote>
<p>AFAIK the serial command has never been offically released. I guess it is available in one of the several ill documented snapshots. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Apr 23, 2015 08:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597907"></a>
                                    <font class="smallfont"><blockquote>
<p>Michal, any hints on where I'd find a sample shell command protocol example I can learn from ?</p></blockquote>

<p>For example here <a href="http://www.openremote.org/pages/viewpage.action?pageId=21037421">http://www.openremote.org/pages/viewpage.action?pageId=21037421</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Apr 23, 2015 11:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597914"></a>
                                    <font class="smallfont"><p>Ah. I found a "composer" version with it (<a href="https://composer.openremote.org/staging/Modeler.jsp">https://composer.openremote.org/staging/Modeler.jsp</a>) but it's not clear to me if I'd need to move to a different controller as well. It also isn't clear if the serial in there has some way to talk to a TCP-based serial port?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gregoryx at Apr 23, 2015 18:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597915"></a>
                                    <font class="smallfont"><p>Michal, thank you. Something to play with there. I'll dig in to it. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gregoryx at Apr 23, 2015 18:35
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:34</font></td>
		    </tr>
	    </table>
    </body>
</html>