<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : KNX conn. manager fails to start</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : KNX conn. manager fails to start
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 20, 2010 by <font color="#0050B2">juha</font>.
				    </div>

				    <p>Hello there&#33;</p>

<p>I've been playing around with the iphone apps from or for a few days now, and i must say i'm impressed&#33; So I decided to digg in a little further, and install BOSS.</p>

<p>After a few hickups (restarting CMD after changing JRE environment took me some time to figure out..), everything looked fine. Except..When I start BOSS, it fails to find the IP/KNX gateway. I tried lots of settings, but cannot seem to find what's missing. So a little help would be appreciated <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Here are the readings:</p>

<p>C:\temp\OR\bin&gt;openremote run<br/>
Using CATALINA_BASE:&nbsp;&nbsp; C:\temp\OR<br/>
Using CATALINA_HOME:&nbsp;&nbsp; C:\temp\OR<br/>
Using CATALINA_TMPDIR: C:\temp\OR\temp<br/>
Using JRE_HOME:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\Program Files\Java\jre6\<br/>
19-jan-2010 19:18:37 org.apache.catalina.core.AprLifecycleListener init<br/>
INFO: The APR based Apache Tomcat Native library which allows optimal performanc<br/>
e in production environments was not found on the java.library.path: C:\temp\OR\<br/>
webapps\controller\WEB-INF\lib\native<br/>
19-jan-2010 19:18:37 org.apache.coyote.http11.Http11Protocol init<br/>
INFO: Initializing Coyote HTTP/1.1 on http-8080<br/>
19-jan-2010 19:18:37 org.apache.catalina.startup.Catalina load<br/>
INFO: Initialization processed in 286 ms<br/>
19-jan-2010 19:18:38 org.apache.catalina.core.StandardService start<br/>
INFO: Starting service Catalina<br/>
19-jan-2010 19:18:38 org.apache.catalina.core.StandardEngine start<br/>
INFO: Starting Servlet Engine: Apache Tomcat/6.0.18<br/>
[Controller]2010-01-19 19:18:38,785 ERROR [main] org.openremote.controller.proto<br/>
col.knx.KNXEventBuilder.&lt;init&gt;(116) &#124; KNX connection manager failed to start: KN<br/>
X discovery failed: search couldn't be started on any network interface<br/>
org.openremote.controller.protocol.knx.ConnectionException: KNX discovery failed<br/>
: search couldn't be started on any network interface</p>

<p>After this the server starts up, i can connect to it with the iphone app etc. but of course when i press a button, the server reacts as follows:</p>

<p>[Controller]2010-01-19 19:33:30,564 ERROR [HTTP-Thread-1] org.openremote.control<br/>
ler.protocol.knx.KNXEvent.exec(78) &#124; org.openremote.controller.protocol.knx.Conn<br/>
ectionException: KNX IP Gateway was not found.</p>

<p>which is pretty logical, if that service wasn't started.</p>

<p>So now my big question is: What am i doing wrong?</p>

<p>Thanks in advance for any reply&#33;</p>

<p>Grtz, Janmaarten</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-8552454"></a>
                                    <font class="smallfont"><p>Can you have a look at your /logs/controller.log for KNX related entries (and post it here) and see if it reveals any additional info.</p>

<p>Also, do you have multiple network interfaces on your machine where you installed OR Boss, and is your KNX IP gateway in the same IP subnet as your Windows machine?</p>

<p>&#8211; Juha</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jan 19, 2010 22:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-8749062"></a>
                                    <font class="smallfont"><p>Ok, I think the part you're looking for is posted below. If not, i can mail it to you, if you give me an adress. </p>

<p>I only have one network inteface on the machine, and subnet is the same. I tried OR KNX lite as well, and that works like a charm on the the same system (I killed OR KNX lite on the iphone first before starting BOSS ofc).</p>

<p>Thanks in advance for the help!</p>

<p>Grtz, Janmaarten</p>


<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
---controller.log section---

2010-01-19 16:39:55,348 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.resolveLocalAddresses(322) | 
KNX Connection manager resolving local host IP addresses...
2010-01-19 16:39:55,428 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(581) |
Skipping loopback <span class="code-keyword">interface</span>: name:lo (Software Loopback Interface 1) index: 1 addresses:
/0:0:0:0:0:0:0:1;
/127.0.0.1;

2010-01-19 16:39:55,431 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:net0 (WAN Miniport (SSTP)) index: 2 addresses:

2010-01-19 16:39:55,433 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:net1 (WAN Miniport (IKEv2)) index: 3 addresses:

2010-01-19 16:39:55,435 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:net2 (WAN Miniport (L2TP)) index: 4 addresses:

2010-01-19 16:39:55,437 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:net3 (WAN Miniport (PPTP)) index: 5 addresses:

2010-01-19 16:39:55,439 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:ppp0 (WAN Miniport (PPPOE)) index: 6 addresses:

2010-01-19 16:39:55,441 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth0 (WAN Miniport (IPv6)) index: 7 addresses:

2010-01-19 16:39:55,443 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth1 (WAN Miniport (Network Monitor)) index: 8 addresses:

2010-01-19 16:39:55,445 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth2 (WAN Miniport (IP)) index: 9 addresses:

2010-01-19 16:39:55,447 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:ppp1 (RAS Async Adapter) index: 10 addresses:

2010-01-19 16:39:55,448 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth3 (Realtek RTL8168B/8111B Family PCI-E Gigabit Ethernet NIC (NDIS 6.20)) index: 11 addresses:

2010-01-19 16:39:55,450 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:net4 (Microsoft ISATAP Adapter) index: 12 addresses:
/fe80:0:0:0:0:5efe:c0a8:165%12;

2010-01-19 16:39:55,455 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(587) | 
Skipping point-to-point <span class="code-keyword">interface</span>: name:net5 (Teredo Tunneling Pseudo-Interface) index: 13 addresses:
/2001:0:5ef5:73bc:141e:1fc0:a282:a6c;
/fe80:0:0:0:141e:1fc0:a282:a6c%13;

2010-01-19 16:39:55,460 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.resolveLocalAddresses(357) | 
Found candidate NIC: name:eth4 (Atheros AR8121/AR8113/AR8114 PCI-E Ethernet Controller(NDIS6.20)) index: 14 addresses:
/fe80:0:0:0:d61:e1ed:3869:1325%14;
/192.168.1.101;

2010-01-19 16:39:55,460 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.resolveLocalAddresses(373) | 
Skipped IPv6 address (not supported by KNX) /fe80:0:0:0:d61:e1ed:3869:1325%14
2010-01-19 16:39:55,461 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.resolveLocalAddresses(381) | 
Added candidate IP address to set - /192.168.1.101
2010-01-19 16:39:55,463 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth5 (Atheros AR8121/AR8113/AR8114 PCI-E Ethernet Controller(NDIS6.20)-QoS Packet Scheduler-0000) index: 15 addresses:

2010-01-19 16:39:55,464 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth6 (Atheros AR8121/AR8113/AR8114 PCI-E Ethernet Controller(NDIS6.20)-WFP LightWeight Filter-0000) index: 16 addresses:

2010-01-19 16:39:55,466 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth7 (WAN Miniport (Network Monitor)-QoS Packet Scheduler-0000) index: 17 addresses:

2010-01-19 16:39:55,468 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth8 (WAN Miniport (IP)-QoS Packet Scheduler-0000) index: 18 addresses:

2010-01-19 16:39:55,470 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(575) | 
Skipping disabled NIC: name:eth9 (WAN Miniport (IPv6)-QoS Packet Scheduler-0000) index: 19 addresses:

2010-01-19 16:39:55,551 ERROR [main] org.openremote.controller.protocol.knx.KNXEventBuilder.&lt;init&gt;(116) | 
KNX connection manager failed to start: KNX discovery failed: search couldn't be started on any network <span class="code-keyword">interface</span>
org.openremote.controller.protocol.knx.ConnectionException: KNX discovery failed: search couldn't be started on any network <span class="code-keyword">interface</span>

</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tnd at Jan 20, 2010 13:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-8749073"></a>
                                    <font class="smallfont"><p>Thanks, that was what I was looking for.</p>

<p>It seems we find your network interface correctly (192.168.1.101) but then starting the search in the Calimero library (where the exception originates from), it fails to do the same.</p>

<p>Part of the problem may be using the incorrect API call which does not feed the network interface we found into Calimero KNX lib (we do it once to create the Discoverer object but then it is required <b>again</b> for some reason to start the search) so I can look into patching that and then see if it resolves the issue.</p>

<p>It is however still a bit of a mystery why Calimero fails to start a search on any network interface, since we do see 192.168.1.101 as a clear candidate.</p>

<p>Thanks for reporting this.</p>

<p>&#8211; Juha</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jan 20, 2010 15:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-8749078"></a>
                                    <font class="smallfont"><p>Thanks for looking into it. </p>

<p>In the mean time, I installed BOSS on another system on the same network, and i end up with the same error. Even tried rebooting the Linksys WRT 120N router, but to no succes. I might try a different router tomorrow, see where this brings me. </p>

<p>FYI: systems both run W7 ultimate 32, cmd is executed as administrator. </p>

<p>Good hunting! If you come up with a working patch, please inform me, i can hardly wait <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tnd at Jan 20, 2010 21:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-8749083"></a>
                                    <font class="smallfont"><p>Looks like it is a windows 7 thing...I tried it on a XP machine as well, and on that it works flawlessly, on the same network. However, the server i intend to use runs windows 7, so a patch/workaround would be awesome <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tnd at Jan 20, 2010 23:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-8749098"></a>
                                    <font class="smallfont"><p>Thanks for identifying this as Windows 7 issue, that helps.</p>

<p>I've created a patched version of the controller that avoids the code execution path in the Calimero KNX library that was causing the issue earlier. If you're able to try it out, would appreciate it: <a href="https://sourceforge.net/projects/openremote/files/For%20Developers/OpenRemote-Controller-1.0.3_Win7KNXDiscoveryPatch.zip/download">https://sourceforge.net/projects/openremote/files/For%20Developers/OpenRemote-Controller-1.0.3_Win7KNXDiscoveryPatch.zip/download</a></p>

<p>However, there's no guarantee this fixes it as the problem could just prop up elsewhere. I don't currently have a Windows 7 machine to test with so this patch is purely guess-work. If it doesn't solve it then will have to wait until I get a test machine.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jan 22, 2010 01:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-8749102"></a>
                                    <font class="smallfont"><p>No succes yet, it still can't find the gateway. Here is the log segment:</p>

<p>2010-01-24 00:10:47,595 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.resolveLocalAddresses(335) &#124; KNX Connection manager resolving local host IP addresses...<br/>
2010-01-24 00:10:47,626 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(594) &#124; Skipping loopback interface: name:lo (Software Loopback Interface 1) index: 1 addresses:<br/>
/0:0:0:0:0:0:0:1;<br/>
/127.0.0.1;<br/>
2010-01-24 00:10:47,628 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:net0 (WAN Miniport (SSTP)) index: 2 addresses:<br/>
2010-01-24 00:10:47,631 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:net1 (WAN Miniport (IKEv2)) index: 3 addresses:<br/>
2010-01-24 00:10:47,633 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:net2 (WAN Miniport (L2TP)) index: 4 addresses:<br/>
2010-01-24 00:10:47,635 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:net3 (WAN Miniport (PPTP)) index: 5 addresses:<br/>
2010-01-24 00:10:47,637 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:ppp0 (WAN Miniport (PPPOE)) index: 6 addresses:<br/>
2010-01-24 00:10:47,639 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth0 (WAN Miniport (IPv6)) index: 7 addresses:<br/>
2010-01-24 00:10:47,642 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth1 (WAN Miniport (Network Monitor)) index: 8 addresses:<br/>
2010-01-24 00:10:47,649 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth2 (WAN Miniport (IP)) index: 9 addresses:<br/>
2010-01-24 00:10:47,652 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:ppp1 (RAS Async Adapter) index: 10 addresses:<br/>
2010-01-24 00:10:47,655 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth3 (Realtek RTL8168B/8111B Family PCI-E Gigabit Ethernet NIC (NDIS 6.20)) index: 11 addresses:<br/>
2010-01-24 00:10:47,657 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:net4 (Microsoft ISATAP Adapter) index: 12 addresses:<br/>
/fe80:0:0:0:0:5efe:c0a8:165%12;<br/>
2010-01-24 00:10:47,662 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(600) &#124; Skipping point-to-point interface: name:net5 (Teredo Tunneling Pseudo-Interface) index: 13 addresses:<br/>
/2001:0:d5c7:a2d6:8f6:2e2d:a282:a6c;<br/>
/fe80:0:0:0:8f6:2e2d:a282:a6c%13;<br/>
2010-01-24 00:10:47,667 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.resolveLocalAddresses(370) &#124; Found candidate NIC: name:eth4 (Atheros AR8121/AR8113/AR8114 PCI-E Ethernet Controller(NDIS6.20)) index: 14 addresses:<br/>
/fe80:0:0:0:d61:e1ed:3869:1325%14;<br/>
/192.168.1.101;<br/>
2010-01-24 00:10:47,668 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.resolveLocalAddresses(386) &#124; Skipped IPv6 address (not supported by KNX) /fe80:0:0:0:d61:e1ed:3869:1325%14<br/>
2010-01-24 00:10:47,668 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.resolveLocalAddresses(394) &#124; Added candidate IP address to set - /192.168.1.101<br/>
2010-01-24 00:10:47,671 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth5 (Atheros AR8121/AR8113/AR8114 PCI-E Ethernet Controller(NDIS6.20)-QoS Packet Scheduler-0000) index: 15 addresses:<br/>
2010-01-24 00:10:47,673 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth6 (Atheros AR8121/AR8113/AR8114 PCI-E Ethernet Controller(NDIS6.20)-WFP LightWeight Filter-0000) index: 16 addresses:<br/>
2010-01-24 00:10:47,675 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth7 (WAN Miniport (Network Monitor)-QoS Packet Scheduler-0000) index: 17 addresses:<br/>
2010-01-24 00:10:47,677 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth8 (WAN Miniport (IP)-QoS Packet Scheduler-0000) index: 18 addresses:<br/>
2010-01-24 00:10:47,679 INFO [main] org.openremote.controller.protocol.knx.KNXConnectionManager.isCandidate(588) &#124; Skipping disabled NIC: name:eth9 (WAN Miniport (IPv6)-QoS Packet Scheduler-0000) index: 19 addresses:<br/>
2010-01-24 00:10:47,749 ERROR [main] org.openremote.controller.protocol.knx.KNXEventBuilder.&lt;init&gt;(116) &#124; KNX connection manager failed to start: KNX discovery failed: search request failed, An operation was attempted on something that is not a socket<br/>
org.openremote.controller.protocol.knx.ConnectionException: KNX discovery failed: search request failed, An operation was attempted on something that is not a socket</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tnd at Jan 23, 2010 23:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-9011205"></a>
                                    <font class="smallfont"><p>Had a brief access to a Windows 7 machine over the weekend and it seems this "An operation was attempted on something that is not a socket" is caused by assigning a specific network interface to a multicast socket in Java + Windows 7 combination (works fine on WinXP, Mac OS X and Linux).</p>

<p>The combination that causes the issue is still unclear (whether it's an issue with Java or Windows 7) but there are a couple of workarounds that can be implemented.</p>

<p>The main one that I am going to include in a release is to allow a KNX gateway IP address to be configured explicitly which will bypass the discovery procedure (and need for multicast) altogether. This is needed anyway for certain network deployments where multicast is not available or won't propagate across switches from controller to gateway.</p>

<p>The downside is this requires an extra configuration step on the user's part.</p>

<p>Discovery on Windows 7 can be made to work at least while only one network interface is available on the host machine and the Java runtime automatically assigns the multicast socket to an available network interface. At least it seems to let the controller start on Windows 7 without an exception stack trace, but still needs some further testing. The downside of this it needs to be an exception code for Win7 only (since the current discovery works just fine on WinXP/MacOS/Linux systems) and it would only work on single-NIC machines (which is a fairly typical scenario for home setups).</p>

<p>I do have a patched version of the Calimero KNX library that attempts to do this latter workaround &#8211; if you're still interested in testing, let me know.</p>

<p>Other than that, wait for a release that allows KNG gateway IP configured manually instead of relying multicast-based discovery.</p>

<p>PS. If anybody has any more technical details on this issue, what might be causing it, or a known bug report against it, would be nice to know.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jan 25, 2010 12:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-9273351"></a>
                                    <font class="smallfont"><p>Sure I'm interested, always nice to find out is sth works or not, right?</p>

<p>I don't think the extra config step is a bad thing. Automatic discovery is always better, but the people working with these programs mostly will be able to manually implement an IP adress without too much af a hassle.</p>

<p>Then again, maybe it's possible to implement it as a backup function, like in OR KNX app. First attempt auto-discovery, if that fails switch to manual instead?</p>

<p>But keep sending the patches, it will provide some extra information at the least, right?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tnd at Jan 26, 2010 21:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-9273352"></a>
                                    <font class="smallfont">
<p>For a quick test, you can replace the calimero.jar in your controller /webapps/controller/WEB-INF/lib directory with this: <a href="http://sourceforge.net/projects/openremote/files/For%20Developers/calimero-PATCH_A.jar/download">http://sourceforge.net/projects/openremote/files/For%20Developers/calimero-PATCH_A.jar/download</a></p>

<p>And restart of course. It will print a message on the console if the replacement was done correctly.</p>

<p>I wasn't able to test it with KNX since didn't have a Win7 machine with KNX available, only saw that the start up did not generate the exception any longer.</p>

<p>I'll put the direct gateway config into the next 1.0.3 release.</p>

<p>&#8211; Juha</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jan 26, 2010 22:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-9273369"></a>
                                    <font class="smallfont"><p>This one works <img class="emoticon" src="images/icons/emoticons/biggrin.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> will do some durability tests in the days to come, but for now it looks good.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tnd at Feb 02, 2010 15:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-9273373"></a>
                                    <font class="smallfont"><p>Good to know. Will be curious to hear the results of your durability tests as well.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by admin at Feb 03, 2010 04:36
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:48</font></td>
		    </tr>
	    </table>
    </body>
</html>