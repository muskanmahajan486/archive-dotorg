<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Question about OR commands architecture</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Question about OR commands architecture
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 03, 2010 by <font color="#0050B2">mishoboss</font>.
				    </div>

				    <p>Hi, I have a question about the commands architecture and logic. What happens when 2 or more commands have to be executed in the same time? Is there a FIFO queue or some kind of delay between executing the commands over one interface? </p>

<p>I'm asking this because in my case I have a RS-485 network with architecture of one master and many slaves. The idea is the master to request data from the slaves and they return that data to the master. What happens if I have 20-30 slave devices in one RS485 network and I have setup sensor devices in OR Controller that request data from every slave every second? And meanwhile I execute another command to one of the slaves?</p>

<p>One more question - how could I make a sensor in the Designer that executes a command every second? <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-12452364"></a>
                                    <font class="smallfont"><blockquote>
<p>Hi, I have a question about the commands architecture and logic. What happens when 2 or more commands have to be executed in the same time? Is there a FIFO queue or some kind of delay between executing the commands over one interface? </p></blockquote>

<p>If two commands are executed simultaneously over the HTTP/REST interface, they are handled concurrently as two separate threads. Order is non-deterministic and ultimately up to the operating system scheduler.</p>

<p>If you have two commands in a macro, they are executed in sequence. You can also add delays between commands in macros.</p>

<blockquote>
<p>I'm asking this because in my case I have a RS-485 network with architecture of one master and many slaves. The idea is the master to request data from the slaves and they return that data to the master. What happens if I have 20-30 slave devices in one RS485 network and I have setup sensor devices in OR Controller that request data from every slave every second? And meanwhile I execute another command to one of the slaves?</p></blockquote>

<p>Each sensor has its own thread, so they are polled concurrently. The command sent to the slave is also executed concurrently within its own thread, as per above.</p>

<p>That is the view from the stand-point of the OpenRemote Controller runtime.</p>

<p>In practical terms, depending on your physical media (e.g. RS-485) you may want to queue or order or throttle requests &#8211; this is up to the protocol implementation in OpenRemote runtime (i.e. you in case of protocol implementor) to manage.</p>

<blockquote>
<p>One more question - how could I make a sensor in the Designer that executes a command every second? </p></blockquote>

<p>Sensors currently poll devices at 0.5s interval. We can make this configurable.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by admin at Sep 05, 2010 16:04
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:31</font></td>
		    </tr>
	    </table>
    </body>
</html>