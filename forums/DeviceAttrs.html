<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : DeviceAttrs</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : DeviceAttrs
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Nov 24, 2013 by <font color="#0050B2">digitaldan</font>.
				    </div>

				    <p>I'm trying to use DeviceAttrs to persist information about a device with my omnilink protocol. After saving my device this information is never written to the database, and the device_attr table is empty.  I don't see anything else using this in the designer code base so maybe its just not supported anymore?   My code looks like this:</p>

<p>List&lt;DeviceAttr&gt; dattrs = new ArrayList&lt;DeviceAttr&gt;();<br/>
DeviceAttr datt = new DeviceAttr();<br/>
datt.setName(STR_ATTRIBUTE_NAME_OMNI_NUM);<br/>
datt.setValue(objnum + "");<br/>
dattrs.add(datt);</p>

<p>datt = new DeviceAttr();<br/>
datt.setName(STR_ATTRIBUTE_NAME_OMNI_TYPE);<br/>
datt.setValue(Message.OBJ_TYPE_UNIT + "");<br/>
dattrs.add(datt);</p>

<p>device.setDeviceAttrs(dattrs);</p>

<p>Saving the device persists it in the database but does not persist the DeviceAttrs.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22880273"></a>
                                    <font class="smallfont"><p>Big chance it's not working. I've never used it or reviewed that part of the code since I started with OR.<br/>
I'll see if I can take a quick look at that.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Nov 25, 2013 09:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22880286"></a>
                                    <font class="smallfont"><p>Thanks. I was trying to use this to avoid duplicates when importing more then once (say if you add a device) so I don't have to rely on the name to be unique.  Instead of using deviceattr i'm now comparing the name, vendor and model.  While probably less then ideal, it will work the vast majority of the time.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Nov 25, 2013 14:44
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:30</font></td>
		    </tr>
	    </table>
    </body>
</html>