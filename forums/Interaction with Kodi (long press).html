<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Interaction with Kodi (long press)</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Interaction with Kodi (long press)
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 24, 2015 by <font color="#0050B2">.matt.</font>.
				    </div>

				    <p>I have been using OR to control my home cinema setup pretty succesfully for a while.  Most things are controlled just by sending individual button press commands over TCP.</p>

<p>For Kodi I have been using jsonrpc commands as described:</p>

<p>Here:
<a href="http://kodi.wiki/view/JSON-RPC_API">http://kodi.wiki/view/JSON-RPC_API</a></p>

<p>Here:
<a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Control+XBMC">http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Control+XBMC</a></p>

<p>Full list of commands here:
<a href="http://kodi.wiki/view/JSON-RPC_API/v6">http://kodi.wiki/view/JSON-RPC_API/v6</a></p>

<p>This works ok but the user interface is not great.  One of the main problems is that long pressing on the navigation arrows does not produce rapid, smooth scrolling.  In fact it is faster to repeatedly tap the button.  However, when I repeatedly tap the button (perhaps I miss occasionally) this frequently causes the android app to crash.</p>

<p>I think I am right in saying that jsonrpc provides no means of long pressing for navigation in Kodi.  An alternative would be to use Kodi's eventserver.</p>

<p>Details here:
<a href="http://kodi.wiki/view/EventServer">http://kodi.wiki/view/EventServer</a></p>

<p>Example python library here:
<a href="https://github.com/xbmc/xbmc/blob/master/tools/EventClients/lib/python/xbmcclient.py">https://github.com/xbmc/xbmc/blob/master/tools/EventClients/lib/python/xbmcclient.py</a></p>

<p>If I understand the code correctly this allows for button_down and button_up commands which would make the user interface much better.  This must be the implementation that is used in many of the Kodi remote apps available in the app store as they all provide decent navigation.</p>

<p>Unfortunately the event server requires regular pings to keep the connection open, handshake packets etc.  In short it is far more complicated than simply sending single commands.</p>

<p>The question is; is it possible to implement this type of code into openremote?</p>

<p>I have read on this forum that there were previous efforts made in this direction.  Is this still ongoing or has it been abandoned?  I'd like to encourage further effort on this as I'm sure there are many other instances where this type of user interaction could be beneficial - i.e. for volume controls etc.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23600086"></a>
                                    <font class="smallfont"><p>Hi</p>

<p>I'd second this function request as the Velbus protocol also has the functionality for Long_Press &amp; Release functions.</p>

<p>Or, Press &amp; Release.</p>

<p>Adding this function would give nice dimming results as well as momentary relay control.</p>

<p>Cheers<br/>
Stuart</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mdar at Jul 10, 2015 15:04
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:30</font></td>
		    </tr>
	    </table>
    </body>
</html>