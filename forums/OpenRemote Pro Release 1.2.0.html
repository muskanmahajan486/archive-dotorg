<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : OpenRemote Pro Release 1.2.0</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : OpenRemote Pro Release 1.2.0
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 14, 2015 by <font color="#0050B2">ebariaux</font>.
				    </div>

				    <p>A new Pro release is now available for Pro Users.<br/>
Version 1.2.0 includes fixes and improvements to the on-line Designer as well as the Controller and WebConsole.</p>

<p>The Designer relaxes a limitation on the In-memory Virtual Command protocols, allowing greater freedom in its usage.<br/>
Please check the <a href="http://openremote.org/display/docs/OpenRemote+2.0+How+To+-+In-memory+Virtual+Command+Protocol">documentation</a> for more information.</p>

<p>The Pro controller now allows usage of the Z-Wave 2.0 stack.<br/>
The older 1.0 stack is still bundled by default, but you can download the 2.0.0 zwave.jar from the <a href="http://www.openremote.org/display/forums/New+Z-Wave+2.0.0+Release">forums</a> and use it with this version.<br/>
Note that auto-discovery is not yet supported with the 2.0 stack.<br/>
It also includes improvements to the 1-wire, HTTP russound protocols, specific logging messages during drools evaluation and new commands on the RRD4J protocol (see <a href="http://openremote.org/pages/viewpage.action?pageId=19988490">here</a> for more information).</p>



<h4><a name="OpenRemoteProRelease1.2.0-OnlineDesigner1.2.0"></a>Online Designer 1.2.0</h4>

<h6><a name="OpenRemoteProRelease1.2.0-Newfeatures%3A"></a>New features:</h6>
<ul>
	<li><a href="http://jira.openremote.org/browser/MODELER-561">MODELER-561</a> - Relax limitations on commands usable for In-memory Virtual Commands</li>
	<li><a href="http://jira.openremote.org/browser/MODELER-562">MODELER-562</a> - Include device name and id in generated controller.xml</li>
</ul>


<h6><a name="OpenRemoteProRelease1.2.0-Bugfixes%3A"></a>Bug fixes:</h6>
<ul>
	<li><a href="http://jira.openremote.org/browser/MODELER-441">MODELER-441</a> - Delete key only deletes the last object in a multiple selection</li>
	<li><a href="http://jira.openremote.org/browser/MODELER-546">MODELER-546</a> - Support building Designer using JDK 7</li>
</ul>


<h4><a name="OpenRemoteProRelease1.2.0-Controller1.2.0"></a>Controller 1.2.0</h4>

<h6><a name="OpenRemoteProRelease1.2.0-Newfeatures%3A"></a>New features:</h6>
<ul>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-440">ORCJAVA-440</a> - Implement Z-Wave command classes that are needed for configuring Z-Wave nodes</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-480">ORCJAVA-480</a> - Implement the Z-Wave security layer (COMMAND_CLASS_SECURITY)</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-452">ORCJAVA-452</a> - Add ability to reset RRD4J graph time axis</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-481">ORCJAVA-481</a> - Add log messages to Rules Engine</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-475">ORCJAVA-475</a> - Improve 1-wire implementation</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-461">ORCJAVA-461</a> - Improvements to the Russound protocol implementation</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-465">ORCJAVA-465</a> - Update HTTP protocol to extend ReadCommand instead of implementing EventListener</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-464">ORCJAVA-464</a> - Add possibility of ReadCommand implementations to define their polling interval</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-331">ORCJAVA-331</a> - Create unit tests for Vera protocol integration.</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-370">ORCJAVA-370</a> - Add X10 logging category</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-472">ORCJAVA-472</a> - More lenient CORS headers</li>
</ul>


<h6><a name="OpenRemoteProRelease1.2.0-Bugfixes%3A"></a>Bug fixes:</h6>
<ul>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-350">ORCJAVA-350</a> - False warning in X10 implementation</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-351">ORCJAVA-351</a> - False warning in KNX implementation</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-352">ORCJAVA-352</a> - False warning with in-memory virtual commands</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-491">ORCJAVA-491</a> - False warning in ISY-99 protocol implementation</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-446">ORCJAVA-446</a> - Rule logger does not work correctly with range sensors.</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-322">ORCJAVA-322</a> - Weird URL in example of security constraint in web.xml</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-341">ORCJAVA-341</a> - Update Vera implementation to use locale independent string case conversions</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-342">ORCJAVA-342</a> - Update X10 implementation to use locale independent string case conversions</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-343">ORCJAVA-343</a> - Update Russound implementation to use locale independent string case conversions</li>
	<li><a href="http://jira.openremote.org/browser/ORCJAVA-344">ORCJAVA-344</a> - Update DSCIT100 implementation to use locale independent string case conversions</li>
</ul>


<h4><a name="OpenRemoteProRelease1.2.0-WebConsole2.1.4"></a>Web Console 2.1.4</h4>

<h6><a name="OpenRemoteProRelease1.2.0-Newfeatures"></a>New features</h6>
<ul>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-80">WEBCONSOLE-80</a> - Increase timeouts for REST calls to help with slow connections</li>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-83">WEBCONSOLE-83</a> - Enhance user configuration options</li>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-86">WEBCONSOLE-86</a> - Make the web view widget interactive so that mouse clicks etc. are passed through</li>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-89">WEBCONSOLE-89</a> - Add persistence for console orientation</li>
</ul>


<h6><a name="OpenRemoteProRelease1.2.0-Bugfixes"></a>Bug fixes</h6>
<ul>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-84">WEBCONSOLE-84</a> - Web Element not correctly identifying URL prefix</li>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-85">WEBCONSOLE-85</a> - Absolutely positioned screen background images not working</li>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-87">WEBCONSOLE-87</a> - ImageProxy should return the requested url in the same format as it is stored rather than trying to convert it to PNG format</li>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-88">WEBCONSOLE-88</a> - Possible Null reference exception at startup trying to determine the default console size</li>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-90">WEBCONSOLE-90</a> - Improve sensor handing robustness when controller error occurs</li>
	<li><a href="http://jira.openremote.org/browser/WEBCONSOLE-91">WEBCONSOLE-91</a> - Welcome screen is shown on every console load not just the first time after a version update</li>
</ul>


				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23601264"></a>
                                    <font class="smallfont"><p>Upgrade seems OK on Synology DS212+</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 14, 2015 14:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601266"></a>
                                    <font class="smallfont"><p>works like a charm on a Qnap. thanks guys!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by darkell at Sep 14, 2015 16:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601380"></a>
                                    <font class="smallfont"><p>The rule below now fails to compile with the new controller...all others work...</p>

<p>(credit to Mr.Rutka on the syntax...been working beautifully until this controller version)</p>

<p>[Rule "washer count to verify running"<br/>
timer(int: 1s)<br/>
when<br/>
Event($s: source, $v: value, source=="washer_sensor", value=="on")<br/>
$evt : CustomState( source=="VM_14_sensor", $h : value)<br/>
then<br/>
double notRunning = Double.parseDouble($h.toString()) + 1;<br/>
execute.command("VM_14_status",notRunning);<br/>
end]</p>

<p>Log:</p>

<p>[INFO 2015-09-21 17:58:07,096 : </p>

<p>--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>ERROR 2015-09-21 17:58:07,658 : Rule definition 'modeler_rules.drl' could not be deployed. See errors below.<br/>
ERROR 2015-09-21 17:58:07,658 : Rule Compilation error The method command(String, String) in the type CommandFacade is not applicable for the arguments (String, double)<br/>
ERROR 2015-09-21 17:58:07,658 : There was an error parsing the rule definition 'modeler_rules.drl' : Could not parse knowledge.<br/>
java.lang.IllegalArgumentException: Could not parse knowledge.<br/>
	at org.drools.builder.impl.KnowledgeBuilderImpl.newKnowledgeBase(KnowledgeBuilderImpl.java:58)<br/>
	at org.openremote.controller.statuscache.rules.RuleEngine.getValidKnowledgePackages(Unknown Source)<br/>
	at org.openremote.controller.statuscache.rules.RuleEngine.start(Unknown Source)<br/>
	at org.openremote.controller.statuscache.EventProcessorChain.start(Unknown Source)<br/>
	at org.openremote.controller.statuscache.StatusCache.start(Unknown Source)<br/>
	at org.openremote.controller.deployer.Version20ModelBuilder.buildSensorModel(Unknown Source)<br/>
	at org.openremote.controller.deployer.Version20ModelBuilder.build(Unknown Source)<br/>
	at org.openremote.controller.deployer.AbstractModelBuilder.buildModel(Unknown Source)<br/>
	at org.openremote.controller.service.Deployer.startup(Unknown Source)<br/>
	at org.openremote.controller.service.Deployer.softRestart(Unknown Source)<br/>
	at org.openremote.controller.service.Deployer$ControllerDefinitionWatch.run(Unknown Source)<br/>
	at java.lang.Thread.run(Thread.java:662)]</p>

<p>If I comment out "// double notRunning = Double.parseDouble($h.toString()) + 1;" it compiles.</p>

<p>Any ideas?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niedejb at Sep 22, 2015 00:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601390"></a>
                                    <font class="smallfont"><blockquote>
<p>ERROR 2015-09-21 17:58:07,658 : Rule Compilation error The method command(String, String) in the type CommandFacade is not applicable for the arguments (String, double)</p></blockquote>
<p>You can force casting to string:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
execute.command(<span class="code-quote">"VM_14_status"</span>,notRunning+"");
</pre>
</div></div>

<p>But, the fact that a new controller version breaks old rules makes me bit uncomfortable.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Sep 22, 2015 15:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601394"></a>
                                    <font class="smallfont"><p>Strange that it ever worked, the method is clearly expecting a String for the second argument.<br/>
You can use Michal's code or use</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">execute.command(<span class="code-quote">"VM_14_status"</span>, <span class="code-object">Double</span>.toString(notRunning));</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Sep 22, 2015 16:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601401"></a>
                                    <font class="smallfont"><p>Thanks again...</p>

<p>"execute.command("VM_14_status",notRunning+"");"</p>

<p>worked for me.</p>


</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niedejb at Sep 23, 2015 00:08
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:33</font></td>
		    </tr>
	    </table>
    </body>
</html>