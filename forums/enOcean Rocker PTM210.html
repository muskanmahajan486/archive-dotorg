<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : enOcean Rocker PTM210</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : enOcean Rocker PTM210
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 14, 2015 by <font color="#0050B2">jean-philippe</font>.
				    </div>

				    <p>Hello,</p>

<p>I've followed many tutorials to find out a solution but I'm stuck.</p>

<p>I have an enocean USB300 which seem to work fine.<br/>
And I'm trying to use a Rocker switch (4 buttons) that I'd like to use to trigger event (launch shell..etc) when I push On or Off.</p>

<p>I've added a Device with 2 commands :</p>

<p>name :SWITCH_ALARM_ROCKER_A<br/>
id : 0x&lt;id&gt;<br/>
cmd : STATUS_ROCKER_A<br/>
EEP : F6-02-01</p>


<p>name :SWITCH_ALARM_ROCKER_B<br/>
id : 0x&lt;id&gt;<br/>
cmd : STATUS_ROCKER_B<br/>
EEP : F6-02-01</p>

<p>And I've created a sensor switch for test on ROCKER_A</p>

<p>I've added a label in  gui with ON and OFF as label for the same sensor.</p>


<p>When I push the button, I see those logs :</p>

<p>TRACE 2015-03-14 16:32:39,505 (EnOcean): Received serial data from <span class="error">&#91;COM port: /dev/ttyUSB0, Protocol: ESP3, Communication Layer: RXTX&#93;</span> : 0x55 0x00 0x07 0x07 <br/>
TRACE 2015-03-14 16:32:39,505 (EnOcean): Received serial data from <span class="error">&#91;COM port: /dev/ttyUSB0, Protocol: ESP3, Communication Layer: RXTX&#93;</span> : 0x01 <br/>
TRACE 2015-03-14 16:32:39,506 (EnOcean): Received serial data from <span class="error">&#91;COM port: /dev/ttyUSB0, Protocol: ESP3, Communication Layer: RXTX&#93;</span> : 0x7A 0xF6 0x10 0x00 0x29 <br/>
TRACE 2015-03-14 16:32:39,507 (EnOcean): Received serial data from <span class="error">&#91;COM port: /dev/ttyUSB0, Protocol: ESP3, Communication Layer: RXTX&#93;</span> : 0xCD 0xD5 0x30 0x01 0xFF 0xFF <br/>
TRACE 2015-03-14 16:32:39,507 (EnOcean): Received serial data from <span class="error">&#91;COM port: /dev/ttyUSB0, Protocol: ESP3, Communication Layer: RXTX&#93;</span> : 0xFF <br/>
TRACE 2015-03-14 16:32:39,508 (EnOcean): Received serial data from <span class="error">&#91;COM port: /dev/ttyUSB0, Protocol: ESP3, Communication Layer: RXTX&#93;</span> : 0xFF 0x58 0x00 0xAA <br/>
DEBUG 2015-03-14 16:32:39,508 (EnOcean): Received radio telegram : <span class="error">&#91;RADIO: RORG=RPS, sender ID=0x0029CDD5, payload=0x10, status=0x30&#93;</span><br/>
ERROR 2015-03-14 16:32:39,509 (EnOcean): Thread 'ESP processor listener executor' terminated with exception : null<br/>
java.lang.NullPointerException<br/>
        at org.openremote.controller.statuscache.rules.RuleEngine.push(RuleEngine.java:145)<br/>
        at org.openremote.controller.statuscache.EventProcessorChain.push(EventProcessorChain.java:188)<br/>
        at org.openremote.controller.statuscache.StatusCache.update(StatusCache.java:260)<br/>
        at org.openremote.controller.model.sensor.Sensor.update(Sensor.java:342)<br/>
        at org.openremote.controller.protocol.enocean.profile.EepF60201.updateSensor(EepF60201.java:474)<br/>
        at org.openremote.controller.protocol.enocean.EnOceanCommand.update(EnOceanCommand.java:201)<br/>
        at org.openremote.controller.protocol.enocean.TransceiveCommand.radioTelegramReceived(TransceiveCommand.java:128)<br/>
        at org.openremote.controller.protocol.enocean.EnOceanGateway.radioTelegramReceived(EnOceanGateway.java:160)<br/>
        at org.openremote.controller.protocol.enocean.Esp3Connection.radioTelegramReceived(Esp3Connection.java:131)<br/>
        at org.openremote.controller.protocol.enocean.packet.Esp3Processor$1.run(Esp3Processor.java:156)<br/>
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)<br/>
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)<br/>
        at java.lang.Thread.run(Thread.java:745)</p>


<p>And the same log when release with a payload=0x00</p>

<p>But I'm not sure it works because, on the remote interface on my smartphone, the label allways shows "N/A".</p>

<p>Thanks for your help <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23597076"></a>
                                    <font class="smallfont"><p>Same problem with D5-00-01 door contact .... </p>

<p>I see traffic in logs but the UI doesn't change...<br/>
And I keep seeing :</p>

<p>WARN 2015-03-15 16:33:35,980 (EnOcean): Unknown EnOcean property '&lt;property name = "name" value = "status"/&gt;'.<br/>
INFO 2015-03-15 16:33:35,980 (EnOcean): Created EnOcean Command (ID = '0x0181DF24', EEP (Type = 'D5-00-01', Contact = 'N/A')).<br/>
WARN 2015-03-15 16:33:35,982 (EnOcean): Unknown EnOcean property '&lt;property name = "name" value = "SWITCH_ROCKER"/&gt;'.</p>

<p>any help would be appreciated :')</p>

<p>My products are from "nodon" vendor, does-it means the protocols/commands are not supported by OpenRemote ??</p>

<p>JP</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jean-philippe at Mar 15, 2015 15:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597078"></a>
                                    <font class="smallfont"><p>I have found the solution I think.</p>

<p>I was running witht java 1.7 wich was highe,r I've downgraded to 16. and it's seems ok.</p>

<p>I had the error in the log but I was thinking it was only a problem for Rules.</p>

<p>JP</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jean-philippe at Mar 15, 2015 16:58
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:33</font></td>
		    </tr>
	    </table>
    </body>
</html>