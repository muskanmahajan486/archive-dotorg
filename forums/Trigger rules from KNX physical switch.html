<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Trigger rules from KNX physical switch</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Trigger rules from KNX physical switch
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 31, 2015 by <font color="#0050B2">phil1348</font>.
				    </div>

				    <p>Hello,</p>

<p>I'm stuck with the following simple <img class="emoticon" src="images/icons/emoticons/help_16.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> thing to do :<br/>
I want to trig a Openremote rule, from a physical KNX switch (Gira tastensensor)</p>

<p>As there is no possibility to initiate a Openremote Macro from a physical switch, I think I need to use rules.</p>

<p>The rule is running fine when it is trigger from the sensor (as this must be), AND when the sensor is really linked to the feedback object of a KNX switch.<br/>
Means :</p>
<ul class="alternate" type="square">
	<li>Push on KNX physical button to turn ON a particular KNX switch</li>
	<li>The feedback object of the switch answers</li>
	<li>The rules start.</li>
</ul>


<p>Works fine.</p>

<p>But if I just assign a specific KNX group adress to the physical switch, then I created a "pseudo" OpenRemote sensor object, listening to this specific adress, it doesn't work.</p>

<p>I have tried several combination based on my experience and the differents example, but I couldn't succeed.<br/>
I have also tried several combination at the KNX level, without succes. Of course, I could just use a unused physical KNX switch to do this, but I feel it a little bit expensive....</p>

<p>All other functionalities are running fine such as switchs, sliders, macros....</p>

<p>Does anyone succeded to do this?</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23602935"></a>
                                    <font class="smallfont"><p>So...answering myself. May be it will be helpful for any one...</p>

<p>The problem :<br/>
When the controller starts, it evaluate the "pseudo sensor" as "ON", probably by default because this group adress does not answer from the KNX bus, because it is only linked to a switch.<br/>
Thus, when you try to send a "on" from the switch, there is no result from the rule evaluation because it is already considered as "on" by the controller.<br/>
In addition, the rules starts when the controller restart after synchronisation.</p>

<p>The solution :</p>
<ul class="alternate" type="square">
	<li>The rule is evaluate as value==off. This prevents that the rules is passed during controller startup.</li>
	<li>The KNX switch must be set as "off when pressed, on when released".</li>
</ul>


<p>That's it....</p>

<p>Happy new year to everyone !</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by phil1348 at Dec 31, 2015 16:47
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:34</font></td>
		    </tr>
	    </table>
    </body>
</html>