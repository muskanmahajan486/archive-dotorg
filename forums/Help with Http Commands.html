<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Help with Http Commands</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Help with Http Commands
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 14, 2013 by <font color="#0050B2">hank</font>.
				    </div>

				    <p>Hi</p>

<p>I would need help to add a http command to my project.</p>

<p>The command should be a HTTP command that run the the address below, same function as you wrote it in the IE.</p>

<p>The link is: 
<a href="http://192.168.1.5:5006/sovrum/play">http://192.168.1.5:5006/sovrum/play</a></p>

<p>Should i use GET or POST?</p>

<p>Do i need some more info to add, for me i can´t get it to work.</p>

<p>Best Regards<br/>
Henrik</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22874877"></a>
                                    <font class="smallfont"><p>What is the URL supposed to do? If you want to get a value for a <b>sensor</b>, than you need to add a polling interval value.<br/>
IIRC GET and Post are both treated as GET at the moment. So it does not matter yet.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Aug 14, 2013 18:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874878"></a>
                                    <font class="smallfont"><p>GET, which is similar to typing a URL in a browser.</p>

<p>POST is similar to submitting a form.</p>

<p>You mean that if you type that address in IE address bar and type enter, your media player plays (I believe from the URL that's the use case here).</p>

<p>But if you create an HTTP GET command with that URL in OR and use that from e.g. a button, it does not play ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Aug 14, 2013 18:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874879"></a>
                                    <font class="smallfont"><p>Hi PE ZANSTRA &amp; ERIC</p>

<p>Yes Eric, that is exactly what it should do.<br/>
I´m very near to get my Sonos integration to OpenRemote to work.</p>

<p>If I use the link in one of my computers, the music starts to play so it should be easy to get it to work in OR.</p>

<p>I tried to make a button with a this command and it didn´t start to play.<br/>
I will make a second try tonight.</p>

<p>Do i need a special version of OR to get this to work?<br/>
I have used http: commands before and got it to work.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hank at Aug 14, 2013 18:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874885"></a>
                                    <font class="smallfont"><p>Perfect now it works!</p>

<p>Before i could see the new buttons but it didn´t work correctly, after a reboot of OR it works!<br/>
Only one thing left that needs to be solved, with link below i get info about what´s playing now.
<a href="http://192.168.1.97:5005/vardagsrum/state">http://192.168.1.97:5005/vardagsrum/state</a></p>

<p>This is what you see in IE.</p>

<p>{"currentTrack":<div class="error"><span class="error">Unknown macro: {&quot;artist&quot;}</span> </div>,"relTime":14,"stateTime":1376505641662,"volume":100,"currentState":"PLAYING"}</p>

<p>If i use http command and GET and json: $.artist and connect it to a label it will give you not only "Orup" it will give whole CurrentTrack line.<br/>
What should json code be to only display the artist info?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hank at Aug 14, 2013 19:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874887"></a>
                                    <font class="smallfont"><p>Can you edit the post to put the JSON reply in a {code} block ?<br/>
Or maybe you need to escape some curly braces (putting a \ in front of it) so that it displays correctly.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Aug 14, 2013 21:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874930"></a>
                                    <font class="smallfont"><p>It should look like this:</p>


<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">{<span class="code-quote">"currentTrack"</span>{<span class="code-quote">"artist"</span>:<span class="code-quote">"Veronica"</span>,<span class="code-quote">"title"</span>:<span class="code-quote">"Blue"</span>,<span class="code-quote">"album"</span>:<span class="code-quote">"You"</span>,<span class="code-quote">"duration"</span>:194} ,<span class="code-quote">"relTime"</span>:14,<span class="code-quote">"stateTime"</span>:1376505641662,<span class="code-quote">"volume"</span>:100,<span class="code-quote">"currentState"</span>:<span class="code-quote">"PLAYING"</span>}
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hank at Aug 15, 2013 12:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874937"></a>
                                    <font class="smallfont"><p>How about $.currentTrack.artist as the JSONPath expression ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Aug 15, 2013 12:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874942"></a>
                                    <font class="smallfont"><p>Gives the same resaults, showing all the first 4 posts until relTime.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hank at Aug 15, 2013 13:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874945"></a>
                                    <font class="smallfont"><p>I found out this link:
<a href="http://openremote.org/pages/viewpage.action?pageId=20451362&amp;focusedCommentId=20451410">http://openremote.org/pages/viewpage.action?pageId=20451362&amp;focusedCommentId=20451410</a></p>

<p>Seems to have the same problem as me.</p>

<p>It might be that my OR are to old and need to be updated.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hank at Aug 15, 2013 13:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874973"></a>
                                    <font class="smallfont"><p>At the end of the thread it sounds like it was resolved with the OpenRemote version that was mentioned in there also.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 16, 2013 09:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22874974"></a>
                                    <font class="smallfont"><p>Ok, I will check again.<br/>
I think i have version 2.0.1 or maybe 2.0.0.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hank at Aug 16, 2013 09:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876449"></a>
                                    <font class="smallfont"><p>Dear All</p>

<p>This was solved by itself upgrading to 2.1 Snapshot version of OpenRemote.</p>

<p>Best Regards<br/>
Henrik Gjörloff</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hank at Sep 16, 2013 15:32
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:30</font></td>
		    </tr>
	    </table>
    </body>
</html>