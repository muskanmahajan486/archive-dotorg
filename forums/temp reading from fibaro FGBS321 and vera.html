<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : temp reading from fibaro FGBS321 and vera</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : temp reading from fibaro FGBS321 and vera
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on May 23, 2014 by <font color="#0050B2">smithforc</font>.
				    </div>

				    <p>Hi..<br/>
first post , please be  kind <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Landscape as follows<br/>
-Veralite as gateway/controller<br/>
-RaspberryPi as OR controller<br/>
-Fibaro Universal/Binary Sensor FGBS321 + 4 DS18B20 temp sensors<br/>
All working okay - can read and display the temp in the vera UI</p>

<p>Task<br/>
Display the 4 temerature readouts in a simple ORC panel on iphone as text</p>

<p>Ive been digging through the forum and no luck on specifics so I dived right in<br/>
I can create the panel with some buttons and have it display on my iphone so that part is working (panel and controller sync)</p>

<p>I added the universal sensor as a device (ORC notes that the FGBS001 is supported and I have the FGBS321, not sure of this is an issue, I tried swapping FGBS001 for FGBS321 but no luck)<br/>
I created a command to read the temp from that a specific ID of one of the temp sensor<br/>
I displayed thevera.xml ot gte the correct ID's for the sensors and confirm that they are working<br/>
I then created a sensor and linked it to the command<br/>
I then created label to display the temperature readout (I also tried a button but no luck)<br/>
I think all the 'connections' are working as I'm getting N/A in the label insteaed of the 'U' which I entered when I created it<br/>
....but not getting the temp being displayed</p>

<p>To be honest I'm not clear about the relationship between a command and a sensor and the other elements of the ORC stack for my scenario so I'm not sure even if the appraoch above is correct</p>

<p>Any help would be really appreciated<br/>
-frank</p>




				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22886650/23036580.png">FGBS-001.PNG</a> (image/x-png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22886651"></a>
                                    <font class="smallfont"><p>Maybe you get the N/A because the returned value is to long (many digits after the decimal point)<br/>
So you can try with a much wider field in your user interface as a first step.</p>

<p>In my RaZberry application I use a http call to retrieve this temp sensors. I do apply a regular expression to 'tame' the output:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">[0-9]{0,}[.]{0,1}[0-9]{0,2}</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at May 23, 2014 10:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886655"></a>
                                    <font class="smallfont"><p>Thanks Pieter<br/>
I did widen the field but didnt improve <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/><br/>
I have seen some information on using a http call but don't really understand it but if you could point me to a good forum article I can go through it <br/>
Would you be able step through how you set it up in open remote (commands, sensors, devices) I might be able to find my way from there</p>

<p>thx</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by smithforc at May 23, 2014 11:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886656"></a>
                                    <font class="smallfont"><p>Did you already look at <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Micasaverde+Vera" title="OpenRemote 2.0 How To - Micasaverde Vera">OpenRemote 2.0 How To &#45; Micasaverde Vera</a>?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at May 23, 2014 12:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886659"></a>
                                    <font class="smallfont"><p>yep <br/>
This is where I saw that the Fibaro FGBS-001 is supported and was wondering if the FGBS321 was supported yet (perhaps this is my problem ???)</p>

<p><img src="attachments/22886650/23036580.png" align="absmiddle" border="0"/></p>

<p>I didnt manage to get a result from implementing the GENERIC_STATUS solution. I also tried other commands and sensor combinations but no luck there either.</p>

<p>I've been reading many of the great docs on the site and forum but haven't been able to find a solution<br/>
Have you come across any good section that covers OpenRemote commands/sensors 101 to make sure my understanding is solid </p>

<p>I didn't pursue the HTTP part but if you feel the solution to my proble is in this doc I'll give it another pass</p>

<p>thanks again <br/>
any other thoughts welcome...</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by smithforc at May 23, 2014 14:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886661"></a>
                                    <font class="smallfont"><p>okay - been doing a little more reading and I think I have the command/sensor part understood</p>

<p>Step 1- I need to create a device that represents the Universal Binary Sensor (FBGS-321)<br/>
Step 2- Create 4 commands to read the 4 temp sensors connected to the device above<br/>
Step 3- Create 4 sensors to make them available in the UI openremote designer</p>

<p>three (quick ??) questions...<br/>
1) Do we know if the Fibaro FGBS-321 Universal Binary Sensor is supported by OpenRemote (I can see that the FGBS-001 is on the list, I think this is an earlier version)<br/>
2) Do I use a 'label' in the UI designer to actually display the temp value<br/>
3) when I create either the commands and the sensors is there anyway I can check that these are operational without embedding it in the UI ?</p>

<p>thanks again for all the help/advice</p>

<p>-f</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by smithforc at May 23, 2014 14:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886664"></a>
                                    <font class="smallfont"><p>I have been looking into this FGBS001 and FGBS321 issue. It hard to find the difference. On the Fibaro site FGBS321 is described as version 2.1-2.3. I got mine as FGBS001, but the enclosed leaflet said it was v2.1 - v2.3 as well. <br/>
I guess towards reading the temperatures they ought to be identical. </p>

<p>ad 2) Yes place a lable on the UI and use the sensor you created</p>

<p>ad 3) If the command you created is an http command, you can try the URL with FF, Chrome, whatever</p>

<p>PS: I have no knowledge about the Vera interface. I do use RaZberry to control my Z-Wave devices (not overly happy about that  yet)</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at May 23, 2014 15:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886668"></a>
                                    <font class="smallfont"><p>Thanks Pieter<br/>
Re the FGBS confusion<br/>
I got them from homebots.ie here in ireland and checked the packaging last night and no where does it say its a 321. I checked the leaflet and it states v 2.1-2.3 so I assume I have 321</p>

<p>I'll give it another go over the weekend and may even try the HTTP route as I can check that in a browser before invoking the designer. (it would be great to know it's reading the value as it'll verify another few steps)</p>

<p>I think the vera is transparent to all this but hopefully I'll verify this over the weekend</p>

<p>Thanks<br/>
-f</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by smithforc at May 23, 2014 15:56
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:39</font></td>
		    </tr>
	    </table>
    </body>
</html>