<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : HAI Integration</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : HAI Integration
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 09, 2012 by <font color="#0050B2">juha</font>.
				    </div>

				    <p>Hi all,</p>

<p>its been a little while since I last posted around here.&nbsp; Over the last week or two I have written a GPL v2&nbsp; JAVA library around the HAI (homeauto.com) omnilink spec.&nbsp; This alows full control over Lights, thermostats, temp/humidity sensors, audio, security, relays and more.&nbsp; One of my main motivations was to eventually&nbsp; integrate my system with openremote.&nbsp; Where does the project stand right now and what can I do to help?</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-951409"></a>
                                    <font class="smallfont"><p>Hi Dan,</p>

<p>Thanks for your offer to help. I'm not familiar with HAI so a brief explanation of what you have coded so far would help.</p>

<p>The good thing is that you've done it in Java and GPL so it should be easy to integrate with our (eventual) runtime.</p>

<p>It sounds like this would be something that would be deployed on a controller? At the moment we are working towards our first controller implementation which is a fairly stripped down box to host LIRC for A/V infrared integration. The hardware bill of materials and installation instructions are <a href="http://www.openremote.org/display/orb/OpenRemote+Reference+Implementation+-+Hardware+Bill+of+Materials" title="OpenRemote Reference Implementation - Hardware Bill of Materials">here</a>.</p>

<p>While initially we plan to use this (or something like this) to host LIRC, it does run Java (up to Java 6) on Voyage Linux distribution. So obviously you could use the ORB to host your HAI Java code as well. We've used the current runtime code for brief prototypes to integrate with X10 devices (using Wade Wassenberg's library) and some protocol translation experiments (IR &lt;&#45;&gt; X10 &lt;&#45;&gt; KNX, etc).</p>

<p>Please let us know a little bit about your code, and how you see it being used and we can go from there.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 15, 2009 12:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-951426"></a>
                                    <font class="smallfont"><p>HAI (<a href="http://www.homeauto.com" title="homeauto.com">www.homeauto.com</a>) manufactures home automation equipment.&nbsp; Thier flagship product is the omnipro II which is a controller board that talks with various lighting systems (upb, x10, zwave, hard wired), Thermostats and temp/humidity sensors (hai brand), external security systems (GE and others),&nbsp; Audio systems (Russound, Nuvo, HAI, zantech, and others) and other network, hardwire and serial attached systems.</p>


<p>The board itself acts as a security system with a few dozen hard wire contacts for zones, doorbells, fire and gas detectors, etc...&nbsp; Its programmable so you can have macros execute programs on events (when front door open turn on lights and music for example).&nbsp; You&nbsp; access your system through touch panels and other controls or you can talk through the ethernet or serial port via thier API.</p>

<p>Thier API spec is open and they are really good about supporting 3rd party development (rare in this industry).&nbsp; I have a iPhone app on the app store right now that they were really excited about. They are also fairly inexpensive, a starter system runs about 1500.</p>

<p>My setup is fairly large, my omni board is talking to 50&#43; UPB lights, 9 thermostats, 2 temperature and humidity sensors, 2 Russound CAA music systems (12 zones, 12 inupts) with XM and iPod integration, 6 video cameras, 3 smoke detectors, 2 CO2 detectors and about a dozen security zones (the board is also a standard alarm system with phone accesss so a alarm company monitors the security and fire).</p>

<p>My library lets you control all of this very simply. I would like to first help by supporting HAI integration into the project (just like crestron, x10, ect..), I could also help out in the iPhone development space since I have experience there.&nbsp;&nbsp; I'm a toal HA and Linux geek if you can't already tell <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Mar 15, 2009 15:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-951591"></a>
                                    <font class="smallfont"><p>Hi Dan,</p>

<p>Thanks for the description of the HAI system. I've been trying to get a demo up on our current UI builder for iPhone to show you, as I think that might be one of the integration points to your HAI library. We are currently able to configure UI input components for infrared, X10 and KNX. Adding HAI there seems like a possible way to approach this.</p>

<p>The UI components themselves generate an IP packet from the iPhone &#8211; either directly to an IP based gateway (e.g. KNX) or to an external IP enabled controller box (for example ALIX box, or a regular PC.. don't have anything ARM based yet) that translates the command to other media (serial for X10, USB for infrared for now).</p>

<p>So I am trying to get that code shared so we can start working on it.</p>

<p>Is your lib already shared somewhere so I can take a peek? Are you doing Ethernet-based integration or also serial?</p>

<p>Sorry for the lack of more concrete details, I am trying to get things in order so we can get started. HAI integration could be a great guinea pig for us to carve out APIs and integration points for other HA systems.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 22, 2009 03:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-951592"></a>
                                    <font class="smallfont"><p>Also, if possible, drop by on the <a href="http://host71120.123flashchat.com/openremote">chat</a> (I think I saw you there briefly earlier). Would be great for some quick back-and-forth with questions.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 22, 2009 03:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-951593"></a>
                                    <font class="smallfont"><blockquote>
<p>Is your lib already shared somewhere so I can take a peek? Are you doing Ethernet-based integration or also serial?</p></blockquote>

<p>Ok, light googling led me to <a href="http://digitaldan.com">http://digitaldan.com</a>... will take a read.</p>

<p>So there's an Obj-C version of your lib as well? That's interesting. Is it complete API? Partial (what % complete)?</p>

<p>I need to take a peek at the spec too &#8211; one idea would be to get a sufficient test battery in place for the Omnilink protocol so to make it possible for people to develop other parts of the system (UI for example) with reasonable confidence against mocked system where they lack the HAI hardware. Not sure how viable this is yet but something to ponder on.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 22, 2009 03:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-951594"></a>
                                    <font class="smallfont"><p>And for God's sake post a link to the code. <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Sorry I'm going through withdrawl though playing with the Expect libraries has made me much happier lately. <img class="emoticon" src="images/icons/emoticons/biggrin.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>PS: Another HAI Omni project: <a href="http://omnilink.sourceforge.net/">http://omnilink.sourceforge.net/</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by linuxha at Mar 22, 2009 03:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-951659"></a>
                                    <font class="smallfont"><p>Well that was a surprise&#33;&nbsp; I go for two years and finally decide to create this api and <a href="http://omnilink.sourceforge.net/">http://omnilink.sourceforge.net/</a>pops up 4 weeks ago.&nbsp; I know the author has had a binary only distribution of the 1.0 version floating around linuxha.com for a few years, but I didn't think the source was published.&nbsp; Well, it was still a lot of fun to write a library from an API spec and I'm glad I didn't have another java version to influence how I did it. &nbsp; I'm going to look at this other library and see if it makes sense to continue mine or contribute back to his.</p>

<p>Mine only does ethernet, I don't think the version of the spec I'm supporting works over serial (which may be why I continue my library).</p>

<p>My objective-c version is not complete, its an ugly hybrid of C and objective-C.&nbsp; Also, the iPhone is not the best device to be talking this protocol, I would have much rather had a SOAP or REST server to talk to and not deal with BSD sockets and all the Reachability/WIFI/GSM conditions you have to deal with when using BSD sockets on the iPhone.&nbsp; In fact UDP networking combined with thier Reachability API's are very broken, The CFnetworking group at Apple gave me some awful hacks to get around it.</p>

<p>The alpha version is on my site, <a href="http://digitaldan.com. ">http://digitaldan.com.&nbsp;</a>; I have fully complete 1.0 version with lots of cleanup almost ready, I'm just writing some sample programs that log events (thermos, units/lights, security, temps/humidity, etc...) to a database, its been great to flush out design issues and test the code.</p>

<p>Let me know where I can start integrating this.&nbsp; I was looking at writing a Spring app with something like jquery or sproutcore this weekend that connects to my sample application.&nbsp; I would much rather spend this time integrating it into a project that more people then just me can get some use out of. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Mar 23, 2009 18:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-951662"></a>
                                    <font class="smallfont"><p>Actually, his version seems fine but supports an older version of the protocol.&nbsp; I think I will stick with my version, its easier for me to understand and supports the more modern TCP based API specs. &nbsp; If we need a serial version for older units, this other library will come in handy. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Mar 23, 2009 19:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-1376518"></a>
                                    <font class="smallfont"><p>Hi Dan,</p>

<p>I'm a little late in the conversation, somehow I still need to find a better way to keep track of what's going on on the site. Anyway, I checked out both your site and the HAI site. I just happend to be in New Orleans in a few weeks and I think I will try to visit their offices. As you mention the fact that they have an SDK and seem fairly open is pretty rare but very positive. Looking at what is already supported from a HW perspective makes it an interesting product.</p>

<p>As per your discussion on how to communicate with the box from the iPhone, I think combining efforts would certainly be a good thing. Or GUI designer and iPhone app will focus on the ability to be flexible in layout, grouping etc. The ORB will take care of the interfacing with the HW, which could of course include the HAI.</p>

<p>So it would be great to be able to integrate your Java classes in the ORB and add modelling support for the HAI. We do have a few steps to make in the software, currently the focus is getting the 1.0 IR version out (this month) that will demo the full stack but still be very basic.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jlvh at Apr 09, 2009 12:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-1376519"></a>
                                    <font class="smallfont"><p>Hi Jean-Luc,</p>

<p>Thats sound great, just let me know where to start and how I can help. In the mean time I have written an axis2 web service around my library as sample app (yes, my house now has a wsdl file).  Its been a good test to flush out issues that would exist in OR. </p>

<p>If you visit HAI, see if you can talk to Aaron, he's the main developer on the .NET SDK and various other projects. I have only met him once at CES in Denver last year, but he has been good about answering issues on their dev support forums.   They are a windows shop (.net,vb,wince,MCE) which I think reflects who is typically writing applications in this space.  I my self am not a windows person, hence the Java library <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Can't wait to see what happens.  I also think a web interface is just as important as an iPhone app.  As much as I love my iPhone, it would be nice to have a rich UI I could run on a laptop, nokia 770, etc...  Thats my next project, to bolt on a web GUI to my web services layer.<br/>
D-</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Apr 09, 2009 16:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-12846798"></a>
                                    <font class="smallfont"><p>I have an HAI OmniPro II system and would welcome this addition to openremote. I use H@me2 on my iphone and it is excellent. But it would be nice to have one app that does it all.</p>

<p>I also have UPB lighting that is controlled through the OmniPro. There is an open source java library for UPB lighting at <a href="http://www.xpl4java.org/UPB4Java/">http://www.xpl4java.org/UPB4Java/</a> that I found through Neil Cherry's website.</p>

<p>I could test, if someone worked on adding either of these two to openremote.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Oct 20, 2010 20:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-12846944"></a>
                                    <font class="smallfont"><p>Dan, you still around?</p>

<p>I know you did a bunch of work around HAI integration already earlier this summer.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 27, 2010 14:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-16024040"></a>
                                    <font class="smallfont"><p>I noticed that LinuxMCE has added support for the HAI OmniPro systems.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Apr 23, 2011 14:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450391"></a>
                                    <font class="smallfont"><p>HAI was recently purchased by Leviton.
<a href="http://www.cepro.com/article/leviton_acquires_home_automation_inc/">http://www.cepro.com/article/leviton_acquires_home_automation_inc/</a></p>

<p>BTW still waiting for HAI support in OR. I am willing to test.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 08, 2012 05:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450415"></a>
                                    <font class="smallfont"><p>Hi Jack,</p>

<p>Saw the news as well &#8211; quite a big acquisition announcement, from what I've understood HAI has an excellent reputation in the market.</p>

<p>Unfortunately the effort to get HAI integration from the community has not worked out so far. So currently I don't know anyone who is actively working on it. But we can cross fingers that somebody from the community steps up or that there emerges sufficient commercial interest in HAI integration and we can pick up some work around it.</p>

<p>Let's see...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Sep 09, 2012 14:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450442"></a>
                                    <font class="smallfont"><p>@Dan  Is there a place where your HAI code can be downloaded from?</p>

<p>Thanks<br/>
Bruce</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by btrvalik at Sep 10, 2012 14:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450445"></a>
                                    <font class="smallfont"><p>DigitalDan's HAI code is available at google code
<a href="http://code.google.com/p/jomnilink/">http://code.google.com/p/jomnilink/</a></p>

<p>There is a second open source HAI java library called OmniLink by Martin LeClerc at SourceForge
<a href="http://sourceforge.net/projects/omnilink/">http://sourceforge.net/projects/omnilink/</a></p>

<p>There is a third implementation in C at <a href="http://gitorious.org/hai/">http://gitorious.org/hai/</a> Someone named Chuck Cannon started this project and it has been expanded by others.</p>

<p>Another implementation using xPL is available at <a href="http://www.iranger.com/page3/page3.html">http://www.iranger.com/page3/page3.html</a> by Greg Satz, I am not sure of the licencing.</p>

<p>Other resources for HAI security include the forums at:<br/>
www.cocoontech.com<br/>
www.homeauto.com<br/>
www.worthingtondistribution.com</p>

<p>(DigitalDan has been pretty quiet on the homeautomation websites for a couple of years. His iphone app H@me works well. His was the first on the market, but now HAI has their own app and Haiku is third one. It would be great if he got involved with OR again).</p>

<p>Bruce, if you can get his code to work, could you post a little how-to for beginners? I had it running a couple years ago in eclipse, but I am not a programmer and forgot what I did to get it running.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 10, 2012 16:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876618"></a>
                                    <font class="smallfont"><p>I would be up for trying to implement an omnipro protocol.  I have used the omnilink library, so I would try and use that.</p>

<p>I have not implemented a controller protocol yet.  Is there any old code of a partial omnipro protocol hanging around?  Was any ever checked in?</p>

<p>thanks,<br/>
craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 21, 2013 16:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876628"></a>
                                    <font class="smallfont"><p>There was nothing ever checked in for HAI. It would be very interesting to add this one. If you're willing to take a stab at it, don't hesitate to write here or email me directly at juha at openremote dot org to get started. I'm happy to help you navigate through the initial steps of building the project, etc.</p>

<p>Best regards,</p>

<p>&#8211; Juha</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Sep 21, 2013 21:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876633"></a>
                                    <font class="smallfont"><p>Hi guys, sorry its been so long since I last showed up here.  Interesting timing however, I recently found some time to tinker with my system and ended up writing a hai integration into openremote (just b/c i hadn't played with OR in a ling time). This was a month or two ago.  I think I actually got the entire protocol working and could control everything from lights to getting the track information from a hai connected russound system.  The control mapping is a little primitive, but it worked fairly well.  The one thing I wanted to get working was auto creating devices in the designer ( I have ALOT of devices), but this looked like it was only available in the pro product and I could not find the right package to do this with on sf.net. </p>

<p>In any case I would be happy to check in my code somewhere, it might take me a little while to find it <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>  If I could get some direction on how to auto generate those devices I could work on that as well.  </p>

<p>Anyone going to be at cedia this year?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 21, 2013 22:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876634"></a>
                                    <font class="smallfont"><p>Hi Juha,</p>

<p>I am thinking of first implementing sensors/switches for the security zones and lights at my house which are connected to the omnipro.</p>

<p>My only experience so far using Open Remote is via the Russound code to enable me to control audio zones.  When I used composer to create my Russound device, it was able to create the various switches and sensors because it knew the profile of the device.  The first thing that jumps out at me as a challenge is as you know the sensors/switches to do with lights/security is particular to each house.  </p>

<p>My questions.  </p>

<p>Are there any other protocols which somehow discover what exists for my particular implementation?  I feel reasonably confident I'll be able to code up a notification listener to watch the various sensors in the house...but how it will tie in to composer, and in turn not be hard coded is something I don't have a feel for.</p>

<p>thanks,<br/>
craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 21, 2013 22:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876635"></a>
                                    <font class="smallfont"><p>Hey Dan,</p>

<p>That's great news about you working on the HAI stuff.  I'd be very interested in taking a look at what you've written so far, and pitch in to get this going.  I've got a lot of java experience, but definitely just getting started on the omnipro stuff.  Pretty sure you could hand me off some tasks and I could be of some value.  </p>

<p>cheers,<br/>
craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 21, 2013 22:35
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876636"></a>
                                    <font class="smallfont"><p>That sounds great Craig. Right now I probably need two things to get going</p>

<p>1. Somewhere to check in my code, does OR have somewhere we could work on this in their sf.net repo? ( i'm digitaldan there as well) <br/>
2. What branch (theres are alot) should I be coding against. </p>

<p>I'll have to check whose branch I actually checked out, fortunately its all in its own package so I can just copy and past it into whatever.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 21, 2013 22:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876638"></a>
                                    <font class="smallfont"><p>I don't have write permissions to the repository yet.  </p>

<p>Here is a tutorial which describes how things work.</p>

<p><a href="http://www.openremote.org/display/Community/New+Contributors+Getting+Started" title="New Contributors Getting Started">New Contributors Getting Started</a></p>

<p>Seems you need to request write access, then you can commit your code into workspace/[your sf id]</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 21, 2013 23:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876641"></a>
                                    <font class="smallfont"><p>You can use the last tagged snapshot to branch from : <a href="https://svn.code.sf.net/p/openremote/code/tags/snapshot/Controller_2_1_0_FM_SNAPSHOT-20130617/">https://svn.code.sf.net/p/openremote/code/tags/snapshot/Controller_2_1_0_FM_SNAPSHOT-20130617/</a></p>

<p>For write access, you'll need to click through the contributor agreement: <a href="http://www.openremote.org/display/project/Contributor+License+Agreement+Signup" title="Contributor License Agreement Signup">Contributor License Agreement Signup</a></p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Sep 22, 2013 00:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876642"></a>
                                    <font class="smallfont"><p>Pierre will be at CEDIA booth 4044 (QNAP, Inc.) on the 28th, leave him a message if you want to chat.</p>

<p>Auto-generate &#8211; needs some rework before we can release to open. It's on the list to-do but nothing available yet. So first priority would be to work the protocol integration into the controller.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Sep 22, 2013 00:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876644"></a>
                                    <font class="smallfont"><p>Thanks Juha, I just completed the application.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 22, 2013 02:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876645"></a>
                                    <font class="smallfont"><p>Good to know, i'll hold off on the auto generate stuff then.  </p>

<p>I was planning on spending a morning there in a strictly spectator role (aka drool over A/V stuff), I work a few blocks away from the convention center.  I'll try and say hi if I'm there. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 22, 2013 02:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876651"></a>
                                    <font class="smallfont"><p>Thanks Dan,</p>

<p>I've created a workspace for you which is available at <a href="https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/">https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/</a></p>

<p>And an initial controller branch based on the <a href="https://svn.code.sf.net/p/openremote/code/tags/snapshot/Controller_2_1_0_FM_SNAPSHOT-20130617/">https://svn.code.sf.net/p/openremote/code/tags/snapshot/Controller_2_1_0_FM_SNAPSHOT-20130617/</a> tag which is available at <a href="https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/Controller_2_1_0_FM_20130617_HAI/">https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/Controller_2_1_0_FM_20130617_HAI/</a></p>

<p>If you have further questions with regards to how to use SVN, or how the SVN is organized, compatibility of licenses of third party libraries you need to add, etc. please don't hesitate to ask first.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Sep 22, 2013 06:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876669"></a>
                                    <font class="smallfont"><p>Awesome. I also have a protocol file (protocols/protocols/omnilink.xml) for the designer, where should I put that?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 22, 2013 14:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876671"></a>
                                    <font class="smallfont"><p>Copy it here and I can deploy it to staging server.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Sep 22, 2013 15:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876689"></a>
                                    <font class="smallfont"><p>I just pushed my changes upstream.  The protocol file is located in the controller project</p>

<p><a href="https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/Controller_2_1_0_FM_20130617_HAI/omnilink.xml">https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/Controller_2_1_0_FM_20130617_HAI/omnilink.xml</a></p>

<p>In the designer hai objects have 3 properties: A Command, parameter 1 and Parameter 2, these correspond to the API that hai published (omlink protocol).</p>

<p>The command is either something like SENSOR_UNIT_POWER, which is a sensor command, or CMD_UNIT_ON which is a object command.</p>

<p>Parameter 1 is optional, so for example a CMD_UNIT_ON would not need this value, but CMD_AUDIO_ZONE_SET_SOURCE would set the audio source to whatever value was here</p>

<p>Paramter 2 is used mostly to specify the object number, so for CMD_UNIT_ON this would be the unit/light to turn on , for the CMD_AUDIO_ZONE_SET_SOURCE example above this would be the zone to set the source to</p>

<p>Again p1 and p2 are ordered just as they are in the protocol, it would make more sense to me for them to be swapped (object number being param1 and optional source/level/etc being param2) but hey, thats what we got <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>The config for an hai system is in the controllers config.properties, fill out host,port,key1,key2 for you system.</p>

<p>The run loop needs work, its not very smart about errors or reloading.</p>


</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 22, 2013 18:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876691"></a>
                                    <font class="smallfont"><p>one more thing, going back to the auto device discovery topic, I noticed there is a DiscoveredDeviceDTO class, is there anything working here at all?  One of the reasons I stopped working on this a few months ago was the amount of work it was going to take to import my system through the designer.  Is there something else I could use to populate the commands and sensors with? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 22, 2013 18:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876693"></a>
                                    <font class="smallfont"><p>I'll add a few more things.</p>

<p>This implementation supports sliders, so when using CMD_UNIT_SET for a light level, or CMD_AUDIO_ZONE_SET_VOLUME you would leave parameter 1 blank and the slider's value would be used.  If you did want to map a switch and have it set a specific level (like a scene switch), then put that value in parameter 1 instead. If both are sent (parameter 1 and the slider value), parameter 1 takes precedent I believe.</p>

<p>It also supports realtime updating, so lights, aux sensors, thermostats, audio zones, security zones, etc.. should all push updates as they happen, we do not poll the hai system for these. </p>

<p>I did not implement hai messages and a few other small things, only b/c I don't use them at my house <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 22, 2013 18:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876746"></a>
                                    <font class="smallfont"><p>Hi Dan,</p>

<p>I've been able to build and run your code.</p>

<p>However, I'm having a heck of a time setting up this structure in eclipse.  As of now, I have to run ant from command line to compile, switch to the output directory, add execute permissions on the openremote.sh, and then I can run it...but I haven't hacked in to debug it because I'm hoping there is a more straightforward way of doing this.</p>

<p>Are you running the controller right from eclipse?  Do you have any hints which could make this a little less painful?  </p>

<p>thanks,<br/>
craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 22, 2013 22:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876769"></a>
                                    <font class="smallfont"><p>So not sure if this a great way of doing it, but I compile with ant in the main controller directory (ant with no args).  This creates a "output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17/" directory.  From there i'm rysyncing "output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17/webapps/controller" to a plain jain tomcat 7 server on another machine (a linux server).  It just seems to work as long as you have your config.properties setup right.  If your credentials are wrong you'll get a "could not connect" message in catalina.out and the rest of the controller will not load up (no more messages in the log file).  </p>

<p>The other way I ran it was to edit the code in eclipse, switch to a terminal, run ant, cd into output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17/bin, execute "./openremote.sh run" .   You will need to chmod +x that sh file first. If you are using the builder remember to import omnilink.xml into the protocols directory.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 22, 2013 23:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876786"></a>
                                    <font class="smallfont"><p>Ive ended up adding a context entry into the server.xml within my own tomcat which points to that output/OpenRemote.../webapps/controller directory, and then I can start and stop tomcat normally.  It works ok I guess.</p>

<p>Next up I'll get the designer working here.  I'm presuming I can pretty easily point the controller over to my own designer to allow some work on the omnilink protocol.</p>

<p>Once I get a couple things wired up, I think I'll try and create a script which interrogates the op2 and comes up with a default setup.  Obviously won't handle new devices, etc...but would be a good start.  You think that would be a good first step?  Or does something else jump out at you?</p>

<p>btw...I saw your question re: DiscoveredDeviceDTO.  If you are interested I found the source, it is at (I haven't had a chance to investigate yet):
<a href="http://sourceforge.net/p/openremote/code/HEAD/tree/workspace/ebariaux/ORCommons/">http://sourceforge.net/p/openremote/code/HEAD/tree/workspace/ebariaux/ORCommons/</a></p>

<p>Thanks for your work Dan.  It'll be great to hook into the op2 with open remote.</p>

<p>cheers,<br/>
craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 23, 2013 03:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876789"></a>
                                    <font class="smallfont"><p>Currently I'm creating a zip file in the designer and uploading to the controller, I don't have it pulling from the designer directly. But right now most things are working well.</p>

<p>Thanks for looking for that repo, if I remember correctly thats only half of it, I think there was some other discovery service in  a pro version of the designer that was needed, and I don't think the source is available.  I'm trying to remember months ago, so this may have changed (and my memory is crap) </p>

<p>Where I got discouraged was that for every light on my system i need to create in the web designer 4 commands (on,off,sensor,level), a sensor, a slider, and a switch.  Now multiple that times 80, then add in 9 thermostats, 20+ security zones, 12 audio zones, 6 audio sources and you have a huge amount of stuff that should be auto generated (maybe 1000 things?).</p>

<p>Let me know how it goes, I'm happy to help.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 23, 2013 04:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876790"></a>
                                    <font class="smallfont"><p>oh, and If you have thought of a good way to inject devices into the designer, the code I checked in has all the right stuff to auto add those.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 23, 2013 04:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876814"></a>
                                    <font class="smallfont"><p>Dan,<br/>
I have been watching your posts for the last several days and am excited about the prospect of having HAI support on OR. <br/>
I have an OmniPro II with UPB lighting and a couple of thermostats. <br/>
I am willing to test, but I am not sure how to grab and compile your source code. Not a programmer, but I speak ubuntu and windows.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 23, 2013 16:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876897"></a>
                                    <font class="smallfont"><p>Hey Jack, let me know if you run into issues. I'm hoping to find some time this weekend to come up with some way to import devices automatically. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 25, 2013 04:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876932"></a>
                                    <font class="smallfont"><p>Hey Dan,</p>

<p>Do you know which version of the designer you are using?  I'm having trouble getting it to save stuff into my local beehive.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 25, 2013 17:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876938"></a>
                                    <font class="smallfont"><p>Hey Craig, I'm not sure which version it is, I installed it back in june.  I don't think there was anything special about it, as long as the omnilink.xml file is in the protocols directory then I think a stock designer should work. I didn't make any modification to it (yet).   What is the error you are getting?  If you export it, can you upload it to a controller?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 25, 2013 20:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877098"></a>
                                    <font class="smallfont"><p>Hey Dan,</p>

<p>Still struggling trying to save my composer file after I add a panel with a 500 error from the gui.  I'm going to try using an older gwt, I have 2.5.1 on my computer right now.</p>

<p>Largely unrelated question, but does the jomnilink library support retrieval and setting of the hlc network id and password settings?  I got upstart working, and decided in my wisdom to change the network id and password to ensure another house on the grid wasn't effecting some problem lights...well now I can't seem to get the op2 to talk hlc to my lights, so i am trying to determine what network id/pass it is set at...i tried default 1/1234 but that doesn't seem to do it.  </p>

<p>Or, can the jomnilink retrieve the installer code?</p>

<p>thanks,<br/>
craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 28, 2013 19:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877101"></a>
                                    <font class="smallfont"><p>Can you past the stack trace generated by the 500?  Is there anymore info in the catalina.out or other log files?</p>

<p>Unfortunately HAI does not document those parts of the api, so I don't know how to change them via an IP.  I believe all of that can be changed through a keypad or touch panel though.  Look under the installer menu in setup.</p>

<p>I have implemented auto device discovery from the designer, I just got lights and thermostats working.  I'm hoping to knock out the rest this weekend.  Its very cool how it auto generates all the commands, switches, sliders and sensors for you.   For units (lights) it even understand HLC and ViziaRF rooms and names everything correctly.  </p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 28, 2013 21:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877102"></a>
                                    <font class="smallfont"><p>I don't get a stack trace because I believe it is in the compiled gwt javascript, and it doesn't look to me like the gwt code has been tied in to the logging.  </p>

<p>Are you using a local beehive and mysql database?  </p>

<p>That sounds very cool about the auto device discovery.  Can't wait to give it a try.  When I get my environment set up I'll touch base with you.</p>

<p>craig</p>

<p>ps....unfortunately I don't have the installer code, it must have been changed from the default by the installer, and I am the second owner of the house.  I just ordered pc access dealer edition, I'll be able to get it from there.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 28, 2013 21:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877105"></a>
                                    <font class="smallfont"><p>So, I've got OR controller running on a raspberry pi. I have an iphone and ipad with the app loaded.</p>

<p>If I want to try your updates before the next official release, I'd have to download and compile the code and replace the controller on my Rpi. I am familiar with configure, make, make install commands to compile source code in linux. But I have not done this in Java.</p>

<p>I think step 1 would be:<br/>
$ svn co <a href="https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/Controller_2_1_0_FM_20130617_HAI/">https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/Controller_2_1_0_FM_20130617_HAI/</a></p>

<p>Step 2<br/>
Should I load it into eclipse? Or can I run $javac command</p>

<p>(Maybe the easiest thing would be to have you mail me or post a compressed copy of your controller.) BTW, I am a fan of your H@me app.<br/>
Jack</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 28, 2013 22:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877107"></a>
                                    <font class="smallfont"><p>I am using a local mysql database, I don't think I made any modifications to the designer up until this weekend, just stock from svn.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 28, 2013 22:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877108"></a>
                                    <font class="smallfont"><p>Thanks Jack!</p>

<p>Step 1 is correct.  Step 2 is to make sure ant and java 1.6 are installed and run "ant" from the base of the controller dir. This will produce a runnable java server in the outputs directory, you will need to adjust config.properties for your system.  You will also need your own designer server with the new omnilink.xml protocol file. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 28, 2013 22:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877128"></a>
                                    <font class="smallfont"><p>Dan,</p>

<p>Do you know which version of gwt you have installed when you are doing the build for designer?</p>

<p>thanks,<br/>
craig</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 29, 2013 00:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877140"></a>
                                    <font class="smallfont"><p>Hi Dan,</p>

<p>Ok, I have got it all working, and hooked up a sensor to a security zone.  Cool stuff.</p>

<p>I figured I would ask you if there is something you would like me to tackle?  I have a crap load of java experience and should be able to pull off most tasks.  Maybe give me something you're just not that motivated to look into.</p>

<p>Also, would you be able to push up the changes you've made this weekend so I don't have to manually create the objects?</p>

<p>cheers,<br/>
craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 29, 2013 15:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877142"></a>
                                    <font class="smallfont"><p>Thats great, I'm hoping to have a crude version to upload this afternoon.  I'm just tracking down a duplicate device issue in the DB and a bug in the GWT gui.  Right now I have units, thermos, audio zones, audio sources and buttons working.  Zones and auxs are next on the list.  Once I get this up we can make a list of things we want to tackle and get working.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 29, 2013 16:32
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877158"></a>
                                    <font class="smallfont"><p>well the good news is I finished up my changes.</p>

<p>The bad new is that I checked them in to the general snapshot branch rather then my own space.  </p>

<p>What a noob move. </p>


<p>I have contacted Juha to help fix my stupid stupid mistake.  AS soon as it gets fixed I will push my changes into my own workspace. </p>

<p>I just had too many terminal windows up and ended up doing a commit in the wrong one, uhg.....</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 29, 2013 23:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877160"></a>
                                    <font class="smallfont"><p>The tag should now be restored, please review <a href="http://lists.openremote.org/pipermail/openremote-svn/2013-September/009189.html">R9149</a> in SVN.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Sep 29, 2013 23:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877161"></a>
                                    <font class="smallfont"><p>Thanks so much!</p>

<p>Ok so now that I have checked into the right places..... <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>The designer now has a new menu to import omnilink devices.  After entering your credentials (which are not saved or written to any log file), the designer will pull all of you devices and create the right commands and components.  There's a few todo's however.</p>

<p>1. When the import is done, the import window looks a bit funny and nothing has seemed to happen, just refresh the page. This due to me not ever having used GWT.</p>

<p>2. Zones are there, but not very useful. Their output format is not easily digestible by sensors and I will need to massage the output for them.  Also I will add arm and disarm commands as well.</p>

<p>3. I was trying to avoid re-importing devices that were already there.  I was trying to do this by adding DeviceAttr's to the device so next time you pull them I can ignore those that exists.  Unfortunately I can't get these to persist in the db when I save the device. Is there another way of saving these?  </p>

<p>4. This is very volatile, so I would not  created complex gui's yet until it settles down.</p>

<p>The cool thing is that it creates ALL of the things you might need for a whole system. My system alone has a ton:</p>

<p>mysql&gt; select count<img class="emoticon" src="images/icons/emoticons/star_yellow.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> from device;</p>

<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'>      169 </td>
</tr>
</tbody></table>


<p>mysql&gt; select count<img class="emoticon" src="images/icons/emoticons/star_yellow.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> from device_command;</p>

<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'>     1562 </td>
</tr>
</tbody></table>


<p>mysql&gt; select count<img class="emoticon" src="images/icons/emoticons/star_yellow.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> from sensor;</p>

<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'>      353 </td>
</tr>
</tbody></table>


<p>mysql&gt; select count<img class="emoticon" src="images/icons/emoticons/star_yellow.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> from slider;</p>

<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'>      172 </td>
</tr>
</tbody></table>


<p>mysql&gt; select count<img class="emoticon" src="images/icons/emoticons/star_yellow.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> from range_sensor;</p>

<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'>      105 </td>
</tr>
</tbody></table>


<p>mysql&gt; select count<img class="emoticon" src="images/icons/emoticons/star_yellow.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> from switch;</p>

<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'>      121 </td>
</tr>
</tbody></table>



<p>For some reason I could not delete my devices after an import (for debugging), a quick way of doing this is to delete them straight from the DB like this (careful this deletes everything):</p>

<p>delete from command_ref_item;<br/>
delete from device_command ;<br/>
delete from sensor_ref_item;<br/>
delete from slider;<br/>
delete from switch;<br/>
delete from range_sensor;<br/>
delete from sensor;<br/>
delete from protocol;<br/>
delete from device;</p>


</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 30, 2013 00:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877164"></a>
                                    <font class="smallfont"><p>oh, you can get the designer here:</p>

<p><a href="https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/Designer_2_14_0_SNAPSHOT-2013-05-11-HAI">https://svn.code.sf.net/p/openremote/code/workspace/digitaldan/Designer_2_14_0_SNAPSHOT-2013-05-11-HAI</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 30, 2013 00:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877165"></a>
                                    <font class="smallfont"><p>very cool.  I'm in the process of checking it out and I'll see if I can give it a test myself.</p>

<p>craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 30, 2013 00:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877167"></a>
                                    <font class="smallfont"><p>Hi Dan,</p>

<p>It is all working here.</p>

<p>I'll poke around a bit.</p>

<p>Just let me know if there are parts you'd like me to address.  I just have lights and security zones hooked up at my place.  No thermos, no cameras, and my home audio is russound, but not connected to op2.  I have connected the russound to my openremote controller via serial so I can change it from openremote, just not hai.</p>

<p>cheers,<br/>
craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 30, 2013 01:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877172"></a>
                                    <font class="smallfont"><p>Dan,<br/>
I downloaded and compiled your controller code. I am having trouble getting it to run. Here is the output of my terminal. Do you have any suggestions? Thanks,<br/>
Jack</p>

<div style="max-width:800px;"><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>jack@jack-Inspiron-5520:~/Controller_2_1_0_FM_20130617_HAI/output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17/bin$ ./openremote.sh run
Using CATALINA_BASE:   /home/jack/Controller_2_1_0_FM_20130617_HAI/output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17
Using CATALINA_HOME:   /home/jack/Controller_2_1_0_FM_20130617_HAI/output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17
Using CATALINA_TMPDIR: /home/jack/Controller_2_1_0_FM_20130617_HAI/output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17/temp
Using JRE_HOME:       /usr/java/jdk1.6.0_45

---- Logging ----------------------------------------------------------

 Console (stdout) threshold [CONTROLLER_CONSOLE_THRESHOLD]: INFO

 System logs:

   - Controller startup log [CONTROLLER_STARTUP_LOG_LEVEL]: DEBUG
     

-----------------------------------------------------------------------
Sep 29, 2013 9:27:13 PM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /home/jack/Controller_2_1_0_FM_20130617_HAI/output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17/webapps/controller/WEB-INF/lib/native
Sep 29, 2013 9:27:13 PM org.apache.coyote.http11.Http11Protocol init
INFO: Initializing Coyote HTTP/1.1 on http-8080
Sep 29, 2013 9:27:13 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 954 ms
Sep 29, 2013 9:27:13 PM org.apache.catalina.core.StandardService start
INFO: Starting service Catalina
Sep 29, 2013 9:27:13 PM org.apache.catalina.core.StandardEngine start
INFO: Starting Servlet Engine: Apache Tomcat/6.0.18
Sep 29, 2013 9:27:13 PM org.apache.catalina.startup.HostConfig deployWAR
INFO: Deploying web application archive webconsole.war
Sep 29, 2013 9:27:15 PM org.openremote.controller.bootstrap.Startup redirectJULtoLog4j
INFO: Initialized JUL to LOG4J Redirector.
ERROR [Thread-3]: 
java.net.ConnectException: Connection timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at java.net.Socket.&lt;init&gt;(Socket.java:375)
	at java.net.Socket.&lt;init&gt;(Socket.java:189)
	at com.digitaldan.jomnilinkII.Connection.&lt;init&gt;(Connection.java:131)
	at org.openremote.controller.protocol.omnilink.OmnilinkClient.run(OmnilinkClient.java:105)
ERROR [Thread-3]: 
java.net.ConnectException: Connection timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at java.net.Socket.&lt;init&gt;(Socket.java:375)
	at java.net.Socket.&lt;init&gt;(Socket.java:189)
	at com.digitaldan.jomnilinkII.Connection.&lt;init&gt;(Connection.java:131)
	at org.openremote.controller.protocol.omnilink.OmnilinkClient.run(OmnilinkClient.java:105)
</pre>
</div></div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 30, 2013 05:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877173"></a>
                                    <font class="smallfont"><p>Hi Jack,</p>

<p>Did you modify the config/config.properties file  specifically the omnilink section.  This is how you specify where you op2 can be found along with keys</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 30, 2013 07:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877212"></a>
                                    <font class="smallfont"><p>Hi Craig,IP<br/>
Yes, I just double checked. My IP, port and security keys are correct. I can connect with snaplink and PC access with same settings.</p>

<p>I ran ant from my controller file. Then in the outputs file there were 2 controller files, 1 compressed, 1 uncompressed. I used the one that was already compressed. Is that correct?</p>

<p>BTW I have only built the controller so far. I wanted to get that working before I tried to build the Designer.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 30, 2013 16:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877213"></a>
                                    <font class="smallfont"><p>Hi Jack,</p>

<p>I run the controller by putting a symbolic link in my webapps folder of tomcat back to the controller output folder, to the exploded version.  </p>

<p>for example:<br/>
controller -&gt; /Users/craigh/Documents/workspace-omnilink/Controller_2_1_0_FM_20130617_HAI/output/OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17/webapps/controller</p>

<p>ASAIK the zip file just has to be unzipped and then can be run because it contains its own tomcat.</p>

<p>Try using a symbolic link as above and then go deep into that controller app structure to the WEB-INF/classes directory and cat the config.properties file to double check your specific config got in there.</p>

<p>Looking at the stack trace, it is dieing on the attempt to create the socket to the OP2.</p>


</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 30, 2013 16:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877214"></a>
                                    <font class="smallfont"><p>Is the controller inside your network, on the same lan as the op2?  The line that is throwing that error is "socket = new Socket(address,port);" , so java can not connect to that address and port.  If you want to email the the config file (just remove your security keys) I will take a look (dan at digitaldan com).</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 30, 2013 16:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877217"></a>
                                    <font class="smallfont"><p>One more question, what firmware is running on your op2?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 30, 2013 17:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877218"></a>
                                    <font class="smallfont"><p>Dan,<br/>
My OP2 is running firmware 3.4. It is one of the older OP2s, where you have to purchase a new chip to upgrade the firmware. (The newer units can be flash upgraded by the user).</p>

<p>I think Craig is onto something with the symbolic links. Originally I entered my IP, port, key in a folder in ~/Controller/config/config.properties. Then I also entered them in ~/Controller/output/Openremote/webapps/contoller/config. It seemed to get beyond the original message, but still did not run correctly.</p>

<p>I'll play around with symbolic links and see if I can get it running</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 30, 2013 18:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877219"></a>
                                    <font class="smallfont"><p>Jack,</p>

<p>You really only want to enter them into the config/config.properties file, then do an ant build.  Then confirm they show up over in that output...WEB-INF/classes directory.  If your config settings aren't showing up in the output ... directory you are having build issues.  </p>

<p>One other thing you might try is clean out the controller directory which is in the tomcat/work/Catalina/localhost...next time you start tomcat that should get recreated.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 30, 2013 18:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877221"></a>
                                    <font class="smallfont"><p>Craig,<br/>
That did it! The key is to enter IP, port, and key BEFORE running ant. I didn't have to do any sym links.</p>

<p>Now I have my Controller server running. But I am not sure how to get the new HAI funcionality.</p>

<p>I guess the next step is to build the designer from source, and add gwt to the build. Any hints on how to do this?</p>

<p>Thank you for your help.<br/>
Jack</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 30, 2013 18:35
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877222"></a>
                                    <font class="smallfont"><p>You now have a successful connection to your controller.  Once you upload a design from the designer, the controller will subscribe to the correct devices and start spitting out log messages.  Make sure to use the designer in my repo. I find its easiest to download the design as a zip file and upload it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 30, 2013 18:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877223"></a>
                                    <font class="smallfont"><p>I have only had luck with using gwt 2.4.0...so make sure you download that version, and update your build.properties before you build the designer.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 30, 2013 18:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877225"></a>
                                    <font class="smallfont"><p>So I downloaded your Designer code, downloaded gwt, pointed build.properties to gwt 2.4.0 and ran ant.</p>

<p>The output folder is empty and I can't find any .zip files. Did I miss a step? Isn't this supposed to generate .zip to upload to my online account?</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 30, 2013 19:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877230"></a>
                                    <font class="smallfont"><p>the designer project generates a war directory.  This needs to be copied over to a tomcat server's webapps directory and renamed "designer". You will also need a mysql db running with the beehive schema at:</p>

<p><a href="https://svn.code.sf.net/p/openremote/code/tags/snapshot/Beehive_1_0_0_SNAPSHOT20090401/sql/import.sql">https://svn.code.sf.net/p/openremote/code/tags/snapshot/Beehive_1_0_0_SNAPSHOT20090401/sql/import.sql</a></p>

<p>and configure it correctly with the right username and password.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Sep 30, 2013 19:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877233"></a>
                                    <font class="smallfont"><p>Jack,</p>

<p>I added these lines to my tomcat_home/config/server.xml file to point to the designer so didn't have to make any file moves after a build.</p>

<p>&lt;Context path="/designer" docBase="/Users/craigh/Documents/workspace-omnilink/Designer_2_14_0_SNAPSHOT-2013-05-11-HAI/output/Designer-2.14.0_SNAPSHOT-2013-05-11-2013-05-11-Markab.war" debug="1"<br/>
                       reloadable="true" crossContext="true"&gt;<br/>
		&lt;/Context&gt;   <br/>
&lt;Context path="/beehive" docBase="/Users/craigh/Documents/workspace-openremote2/Beehive_3_0_0_Beta1/output/beehive.war" debug="1"<br/>
                       reloadable="true" crossContext="true"&gt;<br/>
		&lt;/Context&gt;</p>

<p>The first one points to the output war of the designer...which upon reading your and Dan's prior messages may be different than what you are getting.  try running ant war instead of just ant...might get you the output directory.  The second one is for beehive, which I thought I required, and Dan did mention the beehive database.  Looks like Dan has this working without beehive...that would be easier.</p>

<p>Put that context entry within the following area of the config/server.xml file.  And make sure you change the path to match your environment.<br/>
&lt;Host name="localhost"  appBase="webapps"<br/>
            unpackWARs="true" autoDeploy="true"&gt;</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Sep 30, 2013 20:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877236"></a>
                                    <font class="smallfont"><p>Dan and Craig,<br/>
Thank you for your help. I've never set up mysql or tomcat servers. I am going to take a little break at this point.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Sep 30, 2013 21:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877281"></a>
                                    <font class="smallfont"><p>Dan or Craig,<br/>
I am trying to teach myself about mysql and apache tomcat. It will take awhile.</p>

<p>I have a question. The controller file runs on port 8080. Tomcat default is to run on 8080. Now that I have tomcat running, I can't reach controller at localhost:8080/controller anymore. Should I change the port on one of these or just not run them on the same computer? <br/>
I think I need to recheck all my configuration files and rerun antwar, too.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Oct 02, 2013 00:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877284"></a>
                                    <font class="smallfont"><p>You'll need to change the port(s). You can find help here: <a href="http://www.openremote.org/display/docs/Change+Controller+Default+Port" title="Change Controller Default Port">Change Controller Default Port</a>. If you're changing ports on stand-alone Tomcat only, then just do the XML change part.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 02, 2013 00:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877285"></a>
                                    <font class="smallfont"><p>I have controller, designer and beehive running on the same instance of tomcat.  I don't use the tomcat which is bundled with the controller, which relates to the discussion we had earlier about putting the war in the webapps of a tomcat instance.  </p>

<p>As for mysql...what you need to figure out is how to install it, which should be similar to other programs you have done with linux.  There is a sql script in the beehive code which will populate your database, I believe Dan mentioned it earlier.  You really just need to pipe this file into the mysql.  You could google pipe sql file into mysql...i think it's something like mysql -u root &lt;database name&gt; &lt; &lt;sql file&gt;.sql</p>

<p>I think you'll need beehive running too, did you Dan? </p>

<p>cheers,<br/>
craig</p>

<p>ps.  This will most likely frustrate you as these can be rather finicky apps to get going...but you're getting pretty close.  Good luck.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Oct 02, 2013 01:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877286"></a>
                                    <font class="smallfont"><p>Hey jack are you running this on linux?  If so what distro and version?  If you are on linux then I think getting this running will not be too difficult.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Oct 02, 2013 02:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877289"></a>
                                    <font class="smallfont"><p>I created a little video of what the designer creates for my system as a demostration of how we import hai deivces into openremote.</p>

<p><a href="http://youtu.be/xJOFWXomEMk">http://youtu.be/xJOFWXomEMk</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Oct 02, 2013 03:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877290"></a>
                                    <font class="smallfont"><p>Dan,<br/>
Yes, I am running Ubuntu 13.04. Nice Youtube video!</p>

<p>I have tomcat running and localhost:8080 gives a screen saying it is installed correctly. Also, localhost:8080/controller now gives the controller screen (after I added the symlinks that Craig recommended). But localhost:8080/designer is not loading(I tried moving the .war file to /var/lib/tomcat7/webapps and using Craig's server.xml context path).</p>

<p>I also installed mysql. I need to read some more on how to use mysql.<br/>
Jack</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Oct 02, 2013 05:05
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877361"></a>
                                    <font class="smallfont"><p>I am getting closer. I have been redoing all the config files. Now at localhost:8080/designer, I get a designer login page. My username/password for the online (Rosemary) Designer do not work. </p>

<p>When I click "create new account" I get error:</p>

<p>HTTP Status 500 - /register.jsp (line: 135, column: 97) The JSP specification requires that an attribute name is preceded by whitespace</p>

<p>When I click forgot password I get:<br/>
HTTP Status 500 - /forget.jsp (line: 101, column: 96) The JSP specification requires that an attribute name is preceded by whitespace</p>

<p>Any thoughts?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Oct 02, 2013 17:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877362"></a>
                                    <font class="smallfont"><p>Yes, remove line 135, it won't hurt anything.  I seem to remember that after entering my user name, it responded back that it was already taken.  I think there was an issue sending the confirmation email or something so I manually went into the database and ran this query "update user set valid = true;", which will set this bit for any user in the table.  after that I could log in.  </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Oct 02, 2013 17:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877364"></a>
                                    <font class="smallfont"><p>I deleted line 135 and now get to the create new account page. It says that user name is taken.</p>

<p>So where should I add the "update user set valid = true;"? In register.jsp?</p>

<p>Thank you</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Oct 02, 2013 19:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877366"></a>
                                    <font class="smallfont"><p>this is in the database, so in a terminal window on you ubuntu box you would connect to your database (mine is called beehive_3_0_0_alpha5, and my user is root) like this:</p>

<p>mysql -u root -p beehive_3_0_0_alpha5</p>

<p>enter your root password (or whatever user password you are connecting as), at the prompt type in update user set valid = true;", so it should look like this</p>

<p>mysql&gt; update user set valid = true;<br/>
Query OK, 0 rows affected (0.00 sec)<br/>
Rows matched: 1  Changed: 0  Warnings: 0</p>

<p>mysql&gt; </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Oct 02, 2013 19:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22877926"></a>
                                    <font class="smallfont"><p>Just want to give a quick update.  I have been testing the integration internally and been making tweaks here and there to both the controller and Designer code bases.  I will push my changes this weekend up to the OR repos.</p>

<p>One thing I have run into is that with larger installations (like mine), the controller and designer really struggle in parsing the large controller xml file that is generated.  After a couple of stack traces it seems to be in the in the xpath parsing, this is line 201 in AbstractModelBuilder.java: List elements = xpath.selectNodes(doc);</p>

<p>This can take more then a minute on a decently powered system, on a Raspberry Pi running 1.8 jdk preview it can take 5 to 10 mins.  Not sure if there is anything that can be done.</p>

<p>Also the controller.xml file is around a meg for me, sometimes the controller prematurely tries to load this file and parse it before its completely written to disk resulting in a xml error that some element does not have a closing tag. I believe it will try again after a few seconds and then succeeds. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Oct 10, 2013 16:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22878234"></a>
                                    <font class="smallfont"><p>Dan, </p>

<p>Thanks for the update.</p>

<p>This one:</p>

<blockquote>
<p>Also the controller.xml file is around a meg for me, sometimes the controller prematurely tries to load this file and parse it before its completely written to disk resulting in a xml error that some element does not have a closing tag. I believe it will try again after a few seconds and then succeeds.</p></blockquote>

<p>I recall seeing something there in the code that looked a bit suspicious to me in terms of stream usage, that I suspected could cause this type of symptoms. I would have to go back and review it again. Never had the time to put it through tests that would exercise it with multi-megabyte configuration files. </p>

<p>Let me know if there's something you discover there that's consistent in causing issues. Otherwise I'll need at some point prepare unit tests with very large files to see if I can reproduce this reliably.</p>

<p>(didn't look at the last commits yet to see if something around this was included)</p>

<p>&#8211; Juha</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 15, 2013 17:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22878400"></a>
                                    <font class="smallfont"><p>Hey guys this is awesome, I read through the thread and it looks like what I've been looking for. I am in the process of designing a system for the house we are building. I have been interested in open remote to integrate systems and use wall mounted ipad minis to control. Using HAI Omni to control lighting security and climate control. How is the code coming for integration? I know you guys are still in the dev and testing stages. I will keep an eye on the thread and monitor your progress, if I decide to go the hai route, and get the system and begin setting up I would love to help test the system!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Oct 18, 2013 03:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879233"></a>
                                    <font class="smallfont"><p>I'm going to work on this more this weekend, I have been running it for the last week or two and not encountered any issues.</p>

<p> I do have a question about the import window in GWT, once my devices are all loaded in the system, my forms onSuccess callback gets called.  The behavior I want is for the designer to reload the devices from the database and then hide the import windows.  Right now neither of these things are happening.  I have a rather anemic implementation below, I don't really understand what the correct behavior should be. </p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
  <span class="code-keyword">public</span> void onSuccess(CreateOmnilinkDeviceResult result) {
            	wrapper.fireEvent(<span class="code-keyword">new</span> DeviceUpdatedEvent(<span class="code-keyword">null</span>));
              hide();
            }            
          });
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at Nov 02, 2013 14:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879374"></a>
                                    <font class="smallfont"><p>I've no idea about this one. You should try to contact Eric Bariaux for this question.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Nov 04, 2013 15:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22880526"></a>
                                    <font class="smallfont"><p>Any chance we could get some consolidation of how to setup integration with Omnilink ?</p>

<p>Thanks<br/>
-jim</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jwilleke at Nov 30, 2013 10:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886190"></a>
                                    <font class="smallfont"><p>Hey Dan,</p>

<p>Do you know if you got the areas reporting which security mode they were in?  ie Night, Disarmed, etc?</p>

<p>I ask because in my system I think I just have Area 1 set up.  When I log in with pc access and then arm/disarm etc the security mode for zone 1 changes to Night, Off etc when I set the alarm.</p>

<p>I tried checking the Area Mode and Alarm sensor in OR but they don't seem to change when I change within the op2.  I stepped through the code for the OmniLinkClient, and the areas map seems empty.  It seems the message to get info for the Area always returns nothing upon setup.</p>

<p>I am going to keep investigating, but my 2yo is just waking up so I thought I'd fire you this question to potentially shed some light before I can get back to it.</p>

<p>thanks,<br/>
craig</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at Apr 30, 2014 15:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886202"></a>
                                    <font class="smallfont"><p>Also, my system is set up with only 1 zone, and it appears that in PC Access when you specify only 1 zone, you don't get to attribute a name, etc.  </p>

<p>However, the omnilink import has resulted in 8 zones showing up.</p>

<p>Maybe this has something to do with it.</p>

<p>I'll try and investigate at a code level more.</p>

<p>cheers,<br/>
craig</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at May 01, 2014 01:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886208"></a>
                                    <font class="smallfont"><p>Ok, I think I have an idea of what is going on.</p>

<p>As I mentioned prior, my system only has 1 unnamed Area.  The designer ends up picking up all 8 Areas when importing, I think because of a filter which says named or unnamed when interrogating the omnipro.  However, within the designer, when looking for the Area attributes, it uses a named filter...which then returns nothing.</p>

<p>I changed the line below to allow unnamed within the Controller, and it now works as expected.</p>

<p>within: private AreaProperties readAreaProperties(int number)</p>

<p>Message m = c.reqObjectProperties(Message.OBJ_TYPE_AREA, number, 0, ObjectProperties.FILTER_1_NAMED_UNAMED,<br/>
            ObjectProperties.FILTER_2_NONE, ObjectProperties.FILTER_3_NONE);</p>

<p>I changed that 4th parameter.</p>

<p>This seems to make sense to me because this would only get called if there was a sensor for the Area.  I can remove those extra Areas which are unused over in Designer, so feel not excluding in controller would be fine.</p>

<p>Any thoughts?</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at May 01, 2014 16:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886248"></a>
                                    <font class="smallfont"><p>Hi Craig, your observations are correct, pulling in un-named areas was intentional on my part since most HAI systems do not name area 1 by default.  And since you can always delete those or ignore them in the designer it did not seem to be a big issue.  This would not cause the arming/disarming states not working however.</p>

<p>I have not played around much with this since the holidays, but security was working for me.  I'm actually out of town right now but I will try and take a look when I get back.  </p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at May 03, 2014 17:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886312"></a>
                                    <font class="smallfont"><p>Dan,</p>

<p>It causes the arming/disarming states to not work because the code within the controller was using the Named filter...which is different than the import code in the designer.  So, with my system with 1 unnamed area, the status updates don't change the sensors.  The refreshDevices will never add Area objects to the collection within the controller unless the unnamed areas are allowed.</p>

<p>After you take a look at: private AreaProperties readAreaProperties(int number) I think you'll see where it's coming up with this behaviour.</p>

<p>cheers,<br/>
craig</p>



</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by craigham at May 06, 2014 22:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886313"></a>
                                    <font class="smallfont"><p>That makes sense, thanks for looking into it.  I'll see about getting a fix in. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by digitaldan at May 06, 2014 22:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887212"></a>
                                    <font class="smallfont"><p>Folks, very excited about the HAI integration project and would like to say thank you.  Reading the above is there a summary of what I need to do incl what packages to download the latest code (running on Mac first then probably Ubuntu) as having just installed the production release I'm guessing all this has not all made it there yet.I'm happy to be another tester.  Thanks A.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by agbush at Jun 21, 2014 16:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595488"></a>
                                    <font class="smallfont"><p>I managed to compile the Beehive, Designer, Controller, and Webconsole on my machine using this tutorial:</p>

<p><a href="http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server">http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server</a></p>

<p>I created a switch and a slider for one light. The switch works as it should. The slider switches from 0% to 100% and back, when I press the on/off switch, so it is getting feedback correctly. But if I try to use the slider to set the light level to anywhere between 0 and 100%, the panel freezes up and I have to restart the controller.</p>

<p>Also, when I was importing the Omnilink devices in the designer, it seemed like nothing was happening for a while. Then I pressed refresh in my browser and they were there.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Jan 16, 2015 21:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599698"></a>
                                    <font class="smallfont"><p>Hi Guys,</p>

<p>I'm super interested in the HAI integration, having a Omni Pro II.  I am a controls engineer, but mainly work with PLCs and SCADA packages, I understand the general gest but am getting a bit lost on how to start on this. (Will be building on a Windows PC and using both Android and iPad to view/control)</p>

<p>Is anyone still using/toying with this?</p>

<p>It is possible for the integration video to be made public (currently shows up as 'blocked private'.</p>

<p>Would appreciated any help, as I'm finding the current built in programming limitations with Omni Pro II a bit frustrating (mainly the event based program triggers).</p>

<p>Regards</p>

<p>Greg</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gregjflynn at Jun 21, 2015 12:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601690"></a>
                                    <font class="smallfont"><p>Hi Greg,</p>

<p>I use it in my house. To be honest it took me a month just to figure out how I was meant to go about installing it.</p>

<p>I had to build it from the source using Dan C's fork of OpenRemote.</p>


<p>Basically what you need is Dan C's designer and add your Omni settings to the settings file and then just do the same with the controller and compile it.</p>

<p>I don't know where the source is currently. I would give you mine except it has my passwords embedded in it so I can't do that.</p>

<p>Once you get over the hurdle of compiling the files and having Tomcat actually work and not crash then you have to figure out how to actually use OpenRemote once you have figured that out you have to figure out how to make a GUI.</p>

<p>I think it took me 3 months to get something that was fully operational.</p>

<p>So the first place I would start is this guide there might be one similar for windows
<a href="http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server">http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server</a></p>

<p>Or you might get lucky and find someone who has a HAI Build already compiled for Windows </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by glennl at Oct 15, 2015 10:20
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 11:02</font></td>
		    </tr>
	    </table>
    </body>
</html>