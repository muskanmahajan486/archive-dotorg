<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Webconsole failing - Sticks on "Loading" panel</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Webconsole failing - Sticks on "Loading" panel
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 08, 2013 by <font color="#0050B2">pryonic</font>.
				    </div>

				    <p>I'm new to OpenRemote so I hope I'm not doing something stupid here, but I've had a google and I can't find a response. I've just installed the OpenRemote controller on a Raspberry Pi running OpenJDK Runtime Environment (IcedTea6 1.11.5).</p>

<p>This all seems to be working and I can access the panels I create in Designer via the Android app, however for development it would be much easier to access the Web Console. This was working originally but after about an hour it has ceased to work, this seemed to happen just after I changed the IP address of my Pi but this could be co-incidence.</p>

<p>Now if I go to <a href="http://192.168.1.74:8080/webconsole">http://192.168.1.74:8080/webconsole</a> (obviously the address of my Pi) the Web Console detects the controller at <a href="http://192.168.1.74:8080/controller/">http://192.168.1.74:8080/controller/</a>, but on trying to access the panel the page sticks on "Loading Controller" with the spinning logo.</p>

<p>The Controller log spews out a stack trace, but it doesn't give much detail I can use to see what is wrong. </p>

<p>What am I missing?</p>

<p>ERROR HTTP\-Thread\-3: Error in handling REST API response: null<br/>
java.lang.NullPointerException<br/>
	at org.openremote.controller.rest.support.json.JSONFormatter.format(JSONFormatter.java:68)<br/>
	at org.openremote.controller.rest.support.json.JSONTranslator.translate(JSONTranslator.java:124)<br/>
	at org.openremote.controller.rest.support.json.JSONTranslator.translateXMLToJSON(JSONTranslator.java:68)<br/>
	at org.openremote.controller.rest.support.json.JSONTranslator.translateXMLToJSON(JSONTranslator.java:58)<br/>
	at org.openremote.controller.rest.support.json.JSONTranslator.translateXMLToJSON(JSONTranslator.java:53)<br/>
	at org.openremote.controller.rest.RESTAPI.sendResponse(RESTAPI.java:157)<br/>
	at org.openremote.controller.rest.ListPanelIDs.handleRequest(ListPanelIDs.java:87)<br/>
	at org.openremote.controller.rest.RESTAPI.doPost(RESTAPI.java:125)<br/>
	at org.openremote.controller.rest.RESTAPI.doGet(RESTAPI.java:81)<br/>
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)<br/>
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.openremote.controller.rest.support.json.JSONCallbackFilter.doFilter(JSONCallbackFilter.java:63)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:78)<br/>
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:77)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)<br/>
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)<br/>
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)<br/>
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)<br/>
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)<br/>
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)<br/>
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)<br/>
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)<br/>
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:354)<br/>
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)<br/>
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)<br/>
	at java.lang.Thread.run(Thread.java:679)<br/>
ERROR HTTP\-Thread\-4: failed to extract panel.xml for panel : No such Panel :NAME = <br/>
org.openremote.controller.exception.NoSuchPanelException: No such Panel :NAME = <br/>
	at org.openremote.controller.service.impl.ProfileServiceImpl.getProfileDocumentByPanelName(ProfileServiceImpl.java:192)<br/>
	at org.openremote.controller.service.impl.ProfileServiceImpl.getProfileByPanelName(ProfileServiceImpl.java:91)<br/>
	at org.openremote.controller.rest.FindPanelByID.handleRequest(FindPanelByID.java:81)<br/>
	at org.openremote.controller.rest.RESTAPI.doPost(RESTAPI.java:125)<br/>
	at org.openremote.controller.rest.RESTAPI.doGet(RESTAPI.java:81)<br/>
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)<br/>
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.openremote.controller.rest.support.json.JSONCallbackFilter.doFilter(JSONCallbackFilter.java:63)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:78)<br/>
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:77)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)<br/>
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)<br/>
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)<br/>
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)<br/>
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)<br/>
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)<br/>
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)<br/>
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)<br/>
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:354)<br/>
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)<br/>
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)<br/>
	at java.lang.Thread.run(Thread.java:679)<br/>
ERROR HTTP\-Thread\-4: Error in handling REST API response: null<br/>
java.lang.NullPointerException<br/>
	at org.openremote.controller.rest.support.json.JSONFormatter.format(JSONFormatter.java:68)<br/>
	at org.openremote.controller.rest.support.json.JSONTranslator.translate(JSONTranslator.java:124)<br/>
	at org.openremote.controller.rest.support.json.JSONTranslator.translateXMLToJSON(JSONTranslator.java:68)<br/>
	at org.openremote.controller.rest.support.json.JSONTranslator.translateXMLToJSON(JSONTranslator.java:58)<br/>
	at org.openremote.controller.rest.support.json.JSONTranslator.translateXMLToJSON(JSONTranslator.java:53)<br/>
	at org.openremote.controller.rest.RESTAPI.sendResponse(RESTAPI.java:157)<br/>
	at org.openremote.controller.rest.ListPanelIDs.handleRequest(ListPanelIDs.java:87)<br/>
	at org.openremote.controller.rest.RESTAPI.doPost(RESTAPI.java:125)<br/>
	at org.openremote.controller.rest.RESTAPI.doGet(RESTAPI.java:81)<br/>
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)<br/>
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.openremote.controller.rest.support.json.JSONCallbackFilter.doFilter(JSONCallbackFilter.java:63)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:78)<br/>
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:77)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)<br/>
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)<br/>
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)<br/>
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)<br/>
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)<br/>
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)<br/>
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)<br/>
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)<br/>
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:354)<br/>
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)<br/>
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)<br/>
	at java.lang.Thread.run(Thread.java:679)</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/21528734/22708247.war">webconsole.war</a> (application/octet-stream)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-21856637"></a>
                                    <font class="smallfont"><p>Hi!</p>

<p>Im having the exact same problem! Well.. 99% same anyway. I'm not getting the:</p>

<p>"ERROR HTTP-Thread-4: failed to extract panel.xml for panel : No such Panel :NAME ="... error at all, just the two others.    </p>

<p>I noticed that i do get the "No such panel" error by typing a blank "space bar" to controllers "Default Panel Name:" input field.</p>

<p>I don't believe that this is a solution to your problem, but it probably makes us even, still having these two "ERROR HTTP-Thread-X: Error in handling REST API response: null" errors left. </p>

<p>Help? anyone?</p>

<p>-Olli</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by deek at Jan 27, 2013 12:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21856704"></a>
                                    <font class="smallfont"><p>Just for the record, i got it working with this patched controller v2.0.0 <br/>
<a href="http://www.openremote.org/display/forums/Web+Console+Controller+2.0.1+Issues" title="-">http://www.openremote.org/display/forums/Web Console Controller 2.0.1 Issues</a></p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by deek at Jan 28, 2013 18:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21857954"></a>
                                    <font class="smallfont"><p>This seems to be related raspberry pi and 2.0.1 controller. That patched 2.0.0 controller works for me when using RPi and 2.0.1 works if using windows installation. I have tried different java versions(1.6 and 1.7 iced tea and oracle). And I'm not using security. So could someone please look that bug.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nokk3r1 at Feb 23, 2013 13:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413643"></a>
                                    <font class="smallfont"><p>Well, controller 2.0.2 and webconsole build 7746 also has this problem. And the weird thing is that it was working a few hours ago. I'm inclined to think that it has something to do with the panels naming. (But that's probably a result of too much coffee), It happened to me before (I somehow fixed it but I don't remember what I did), and it just occurred to me that the last time it was working was before I renamed one of the panels. I think that a fact worth mentioning is that the "Clear cache and config" link in the controller interface it's not working either, (perhaps it's related).</p>

<p>Anyway I'll be trying to solve it later, now it's time for a nap <img class="emoticon" src="images/icons/emoticons/biggrin.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>. </p>


</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by galileopy at May 06, 2013 11:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413644"></a>
                                    <font class="smallfont"><p>I have also once been successfull in loading panel. It was right after initial installation but despite reinstallation of whole system, I haven't been able to load it. Although I have to say I have my nokia n9 browser which loads always without any problems..</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nokk3r1 at May 06, 2013 13:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413711"></a>
                                    <font class="smallfont"><p>There's a proposed fix to the webconsole from Richard, attached here: <a href="attachments/21528734/22708247.war">webconsole.war</a></p>

<p>Can you give it a try (replace webconsole.war in Controller/webapps directory) and see if it resolves your issue?</p>

<p>Thanks,</p>

<p>&#8211; Juha</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at May 07, 2013 12:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413725"></a>
                                    <font class="smallfont"><p>Thank you so much. It worked at the first run.</p>

<p>-Galileo</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by galileopy at May 07, 2013 16:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413767"></a>
                                    <font class="smallfont"><p>For me, even the new webconsole you linked gives an error. The webconsole gives a window with text: <br/>
"The following error occurred: -"<br/>
"Unknown controller error"</p>

<p>In log there is still REST API errors similar to first post in this thread. And still my Nokia N9 browser triggers same errors but it still loads panels as it should. I'm running 2.0.2 controller with Oracle java 1.6. I will try 1.8 and hardfloat on thursday.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nokk3r1 at May 07, 2013 20:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414024"></a>
                                    <font class="smallfont"><p>I made clean installation of OpenRemote-Controller-2.1.0_SNAPSHOT-2013-04-09(webconsole 7746) and Oracle jdk 8. I can confirm that it loads panels correctly in all my browsers. And webconsole posted above works also. So I have to say that I recommend jdk 8 for raspberry users.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nokk3r1 at May 09, 2013 15:41
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:46</font></td>
		    </tr>
	    </table>
    </body>
</html>