<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : HAVE I BROKEN CRON</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : HAVE I BROKEN CRON
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 04, 2013 by <font color="#0050B2">jon.gillioz</font>.
				    </div>

				    <p> hi all i have this in the rule section of or (pro 1.0.10)</p>

<p>rule "Lights off at 17:51"</p>

<p>  timer (cron: 1-10 51 17 * * ?) when eval (true) then</p>

<p>  execute.command("v1D ON"); <br/>
  System.out.println("lights on at front door rule");<br/>
end</p>

<p>and it dosent seem to work <br/>
can anyone see anytrhing wrong<br/>
thanks in advance</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22875885"></a>
                                    <font class="smallfont"><p>I suppose this is only part of the rules file and you have some declaration like <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">global org.openremote.controller.statuscache.CommandFacade execute;</pre>
</div></div> at the top.</p>

<p>I have tested this rule and it's working fine for me.</p>

<p>Take a look at the logs when syncrhonizing the controller and see if any error gets reported when the rules are compiled.<br/>
If there is an error in the rules (anywhere in the rules), none of them will work.</p>

<p>Also double check that the command name is correct. But in that case, you should at least see the System.out output.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Sep 04, 2013 15:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875949"></a>
                                    <font class="smallfont"><p>dont know what i did but today it worked is the command name case sensitive??</p>

<p>an other question is it posible to have an event go for a set period of time then stop .like using date time to get "is night " then turn lights on then after say 2 hours turn lights off??</p>

<p>thanks for your help </p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jon.gillioz at Sep 05, 2013 13:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875959"></a>
                                    <font class="smallfont"><p>Yes, command names are case sensitive.</p>

<p>Also at this stage, there is no verification that command names are unique and the way they're exposed in rules does not take their device into account (it does not act as a name space), so you can easily end up with many 'power on' commands and that would be an issue for calling them from rules.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Sep 05, 2013 17:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876047"></a>
                                    <font class="smallfont"><p>The timer function allows an initial delay (2h) to be set when a rule evaluates to true: <a href="http://www.openremote.org/display/docs/Designer+2.0+-+Controller+Rules" title="Designer 2.0 - Controller Rules">Designer 2.0 &#45; Controller Rules</a>. This might work for your use case.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Sep 06, 2013 21:31
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:41</font></td>
		    </tr>
	    </table>
    </body>
</html>