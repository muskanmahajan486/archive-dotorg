<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : "Hello World" - Priva XML with OpenRemote.</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : "Hello World" - Priva XML with OpenRemote.
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 16, 2012 by <font color="#0050B2">reesen</font>.
				    </div>

				    <p>Priva provides building management systems <a href="http://www.priva.co.uk/solutions-products/building-management/">http://www.priva.co.uk/solutions-products/building-management/</a> that have the capability to integrate with third party software by means of XML. Just to be clear, I do not have any commercial ties or other relationship with them.</p>

<p>Below is an example from a Priva system installed at a university campus in the Netherlands. The content of the XML shows generated electricity from the solar panels used for student awareness.</p>

<p>&lt;html&gt;<br/>
&lt;head&gt;&lt;/head&gt;<br/>
&lt;body&gt;<br/>
&lt;privadata xsi:nonamespaceschemalocation="PrivaWriteSchema.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;<br/>
&lt;project&gt;<br/>
&lt;group&gt;<br/>
&lt;name&gt;Energie&lt;/name&gt;<br/>
&lt;element&gt;<br/>
&lt;name&gt;Zonnepanelen&lt;/name&gt;<br/>
&lt;item&gt;<br/>
&lt;name&gt;E40 Gebouw C&lt;/name&gt;<br/>
&lt;valuelong&gt;42164&lt;/valuelong&gt;<br/>
&lt;unit&gt; kWh&lt;/unit&gt;<br/>
&lt;write&gt;0&lt;/write&gt;<br/>
&lt;/item&gt;<br/>
&lt;item&gt;<br/>
&lt;name&gt;E41 Gebouw S1&lt;/name&gt;<br/>
&lt;valuelong&gt;32673&lt;/valuelong&gt;<br/>
&lt;unit&gt; kWh&lt;/unit&gt;<br/>
&lt;write&gt;0&lt;/write&gt;<br/>
&lt;/item&gt;<br/>
&lt;item&gt;<br/>
&lt;name&gt;E42 Gebouw S2&lt;/name&gt;<br/>
&lt;valuelong&gt;21301&lt;/valuelong&gt;<br/>
&lt;unit&gt; kWh&lt;/unit&gt;<br/>
&lt;write&gt;0&lt;/write&gt;<br/>
&lt;/item&gt;<br/>
&lt;/element&gt;<br/>
&lt;/group&gt;<br/>
&lt;/privadata&gt;<br/>
&lt;/body&gt;<br/>
&lt;/html&gt;</p>


<p>For this "Hello World" example I read each building and a total of electricity generated on the campus.</p>

<p>Examine the XML file to find the name and data type for each sensor you want to read.</p>


<p>Create 4 Custom Commands and associated sensors: C, S1, S2, Total </p>

<p>Make sure the Commands point to the appropriate URL and put in a polling frequentie of say one minute.<br/>
Use HTTP Method "GET" to read from the Priva XML file.<br/>
Based on the found names and data types in the Priva XML use an XPath Expression to grab the values you are looking for. For the XML example above:</p>

<p>To read the electricity generated by the panels on each of the buildings, use the following XPATH Expressions: </p>

<p>/privadata/group/element/item[name='E40 Gebouw C']/valuelong<br/>
/privadata/group/element/item[name='E41 Gebouw S1']/valuelong<br/>
/privadata/group/element/item[name='E42 Gebouw S2']/valuelong</p>

<p>To read the total of the three buildings in this example use XPATH Expression:</p>

<p>/privadata/group/element/item[name='E40 Gebouw C']/valuelong + /privadata/group/element/item[name='E41 Gebouw S1']/valuelong + /privadata/group/element/item[name='E42 Gebouw S2']/valuelong</p>

<p>After synchronisation with the Controller don't expect "Hello World" on your panel  <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>To test for yourself, a demo-XML-page is available here: <a href="http://hx.privademo.com/data.xml">http://hx.privademo.com/data.xml</a> from <a href="http://www.privademo.nl/View-XML.htm">http://www.privademo.nl/View-XML.htm</a><br/>
I don't control these sites. It has been noticed that they are not always available though.</p>



				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-20452193"></a>
                                    <font class="smallfont"><p>Hi Rick, thanks for sharing. Nice meaningful implementation. You have more plans? I couldn't access the demo XML page somehow.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pierre kil at Oct 16, 2012 07:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452234"></a>
                                    <font class="smallfont"><p>mmmh indeed. Left a notification with their webmaster.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by reesen at Oct 16, 2012 17:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452486"></a>
                                    <font class="smallfont"><p>looks like the demo website(s) are up again...</p>

<p><a href="http://www.privademo.nl/View-XML.htm">http://www.privademo.nl/View-XML.htm</a><br/>
en
<a href="http://hx.privademo.nl/data.xml">http://hx.privademo.nl/data.xml</a></p>

<p><a href="http://www.privademo.com/View-XML.htm">http://www.privademo.com/View-XML.htm</a><br/>
and
<a href="http://hx.privademo.com/data.xml">http://hx.privademo.com/data.xml</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by reesen at Oct 19, 2012 15:57
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:43</font></td>
		    </tr>
	    </table>
    </body>
</html>