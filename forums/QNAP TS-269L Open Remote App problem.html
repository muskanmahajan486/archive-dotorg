<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : QNAP TS-269L Open Remote App problem</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : QNAP TS-269L Open Remote App problem
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 14, 2015 by <font color="#0050B2">dadcoop</font>.
				    </div>

				    <p>Good Afternoon, I am pretty new at this linux stuff although I have many years programming in visual basic and running dos/windows machines.  After many many many hours trying to decipher the rather obtuse instructions in the reference manuals, I finally got Open Remote to run on my Win 7/64 bit machine and actually turn a switch on and off using rules (another topic when I have more time).</p>

<p>I installed the Open Remote App on my QNAP TS-269L Turbo NAS with a veralite controller.  I then figured out how to get the controller.xml, panel.xml, panels.obj and rules files in the correct places.</p>

<p>The problem that I have is that when I start the Open Remote App using the QNAP App center, it seems to start OK when I look at the boot.log and the dev.log.  </p>

<p>I made a rather simple panel using the free open remote designer with only two buttons; turn on one switch and turn it off.  It works and the switch goes on and off.</p>

<p>The rules files have simple timer (cron) that turn the same switch on at a given time and off a little later.  Naturally they have set times somewhere near when I start the controller so I can see what happens.</p>

<p>The problem is that the logs show the time 5 hours later than it is here.  It appears that the app is using UTC time (I am in PA).  What seems to be happening is that because the time logs as 5 hours off, I am always past the times I set up in the rules. This was not happening when I was running from the Win machine.</p>

<p>Am I doing something wrong?  Is the log file always in UTC time, the QNAP machine is showing the correct local time?, Is there a bug in the App?</p>

<p>It is really frustrating, having to both learn some linux and some rather confusing 'drools' and then just when I think that I have everything working to be back to square -1.</p>

<p>Any help, thoughts, encouragement, ideas or whatever would be appreciated.</p>

<p>update at 5 PM.  I was finally able to get the drools ahead of the 5 hour time difference and it appears that the controller really is thinking that the time is 5 hours ahead because the light just turned on using the rule.</p>

<p>coop_dad</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23595448"></a>
                                    <font class="smallfont"><p>Has your QNAP been set to the Panama timezone (UTC-5)? In terminal mode you can check with the date command</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 15, 2015 08:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595457"></a>
                                    <font class="smallfont"><p>QNAP is set for US eastern standard time, which is correct for my location.  It is showing the correct local time.  I checked it by logging in to my QNAP admin control panel.  The problem isn't that the QNAP has the incorrect time, the problem is that the Open Remote App seems to be reading UTC time and not converting it to local time.</p>

<p>I wondered if there was a place in one of the Open Remote files that the app downloaded that tells the apache server which time to use when running in Linux. The apache server works correctly when run on my windows machine.</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dadcoop at Jan 15, 2015 14:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596461"></a>
                                    <font class="smallfont"><p>Apparently there was a bug in the QNAP operating system.  I just updated to version 4.1.2 and now the Open Remote app is using local time.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dadcoop at Feb 08, 2015 22:04
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:38</font></td>
		    </tr>
	    </table>
    </body>
</html>