<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Vimar By-Me KNX Connect</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Vimar By-Me KNX Connect
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 07, 2014 by <font color="#0050B2">landlingerg</font>.
				    </div>

				    <p>Hello</p>

<p>I work since 1 Week with the Openremote Project!<br/>
I like it very much.</p>

<p>1. Install the Controller at my Synology DS211j - it works after 10 hours read and try.<br/>
2. I define my first KNX Buttons with the Open Remote Designer. It also Works well.<br/>
3. now my problem ist that i use Vimar and this system is a litte be different to EIB.<br/>
I'm sorry but i do not know the details about the Differences and i can not find good information with google. That's why i try to write my problem here in the forum and hope for help.</p>

<p>Following Things i tried and it work.<br/>
Define a new command for Light ON and OFF with DPT 1.001 an it work with 2 Buttons in the UI.<br/>
When i try it with the sensor and the Switch it doesn't work. I think Vimar use other Status Requests than Standard EIB.</p>

<p>The same Problem i have with the Dimmer. It work with 2 Buttons but not over the Slider.</p>

<p>Is there anybody who tried to control a Vimar By-Me System with the Openremote Project and can Help me with it?</p>

<p>Is it possible to read the STATUS answer from the Vimar System after press the switch?<br/>
Can i Use the custom define for different answers?</p>

<p>Best regards<br/>
Günther</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22882302"></a>
                                    <font class="smallfont"><p>When i try it with the sensor and the Switch it doesn't work.<br/>
//<br/>
Sure. Writing rules unfortinately is not that simple as attaching Command to a Button. <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/><br/>
Günther, I have been working with OpenRemote Java during 2 months and still have questions about "Switch" structure.<br/>
But I can try to help you. Call my Skype: novoster.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by sattva at Jan 08, 2014 00:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882308"></a>
                                    <font class="smallfont"><p>What exactly is the device you want to control?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 08, 2014 08:41
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882412"></a>
                                    <font class="smallfont"><p><a href="http://www.vimar.us/en/us">http://www.vimar.us/en/us</a> with an Gira 1030 00 IP Router</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 08, 2014 16:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882426"></a>
                                    <font class="smallfont"><p>That URL does not show any actuators. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 08, 2014 19:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882428"></a>
                                    <font class="smallfont"><p><a href="http://www.vimar.com/de/int/catalog/product/index/liv/L1200/code/01851.2">http://www.vimar.com/de/int/catalog/product/index/liv/L1200/code/01851.2</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 08, 2014 19:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882430"></a>
                                    <font class="smallfont"><p>Thanks. Looks like this is a KNX device which operates in either "A-mode" or "E-mode" which means you don't need an ETS to configure it, right?<br/>
Do you have an ETS? Maybe you can start a bus monitor and see if the device is sending any status package on the bus after a switch operation.<br/>
OpenRemote currently needs an explicit group address where it can sent a read request to, to receive the switch status.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 08, 2014 19:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882432"></a>
                                    <font class="smallfont"><p>Yes it is correct i configure the system with the vimar screen!<br/>
Is it possible that the Status Message only displayed with ets?<br/>
I sniffed the comunication with the open remote light ap and can't see any Request after pressing the light button!</p>

<p>I try to get ETS</p>

<p>Thanks for your help!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 08, 2014 20:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882434"></a>
                                    <font class="smallfont"><p>Status message are normal bus message and have nothing todo with ETS.<br/>
You should be able to use ETS Light to monitor the bus.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 08, 2014 20:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882448"></a>
                                    <font class="smallfont"><p>Did the following informations help you?<br/>
ETS - groupemonitoring:</p>

<ol>
	<li>Time	Service	Flags 	Prio	Source.addr	Dest.addr	Rout	Type	DPT	Info	Iack	MediumInfo<br/>
2	2014-01-09 02:00:46.111	from bus		Urgent	1.1.170	1/4/51	6	Write	1 Byte	$01 | 0,4 %	LL_ACK	<br/>
3	2014-01-09 02:00:52.143	from bus		Normal	1.1.8	1/5/233	6	Write	Raw (up to 6 bit)	$01	LL_ACK	<br/>
4	2014-01-09 02:00:56.269	from bus		Normal	1.1.8	1/5/233	6	Write	Raw (up to 6 bit)	$00	LL_ACK	<br/>
5	2014-01-09 02:01:00.832	from bus		Normal	1.1.8	1/5/233	6	Write	Raw (up to 6 bit)	$01	LL_ACK	<br/>
6	2014-01-09 02:01:04.285	from bus		Normal	1.1.8	1/5/233	6	Write	Raw (up to 6 bit)	$00	LL_ACK	<br/>
7	2014-01-09 02:01:06.097	from bus		Urgent	1.1.170	1/4/51	6	Write	1 Byte	$01 | 0,4 %	LL_ACK	<br/>
8	2014-01-09 02:01:07.723	from bus		Normal	1.1.8	1/5/233	6	Write	Raw (up to 6 bit)	$01	LL_ACK	<br/>
9	2014-01-09 02:01:08.551	from bus		Urgent	1.1.170	1/4/122	6	Read			LL_ACK	<br/>
10	2014-01-09 02:01:08.567	from bus		Normal	1.1.14	1/4/122	6	Write	4 Byte	18 64 80 5A | 2,953311E-24	LL_ACK	<br/>
11	2014-01-09 02:01:12.145	from bus		Normal	1.1.8	1/5/233	6	Write	Raw (up to 6 bit)	$00	LL_ACK	</li>
</ol>


<p>Could it be that the Problem is the Gira IP Router 1030 00 (instabus EIB System)?<br/>
I can't start the Bus Monitor because the Software do not accept the Gira Router!</p>

<p>regards<br/>
Günther</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 09, 2014 01:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882461"></a>
                                    <font class="smallfont"><p>What are the differen group addresses (1.1.170, 1.1.8 and 1.114)?<br/>
Which software are you refering to? ETS can use Gira IP Router.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 09, 2014 09:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882503"></a>
                                    <font class="smallfont"><p>1.1.8 is the address from the Switch i try to use with openremote.</p>

<p>1.1.170 and 1.1.14 -&gt; i do not know which devices are send it! It could be that the Control Device from Vimar send this Information periodical.</p>

<p>I think i make a call direct to vimar and ask they if the vimar System give back a Status message after press a Switch!</p>


<p>You are really sure that the Gira IP Router can't be the Problem! Is it possible to config the Gira IP Router?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 09, 2014 15:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882519"></a>
                                    <font class="smallfont"><p>I don't have a GIRA but I have a Siemens and also tested MDT. I think GIRA and Siemens are almost identical.<br/>
But I never used the GIRA yet.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 09, 2014 21:05
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882520"></a>
                                    <font class="smallfont"><p>Hi marcus,</p>

<p>I solved the first problem with the status now after a lot of try and error analyses.</p>

<p>The gira knx router blocked some comunication. With ets4 i configured the router new without any filter settings.</p>

<p>But now i have a new very confused problem.<br/>
When i press the vimar light switch in the kitchen i get back the status in the UI from openremote.<br/>
When i press the switch UI at the ipad it doesn't work. The light goes with the first press on. The status doesn't switch and it block.<br/>
I have check the switch control 100 times again but i can't find any misstake!</p>

<p>With the openremote light app at my iphone it works nearly perfect.</p>

<p>Regards<br/>
Günther</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 09, 2014 21:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882521"></a>
                                    <font class="smallfont"><p>It looks like that openremote do not get any information back when i press the Light Switch in the Open Remote UI.</p>

<p>When i define a normal button with the control to switch on the Light i also get back no status.</p>

<p>With Openremote Light it works!</p>

<p>Aaaaaaaaaaaaaaaahhhhh</p>

<p>I hope you have an idea</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 09, 2014 21:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882522"></a>
                                    <font class="smallfont"><p>Quick round-up for a working KNX switch in OpenRemote:</p>

<ul class="alternate" type="square">
	<li>1 command "Switch on" with DPT1.001 and command "on" and the appropriate group address</li>
	<li>1 command "Switch off" with DPT1.001 and command "off" and the same group address</li>
	<li>1 command "Switch state" with DPT1.001 and command "status" and the group address where the status is send from the actuator</li>
	<li>1 sensor "Switch sensor" using sensor type "switch" and the "Switch state" command</li>
	<li>1 switch "My Switch" using the "Switch sensor" and the commands "Switch on" and "Switch off"</li>
</ul>


<p>Those are all created in the building modeler part of the designer.<br/>
Now you switch into the ui designer create a panel and drag a switch ui object onto it.<br/>
The switch UI object is linked to the switch "My switch" which was created earlier.</p>


<p>This way if the wall switch fires the actuator and the actuator updates the status OpenRemote should know the status and update the UI.<br/>
Maybe your actuator does not send a status update by itself?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 09, 2014 21:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882525"></a>
                                    <font class="smallfont"><p>The problem is that my actors use the same groupeadress for all.<br/>
On off and status.<br/>
I tryed it with the same information as you.</p>

<p>Is it possible to get a solution with the rules?</p>

<p>Eg:<br/>
1. When press the button send light on and change the status of the UI switch to on.<br/>
2. when press the button send light off and change the status of the UI switch to off.</p>

<p>It would be an easy way to have a solution for this problem and the status is false max for one event, and i could use the Switch function instead 2Buttons.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 09, 2014 23:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882532"></a>
                                    <font class="smallfont"><p>You should then have the switch control an in-memory variable (Virtual Protocol) and rules that react on that and send the light on / off commands.<br/>
It's been described in the forums before for IR control and the likes.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jan 10, 2014 08:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882569"></a>
                                    <font class="smallfont"><p>Hello</p>

<p>I tryed it with the Virtual Protocol but it doesn't work.</p>

<p>Now i made detailed check of the log files!</p>

<p>I use the preview OpenRemote Designer.</p>

<p>I think with my vimar System the normal Switch should be work but i get following message in the xmlparser.log File: <br/>
I also have the same problem with the Virtual Switch with the rule!!</p>

<p>DEBUG 2014-01-11 02:43:14,595 (XML): A switch sensor (Name = 'kueche licht sensor', ID = 3694737) has an incomplete &lt;state&gt; element mapping, the value attribute is missing in &lt;state name = on/&gt;.<br/>
DEBUG 2014-01-11 02:43:14,595 (XML): A switch sensor (Name = 'kueche licht sensor', ID = 3694737) has an incomplete &lt;state&gt; element mapping, the value attribute is missing in &lt;state name = off/&gt;.<br/>
DEBUG 2014-01-11 02:46:23,689 (XML): A switch sensor (Name = 'kueche licht sensor', ID = 3694737) has an incomplete &lt;state&gt; element mapping, the value attribute is missing in &lt;state name = on/&gt;.<br/>
DEBUG 2014-01-11 02:46:23,689 (XML): A switch sensor (Name = 'kueche licht sensor', ID = 3694737) has an incomplete &lt;state&gt; element mapping, the value attribute is missing in &lt;state name = off/&gt;.<br/>
DEBUG 2014-01-11 02:47:28,126 (XML): A switch sensor (Name = 'kueche licht sensor', ID = 3694737) has an incomplete &lt;state&gt; element mapping, the value attribute is missing in &lt;state name = on/&gt;.<br/>
DEBUG 2014-01-11 02:47:28,126 (XML): A switch sensor (Name = 'kueche licht sensor', ID = 3694737) has an incomplete &lt;state&gt; element mapping, the value attribute is missing in &lt;state name = off/&gt;.</p>

<p>When i press the switch from the Vimar Bussystem i can see the change of the STATUS in the Label Field of the UI.<br/>
Is there any workaround to also can switch the state from the knx command STATUS over the rules???<br/>
Then i could work with two buttons and the STATUS Label.</p>

<p>What's the problem that i do not get the answer from the bus system when i use the OpenRemote UI???<br/>
It is crazy.</p>

<p>Is it possible to define a specific rule with which i can make a request to my VIMAR KNX Actor with the x.x.x Adress?</p>

<p>Sorry for a lot of questions!<br/>
Thanks for your help</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 11, 2014 02:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882591"></a>
                                    <font class="smallfont"><p>Thanks for our help but after a call with a technican person from vimar the problem is now clear.</p>

<p>The vimar knx system do not give back a status answer from the actor!<br/>
I sniffed it with ets4 and it is correct. That's why i had problems with the sensor switches.</p>

<p>Now i solved the problem with two buttons. One for on and one for off. Additionally i made a label per on/off group in which the last status from vimar is shown. This statul label will be updated with every action at the vimar system.</p>

<p>Best Regards günther</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Jan 11, 2014 22:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22885813"></a>
                                    <font class="smallfont"><p>Hi Günther,</p>

<p>may I ask you how did you manage to do Vimar By-Me bus monitoring with ETS4? Do you need a specific KNX IP interface or the Vimar Web Server 01945 would be fine?</p>

<p>Thanks</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by curo at Apr 10, 2014 11:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22885818"></a>
                                    <font class="smallfont"><p>Hi Fabrizio,</p>

<p>I use a Gira KNX Gateway to read and talk to the vimar "knx" System. <br/>
(Gira IP Router 1030-00 Artikel-Nr.:1030 00<br/>
Yes you need it that you can communicate with the vimar system.</p>

<p>For ETS you need the config File from the Gira Website! Then you can sniff the traffic from the Vimar System with ETS.</p>

<p>The problem with the vimar system is to get status requests from the actors! This is not really possible.<br/>
You have to work with virtual switches.</p>

<p>I do not have the Vimar Web Server -&gt; In my opinion it is to expensive!<br/>
I do not know whether OpenRemote can communicate with the Vimar Web Server.</p>

<p>regards<br/>
Günther</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by landlingerg at Apr 10, 2014 14:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22885821"></a>
                                    <font class="smallfont"><p>Hi Günther,</p>

<p>thanks for your prompt reply!</p>

<p>You're right, the Vimar web server is too expensive and the software is poor, that's the reason I'm trying to build up my own interface.<br/>
I did some testing with it but looks like that ETS does not recognize it.<br/>
I think I'll buy the Gira IP Router.</p>

<p>thanks a lot.</p>

<p>regards<br/>
Fabrizio</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by curo at Apr 10, 2014 18:57
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:39</font></td>
		    </tr>
	    </table>
    </body>
</html>