<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Problem - All commands ON on Start-up</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Problem - All commands ON on Start-up
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 18, 2014 by <font color="#0050B2">araujo.emanuel</font>.
				    </div>

				    <p>Hello,</p>

<p>I've a Synology Nas with Open Remote, to control an KNX installation.<br/>
I've a Merten GetWay, and IP router, when I have a power-cut, or restart the synology NAS, all lights light ON (and other devices).</p>

<p>I've made a couple of tests, and the problem is when the Open Remote starts on the Synology, is there any rule or option that I can use so the commands stay's in the same state they were or at least OFF?</p>

<p>Regards,<br/>
Emanuel</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23602348"></a>
                                    <font class="smallfont">
<p>Hello<br/>
Has anyone got any ideas for this?</p>


<p>I have the opposite issue with Velbus hardware.</p>

<p>After a power cut, everything reverts to a safe state (ie OFF), I'd like to issue a batch of commands to reset states in certain Velbus modules.</p>

<p>I was wondering if this could be done with a rule, if there is an "Up Time" value?</p>

<p>Thanks,</p>

<p>Stuart</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mdar at Nov 24, 2015 18:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602351"></a>
                                    <font class="smallfont"><p>Michal helped me with this a while ago and this works perfectly - storing values in a file which are restored after poweroff.</p>

<p><a href="http://openremote.org/display/forums/Help+with+persisting+in+memory+variables">http://openremote.org/display/forums/Help+with+persisting+in+memory+variables</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Nov 24, 2015 22:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602362"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>you will need to store your states in "in-memory virtual command" and copy them to KNX command. The rule for doing that would be something like (not tested):</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
rule <span class="code-quote">"Copy IMVC to KNX"</span>
when
  Event(source==<span class="code-quote">"GMy_IMVC1"</span>, $v: value)
then
  execute.command(<span class="code-quote">"My_KNX1"</span>, $v.toString() );
end
</pre>
</div></div>
<p>Then you can make in-memory virtual commands persistent as described on my blog <a href="http://mqlservice.net/openremote/2014/09/16/persistent-in-memory-variables/">http://mqlservice.net/openremote/2014/09/16/persistent-in-memory-variables/</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Nov 25, 2015 09:35
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:38</font></td>
		    </tr>
	    </table>
    </body>
</html>