<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : OR KNX - VPN required for access over WAN?</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : OR KNX - VPN required for access over WAN?
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 27, 2011 by <font color="#0050B2">riauswien</font>.
				    </div>

				    <p>Hello,</p>

<p>I´m new to OR and want to test it with my KNX System.</p>

<p>My KNX System is conneted to the Internet using a 2G / 3G Router. It <br/>
Controlling my System with OR KNX Lite works fine as long as I am connected to Local Network (Wlan)</p>

<p>But it fails when I try to connect from Outside (WAN) with my iPhone over  a 2G / 3G connection.</p>

<p>I have on my iPhone an other KNX monitoring app - with this app I can connect to my System.</p>

<p>So my Question is...</p>

<p>Do I have to use a VPN connection to my KNX System when I want use OR KNX Lite on iPhone from the "outside world" ?</p>


<p>Richard</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-19434636"></a>
                                    <font class="smallfont"><p>The full version of OR KNX can do without VPN (according to some users), however you don't want to do that - KNX has no user authentication, i.e. every script kiddie scanning for an open port 3671 can control your house <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> So use of VPN is strictly encouraged.</p>

<p>Jörg</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jfalkenberg at Dec 28, 2011 09:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434638"></a>
                                    <font class="smallfont"><p>Thanks for your Info <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>and the warnings about the open ports <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Richard</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by riauswien at Dec 28, 2011 10:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434754"></a>
                                    <font class="smallfont"><p>Hello Jörg,</p>

<p>I have now the Full Version of Open Remote KNX Version 1.5.2</p>

<p>It does not work over WAN without VPN <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Other KNX Software like ayMonitorKNX on same iPhone or ETS on a PC is working without problems using the same WAN connection.</p>

<p>it seems for me that Open Remote KNX Version 1.5.2 works within the same Net only.</p>

<p>Do I have to open additional Ports </p>

<p>Richard</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by riauswien at Jan 04, 2012 18:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434772"></a>
                                    <font class="smallfont"><p>Dear Richard,</p>

<p>due to the security implications, the non-VPN connection is neither fully tested nor (possibly) fully implemented. However some users reported that they have used it successfully. Imho you need the following: a) set the correct gateway in the Ethernet-KNX-gateway, b) forward port 3671 in your router.</p>

<p>Jörg</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jfalkenberg at Jan 05, 2012 22:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434927"></a>
                                    <font class="smallfont">
<p>Just a new status info to this subject...</p>

<p>I have changed the APN in my iPhone. Now my iPhone gets a real IP address.<br/>
With this new configuration I CAN connect with Open Remote KNX to my EIB System.</p>

<p>I´m using a SIM card from the same provider for my iPhone and my UMTS Router (.. connected to my EIB system)!</p>

<p>This may be help users with similar Problems...</p>

<p>Richard</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by riauswien at Jan 15, 2012 19:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19437985"></a>
                                    <font class="smallfont"><p>Hello Richard,</p>

<p>I have the same problem as you. When I try to connect from Outside with my iphone, it fails.</p>

<p>I would need more specific information about how change my iphone's APN. I have an iphone 3GS and its version is 5.0.1. The provider is Orange (spain). I have been searching information about change APN but I only have found that each provider has just one APN. </p>

<p>For instance,<br/>
APN Vodafone -&gt; APN:ac.vodafone.es 	user:vodafone 	pass:vodafone<br/>
APN Orange -&gt;	APN:internet 	        user:orange 	pass:orange<br/>
APN Movistar -&gt; APN:movistar.es         user:movistar  pass:movistar</p>

<p>Which APN I have to replace with the current one?</p>

<p>Could you give me a helping hand, please?</p>

<p>Thank you very much!</p>

<p>Miguel</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mmedrano at Feb 27, 2012 19:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19438006"></a>
                                    <font class="smallfont"><p>Hello Miguel,</p>

<p>Download the iPhone configiration uility program from Apple to change the apn setting in your iPhone.<br/>
This utility can change the APN setting without touching other settings.</p>

<p>But ....<br/>
it may be that your provider does not support real IP addresses. This i can not check, you have to do that <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Try to google for real IP and your providers name</p>

<p>Richard</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by riauswien at Feb 27, 2012 21:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19438031"></a>
                                    <font class="smallfont"><p>Hello Richard and co,</p>

<p>I'm completely lost.</p>

<p>When I'm triyng to connect to my system from Outside with my iphone through a different wifi, for example, from my office network it also fails. <br/>
So it fails from outside both 3G and wifi.</p>

<p>For this reason i think that the problem is not the APN. Also, a friend of mine who works in Vodafone provider has told me that provider give real IP addresses when iphone connects to 3G.</p>

<p>Besides, when I'm trying to connect to my system from ETS on a PC, IT WORKS fine!</p>

<p>The router has the port fordwarding 3671 udp and it works, the proof is that i can connect from Outside with my PC.</p>

<p>OR KNX only works when I connect from local network...</p>

<p>I have the full version.</p>

<p>Someone can help me? I'm going crazy.. <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mmedrano at Feb 28, 2012 00:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19438095"></a>
                                    <font class="smallfont"><p>As Jörg mentioned above the direct connection might have issues and is never fully tested.<br/>
For securiry reasons it's not adviseable anyway to redirect direct access to your KNX gateway.<br/>
Just setup a VPN and you will be fine.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Feb 28, 2012 09:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19438132"></a>
                                    <font class="smallfont"><p>Hi all again,</p>

<p>Although it's not adviseable to redirect direct access to my KNX gateway i want to know the reason in some clients works and in other fails.</p>

<p>So, i would ask everyone if iphone/ipad connexion works from Outside (without VPN) with the new iphone iOS. Maybe the new firmware was the problem...</p>

<p>My enviroment contents:</p>
<ul class="alternate" type="square">
	<li>iphone 3GS, version 5.0.1</li>
	<li>Open Remote Full version 1.5.2</li>
</ul>


<p>By the other hand, I have read in other posts that there are users who can't connect even with VPN --&gt; <a href="http://www.openremote.org/pages/viewpage.action?pageId=9601110">http://www.openremote.org/pages/viewpage.action?pageId=9601110</a></p>

<p>Recently I have to fix the problem to my client, and to do that, we will should buy a firewall with VPN support. But, after reading all user posts, i'm afraid it does not work.</p>

<p>What is your advice for this case?</p>

<p>Thank you very much,</p>

<p>Miguel</p>



</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mmedrano at Feb 28, 2012 16:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19438146"></a>
                                    <font class="smallfont"><p>Using a VPN, I have no problems.</p>
<ul class="alternate" type="square">
	<li>iPhone 4s, iOS 5.01</li>
	<li>OpenRemote KNX 1.5</li>
	<li>FRITZ!Box 7390</li>
</ul>


<p>I never tried without VPN, since Jörg already said it's not tested, and I will never try neither.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Feb 28, 2012 17:31
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:44</font></td>
		    </tr>
	    </table>
    </body>
</html>