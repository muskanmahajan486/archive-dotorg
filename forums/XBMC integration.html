<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : XBMC integration</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : XBMC integration
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2014 by <font color="#0050B2">andersdanmark</font>.
				    </div>

				    <p>Hi!</p>

<p>So I have tried improve the xbmc integration. </p>

<p>What I have done (sofar) is that I have added a Wizard for an XBMC device that creates the appropriate commands. Im not sure but I might endup adding a dedicated xbmc protocol but thats a later problem.</p>

<p>I have set up my own local sql, beehive and designer.</p>

<p>Who do I have to contact for SVN access? So I can upload my changes to the server.</p>

<p>I have two problems. In my local designer i cant save once i add a panel. Devices and commands work fine but once I add a panel I get an error when trying to save? Any clues here? I must say that im no java expert and this tomcat setup was a lot of trial and error to get this far. Can I post any log/configuration files for someone to help me?</p>

<p>The other problem I have with my local designer is that I cant export the configuration to a zip file, this makes it hard for me to test weather im doing stuff right or not =)</p>

<p>Regards<br/>
Anders</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22882413"></a>
                                    <font class="smallfont">
<p>Problem 1: what is the error, can you post it here?</p>

<p>Depending how you've configured things, do you get a designer.log file under your Tomcat's log directory (e.g. logs/composer.openremote.org/VERSION/designer.log ?</p>

<p>Also, do you have /logs/beehive.openremote.org/VERSION/errors.log ?  Anything there?</p>


<p>Problem 2: Probably related, there's likely something going wrong with your configuration files.</p>

<p>For designer, the configuration is in Tomcat's webapps/designer/WEB-INF/classes/config.properties (under config/config.properties in your subversion checkout).</p>

<p>For beehive, the configuration is also in Tomcat's webapps/beehive/WEB-INF/classes/config.properties (under config/config.properties in your subversion checkout).</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jan 08, 2014 18:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882437"></a>
                                    <font class="smallfont"><p>Thanks for your reply.</p>

<p>The error says "500 the call failed on the server; see server log for details TIME"</p>

<p>designer.log looks ok to me =)</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"> 2014-01-04 11:47:25,006 INFO [UtilsController] : manual save UI DesingerLayout successfully
2014-01-04 11:47:47,934 INFO [UtilsController] : manual save UI DesingerLayout successfully
2014-01-04 16:36:00,415 INFO [UtilsController] : manual save UI DesingerLayout successfully
2014-01-04 16:36:01,017 INFO [UtilsController] : manual save UI DesingerLayout successfully
2014-01-04 17:00:55,932 INFO [UtilsController] : manual save UI DesingerLayout successfully
2014-01-04 21:13:23,375 INFO [UtilsController] : manual save UI DesingerLayout successfully
2014-01-08 21:02:20,581 INFO [UtilsController] : manual save UI DesingerLayout successfully
2014-01-08 21:02:21,184 INFO [UtilsController] : manual save UI DesingerLayout successfully
</pre>
</div></div>

<p>Latest errors.log from beehive. I found an error, i had not installed subversion in the vm im using for my designer/beehive, installing it solved all the svn errors but not the save.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
Beehive 3.0 Beta1 | 2014-01-08 21:24:19,674 WARN
[org.springframework.aop.framework.Cglib2AopProxy] : Unable to proxy method [<span class="code-keyword">public</span> <span class="code-keyword">final</span> org.springframework.orm.hibernate3.HibernateTemplate org.springframework.orm.hibernate3.support.HibernateDaoSupport.getHibernateTemplate()] because it is <span class="code-keyword">final</span>: All calls to <span class="code-keyword">this</span> method via a proxy will be routed directly to the proxy.
Beehive 3.0 Beta1 | 2014-01-08 21:24:19,723 WARN
[org.springframework.aop.framework.Cglib2AopProxy] : Unable to proxy method [<span class="code-keyword">public</span> <span class="code-keyword">final</span> org.hibernate.SessionFactory org.springframework.orm.hibernate3.support.HibernateDaoSupport.getSessionFactory()] because it is <span class="code-keyword">final</span>: All calls to <span class="code-keyword">this</span> method via a proxy will be routed directly to the proxy.
Beehive 3.0 Beta1 | 2014-01-08 21:24:19,724 WARN
[org.springframework.aop.framework.Cglib2AopProxy] : Unable to proxy method [<span class="code-keyword">public</span> <span class="code-keyword">final</span> void org.springframework.orm.hibernate3.support.HibernateDaoSupport.setSessionFactory(org.hibernate.SessionFactory)] because it is <span class="code-keyword">final</span>: All calls to <span class="code-keyword">this</span> method via a proxy will be routed directly to the proxy.
Beehive 3.0 Beta1 | 2014-01-08 21:24:19,725 WARN
[org.springframework.aop.framework.Cglib2AopProxy] : Unable to proxy method [<span class="code-keyword">public</span> <span class="code-keyword">final</span> void org.springframework.orm.hibernate3.support.HibernateDaoSupport.setHibernateTemplate(org.springframework.orm.hibernate3.HibernateTemplate)] because it is <span class="code-keyword">final</span>: All calls to <span class="code-keyword">this</span> method via a proxy will be routed directly to the proxy.
Beehive 3.0 Beta1 | 2014-01-08 21:24:19,725 WARN
[org.springframework.aop.framework.Cglib2AopProxy] : Unable to proxy method [<span class="code-keyword">public</span> <span class="code-keyword">final</span> void org.springframework.dao.support.DaoSupport.afterPropertiesSet() <span class="code-keyword">throws</span> java.lang.IllegalArgumentException,org.springframework.beans.factory.BeanInitializationException] because it is <span class="code-keyword">final</span>: All calls to <span class="code-keyword">this</span> method via a proxy will be routed directly to the proxy.
</pre>
</div></div>

<p>beehive config</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
#jdbc config
jdbc.driverClassName=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql:<span class="code-comment">//localhost:3306/beehive
</span>jdbc.username = root
jdbc.password = ifyouarereadingthisyouaretoonosy


#Work directory, contains svn-repos, workCopy and sync history logs.
work.dir = /opt/tomcat6/beehive.openremote.org/3.0/alpha5

#iconDir
icons.dir = http:<span class="code-comment">//beehive.openremote.org/3.0/alpha5/icons/
</span>
#lircCrawRegex, it can not be modified until the structure of remote lirc website had changed.
lirc.craw.regex = &lt;tr&gt;&lt;td valign=\<span class="code-quote">"top\"</span>&gt;&lt;img src=\<span class="code-quote">"/icons/(folder|text|script)\\.gif\"</span> alt=\<span class="code-quote">"\\[[\\s\\w]+\\]\"</span>&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\<span class="code-quote">"(.*?)/?\"</span>&gt;.*?/?&lt;/a&gt;&lt;/td&gt;&lt;td align=\<span class="code-quote">"right\"</span>&gt;(\\d\\d-\\w\\w\\w-\\d\\d\\d\\d\\s\\d\\d:\\d\\d)  &lt;/td&gt;&lt;td align=\<span class="code-quote">"right\"</span>&gt;\\s*[-\\w\\.]+\\s*&lt;/td&gt;&lt;/tr&gt;
</pre>
</div></div>

<p>designer config email is unconfigured. I validated directly in sql instead, i hope that is not the issue.<br/>
Here i have one question when i try to just open the beehive rest url i get nothing in a browser. just the tomcat pageloading error.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
jdbc.driverClassName=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql:<span class="code-comment">//localhost:3306/beehive
</span>jdbc.username = root
jdbc.password = ifyouarereadingthisyouaretoonosy


beehive.REST.Root.Url = http:<span class="code-comment">//192.168.56.101:8080/beehive/<span class="code-keyword">rest</span>/
</span>irService.REST.Root.Url = http:<span class="code-comment">//localhost:8080/irservice/<span class="code-keyword">rest</span>/
</span>
panel.xsd.path = /panel-2.0-M7.xsd
controller.xsd.path = /controller-2.0-M7.xsd
webapp.server.root = http:<span class="code-comment">//localhost:8080/
</span>
controller.config.xml.path=/controller-config-2.0-M7.xml
controller.config.xsd.path=/controllerConfig-2.0-M7.xsd

#Email sender configuration <span class="code-keyword">for</span> account activation.
# NOTE: host, username, password MUST be trimmed! 
mail.sender.host=<span class="code-keyword">this</span>
mail.sender.port=25 
mail.sender.username=that
mail.sender.password=thy
mail.smtp.auth.on=<span class="code-keyword">false</span>
mail.smtp.timeout=25000
</pre>
</div></div>

<p>Any clues?</p>

<p>Anders</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by andersdanmark at Jan 08, 2014 20:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882458"></a>
                                    <font class="smallfont"><p>In beehive config, you define this</p>
<blockquote><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
#Work directory, contains svn-repos, workCopy and sync history logs.
work.dir = /opt/tomcat6/beehive.openremote.org/3.0/alpha5
</pre>
</div></div></blockquote>

<p>Does this path exist on your system ?</p>

<p>Also, what designer / beehive branches are you using ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jan 09, 2014 08:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882507"></a>
                                    <font class="smallfont"><p>Im using these tags</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
Designer_2_14_0_SNAPSHOT-2013-05-11
Beehive_3_0_0_Beta1
</pre>
</div></div>

<p>and yes it exists and contains the following folders "resources  svn-repos  user  workCopy" among these files i can find two openremote.zip.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by andersdanmark at Jan 09, 2014 17:24
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:32</font></td>
		    </tr>
	    </table>
    </body>
</html>