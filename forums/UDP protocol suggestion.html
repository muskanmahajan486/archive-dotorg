<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : UDP protocol suggestion</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : UDP protocol suggestion
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Nov 10, 2010 by <font color="#0050B2">mishoboss</font>.
				    </div>

				    <p>Hi, recently I have interests in 6loWPAN and I'm thinking of building some test modules. Unfortunately as I read these lossy networks can't handle TCP and therefore the idea is to use UDP. OpenRemote don't have UDP support so far, maybe you didn't thought it's necessary. However I think (and not only I) the 6loWPAN is gonna rule the world and if things don't change much, UDP will be the used protocol there.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-12847249"></a>
                                    <font class="smallfont"><p>que? UDP support is standard in java. </p>

<p>For us to "support" it means replicating the work marcus has done.  The whole 2 classes.  If you are not up to the task, let me know I can look into it. </p>

<p>What do you need? an IP address? a port? a payload | separated? support for it in designer?  Everything but the last one is straightforward. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by marcf at Nov 10, 2010 15:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-12847250"></a>
                                    <font class="smallfont"><p>Sorry, I'm not a Java guy and didn't know that. It would be really nice if there is protocol option in Designer with all the corresponding fields for IP, port and command. Is OR ready to work with IPv6 out of the box or needs more work?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mishoboss at Nov 10, 2010 15:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-12847251"></a>
                                    <font class="smallfont"><p>Let me look into it.  At least one way send (connection less so I am not listening to a response) should be straightforward. Do you need 2 way? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by marcf at Nov 10, 2010 15:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-12847252"></a>
                                    <font class="smallfont"><p>Well, for starting point and tests one way is OK, but in long-term two-way communication is "must have" I think. At least as I understand what you mean, i.e. continuously listening to UDP port.</p>

<p>Don't do this now in a hurry and just for me. Better be done slow, but right. </p>

<p>I think next few months 6loWPAN will make a boom. The only bad thing is that there is no appropriate application protocol right now for low power and lossy networks. You can't use XML, RESTfull, SOAP or other similar beautiful but heavy protocols. Or you could, but it will be far from an optimal solution. There is a working group formed for application layer protocol standardization over 6loWPAN. So, I hope next few months things will change dramatically in that area. However a UDP support is needed for this or other application protocols to work.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mishoboss at Nov 10, 2010 16:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15532937"></a>
                                    <font class="smallfont"><p>I have quite a bit of the ByeByeStandby stuff at home - basically power sockets with a remote control... They also have an online controller that accepts UDP broadcast packets with a certain format.</p>

<p>All that would be needed to support these power sockets would be a protocol that could take 1 value (socket address) and send it a 1 or 0 (from memory send "D:1A01:E" to UDP broadcast will switch socket A01 on etc...)</p>


<p>You only get one way communication to the socket anyway - the controller will respond to messages, so at least you know there is one there.</p>

<p>It could be done with a generic UDP protocol:</p>
<ul>
	<li>Server: broadcast</li>
	<li>Port: 53006 (from memory)</li>
	<li>Message: "D:1A01:E"</li>
</ul>


<p>I would be VERY interested in a UDP protocol that allowed this.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by peteralm at Mar 13, 2011 10:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-16023852"></a>
                                    <font class="smallfont"><p>Anyone still interested in UDP let me know; I have a working protocol for my connection manager branch of the controller that now supports UDP sending and works great for my Keene IR Anywhere modules.</p>

<p>Rich</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Apr 15, 2011 20:35
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-16023853"></a>
                                    <font class="smallfont"><p>Quickly added this to the standard controller as well, I've added it to the telnet branch I created a while back: -</p>

<p><a href="http://openremote.svn.sourceforge.net/svnroot/openremote/branches/feature/Controller_2_0_0_Alpha11_telnet/">http://openremote.svn.sourceforge.net/svnroot/openremote/branches/feature/Controller_2_0_0_Alpha11_telnet/</a></p>

<p>Have tested it and works OK. Command format is below, unfortunately you'll have to manually enter this into your controller.xml as the modeller doesn't support it.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml">
<span class="code-tag">&lt;command id=<span class="code-quote">"64"</span> protocol=<span class="code-quote">"udp"</span>&gt;</span>
      <span class="code-tag">&lt;property name=<span class="code-quote">"ipAddress"</span> value=<span class="code-quote">"192.168.1.64"</span> /&gt;</span>
      <span class="code-tag">&lt;property name=<span class="code-quote">"port"</span> value=<span class="code-quote">"65432"</span> /&gt;</span>
      <span class="code-tag">&lt;property name=<span class="code-quote">"command"</span> value=<span class="code-quote">"K 2622 2150 10BA 0213 063D 0213 0213 0213 063D 0213 0213 0213 0213 0213 063D 0213 0213 0213 063D 0213 0213 0213 063D 0213 0213 0213 063D 0213 063D 0213 0213 0213 063D 0213 0213 0213 0213 0213 063D 0213 0213 0213 0213 0213 063D 0213 0213 0213 0213 0213 0213 0213 063D 0213 0213 0213 063D 0213 063D 0213 0213 0213 063D 0213 063D 0213 063D 0213 2000"</span> /&gt;</span>
    <span class="code-tag">&lt;/command&gt;</span>
</pre>
</div></div>

<p>Rich</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Apr 15, 2011 21:13
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:32</font></td>
		    </tr>
	    </table>
    </body>
</html>