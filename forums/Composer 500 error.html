<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Composer 500 error</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Composer 500 error
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 17, 2012 by <font color="#0050B2">happybird</font>.
				    </div>

				    <p>Hi all...</p>

<p>Does anyone know how to get round a 500 error I see when logging into the composer/designer.  </p>

<p>'500 The call failed on the server; see server log for detail'</p>

<p>I tried creating a new account but this does the same - I assume the database is keyed on email address.  </p>

<p>The account does have an existing design associated with it which was created well over 6 months ago(when I last had time to play).  Again I assume, it is that design is causing the error - but I can't log in and remove the design.</p>

<p>What next?</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19436521/23789973.png">tmp.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-19436666"></a>
                                    <font class="smallfont"><p>Can you let me know the username you use to login to the Designer?</p>

<p>Thanks,</p>

<p>&#8211; Juha</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 18, 2012 07:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19436675"></a>
                                    <font class="smallfont"><p>The '500' error appears when I use the username happybird</p>

<p>Ta</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by happybird at Feb 18, 2012 09:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19436704"></a>
                                    <font class="smallfont"><p>I tried logging into the account with username happybird and saw no issues.</p>

<p>However, this is your new account (created today), not from 6 months ago.</p>

<p>Just in case, try clearing your browser cache or try a different web browser and let us know if you're still seeing an error.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 18, 2012 15:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19436706"></a>
                                    <font class="smallfont"><p>Also tried logging into your older account created in October 2010 and had no issues.</p>

<p>Some of the recent updates to designer require you to clear the browser cache to force the entire app to be reloaded. The issue right now looks like it might be caused by something on the web browser client side.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 18, 2012 15:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19436707"></a>
                                    <font class="smallfont"><p>Thanks ...Just installed and tried chromium.  With the happybird login, I get the same 500 error.<br/>
Interesting that you do not see this.  Might be something to do with my http proxy... I'll disable and retry... thanks for the heads up <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by happybird at Feb 18, 2012 15:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19436710"></a>
                                    <font class="smallfont"><p>hmmm... if I disable the proxy... I am straight in....... Nothing to do with Firefox, chromium.  Thanks for the support.  I don't think I would have thought about the proxy without your tests.  Strange though... I have never had a proxy problem with any other webapp...</p>

<p>Anyway, where there's a will there's a way... I am sure it can be sorted.</p>

<p>Ta very much. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by happybird at Feb 18, 2012 15:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19436711"></a>
                                    <font class="smallfont"><p>Try without the proxy... I see a few requests in the last 10 minutes that are being rejected by GWT because it suspects a XSRF attack:</p>

<blockquote>
<p>java.lang.SecurityException: Blocked request without GWT permutation header (XSRF attack?)</p></blockquote>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 18, 2012 15:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19436713"></a>
                                    <font class="smallfont"><p>great minds... those darn meddling proxies. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by happybird at Feb 18, 2012 15:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439812"></a>
                                    <font class="smallfont"><p>Hi Juha,<br/>
I have the same issue when i try to upload one more button image. Maybe caused by disk quota? The error is: "500 The call failed on the server; see server log for details 09:20:28"<br/>
I'm trying with wwwolf23 username on "hogar-tablet" pannel and "TV Channels" screen, on march 20th from 8'30am up to 9'30am.</p>

<p>Thanx!</p>

<p>PD: Tried with firefox, chrome and iexplorer</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aamo at Mar 20, 2012 09:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439845"></a>
                                    <font class="smallfont"><p>I tried logging into your account and adding new button with images on the screen you mentioned but were not able to reproduce this error. At least not reproducible on my current network connection.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 22, 2012 06:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439846"></a>
                                    <font class="smallfont"><p>huuummmmm.....<br/>
I'll try on another machine and alternative navigators. <br/>
This error happens a few seconds after i click on the save button after i add a new image button, and no changes are saved. Have you try to save the project? </p>

<p>Anyway, have/can you check the server log on that day and time?</p>

<p>It is possible to install the designer on the same machine of the controller and use this local designer instead of yours? How i can get my project and use it on the local designer?</p>

<p>Thanx! I'll keep you informed.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aamo at Mar 22, 2012 07:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439851"></a>
                                    <font class="smallfont"><p>It's not a network related error at all according to logs. Instead the resource cache fails to locate one of the files referenced (pause.png &#8211; which may be a stale reference I need to check) and aborts the save operation as a precaution.</p>

<p>It may be caused by data migration issues from previous designer version to the current one. However, it is not generating this error when I logged in to your account earlier.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 22, 2012 09:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439853"></a>
                                    <font class="smallfont"><p>Can you try clearing your browser cache?</p>

<p>I left my user account logged in and on auto-save and it was working fine until saw you logging in which then caused the same stale pause.png image reference generated and both user's save fails due to same error.</p>

<p>Just want to make sure it's not some cache issue with the browser that introduces the stale reference.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 22, 2012 10:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439854"></a>
                                    <font class="smallfont"><p>Yep, you did it again. You logged in and broke it <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 22, 2012 10:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439856"></a>
                                    <font class="smallfont"><p>I've tried clearing browser cache and waiting for autosave, installing chrome for the first time, try it on another windows machine with iexplorer... all unsuccessful!</p>

<p>On the other hand, i've tried to add a different and light image (right.png about 1.9 kb) and works fine, i suspect about some quota or file system limitations....<br/>
after that, the error continues adding pause.png.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aamo at Mar 22, 2012 10:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439898"></a>
                                    <font class="smallfont"><p>Can you try the next bug fix release currently deployed on <a href="http://composer.openremote.org/staging">http://composer.openremote.org/staging</a> and see if the save issue still occurs?</p>

<p>I see the error occuring on the logs but am still unable to reproduce it when I log into the account. So will need you to test it.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 24, 2012 09:41
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439925"></a>
                                    <font class="smallfont"><p>It seems to work fine with this composer version. Added 5 new images to different buttons without any problem.<br/>
If you want me to do another test...<br/>
What happens?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aamo at Mar 25, 2012 21:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19439931"></a>
                                    <font class="smallfont"><p>The version with this fix included has been deployed to <a href="http://designer.openremote.org">http://designer.openremote.org</a>.</p>

<p>Thanks for reporting this issue.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 26, 2012 08:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440064"></a>
                                    <font class="smallfont"><p>First of all, openremote is a very nice project. Well done!</p>

<p>But unfortunately i must say, that I have the same problem. When i login into the designer, the error occurs (500 The call failed on the server). This happened first time. My username is Nejc. Strange thing is that I can't access to my device named DateTime. I also can't save.</p>

<p>Thank you for all your support,<br/>
Nejc</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nejc at Apr 04, 2012 17:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440154"></a>
                                    <font class="smallfont"><p>Sorry for the delay, did not see this new comment until now.</p>

<p>Looking at it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Apr 12, 2012 10:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440157"></a>
                                    <font class="smallfont"><p>Should be corrected now, let us know if you encounter further issues.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Apr 12, 2012 13:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440159"></a>
                                    <font class="smallfont"><p>Hey.<br/>
First, thanks for your reply and repair. Now it works perfectly. </p>

<p>I have one more question. I have played with sensor types. I'm looking for some more information about custom type of sensor. I'm not sure, if I really understand what custom state items: name and value means / how it works. Is this some kind of mapping? </p>

<p>Regards,<br/>
Nejc</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nejc at Apr 12, 2012 14:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440161"></a>
                                    <font class="smallfont"><p>Yes, it is a mapping.</p>

<p>For example, if your device returns 1, you could map it to string "one" (or anything else that the value represents) and then bind it to an UI label, as an example.</p>

<p>Or if your device returns some distinct state values, you could bind each of them to a different image in the UI.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Apr 12, 2012 21:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440164"></a>
                                    <font class="smallfont"><p>Is it possible to used a range of value to mapping? Like Name: sunny day and Value: 0.0023-0.0076 and so on. I have 1-wire solar radiation sensor which gives me the current value.</p>

<p>Regards,<br/>
Nejc</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nejc at Apr 12, 2012 22:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440166"></a>
                                    <font class="smallfont"><p>You will want to read and participate in this thread: <a href="A couple of questions about rules..html" title="A couple of questions about rules.">A couple of questions about rules.</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Apr 13, 2012 05:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440198"></a>
                                    <font class="smallfont"><p>Thanks for this thread.<br/>
I have read this forum and now i play with some rules. But today something strange happened. I have two accounts in openremote designer. Accounts are: Nejc and NejcSmid. I had a different panels and devices on those accounts, but now i see  that on NajcSmid account panels was replaced with panels from Nejc account. Devices remain as they were (different on both accounts).</p>

<p>Thanks for support,<br/>
Nejc</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nejc at Apr 16, 2012 11:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19440302"></a>
                                    <font class="smallfont"><p>Hi, <br/>
I also have the 500 error when I try to access or delete a device that was mistakenly added. <br/>
I tried 3 different browsers. I cleared the cache and I use no proxy. <br/>
I am clueless...<br/>
My user is scasas.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by scasas at Apr 21, 2012 20:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19988882"></a>
                                    <font class="smallfont"><p>Hey, Juha.</p>

<p>Again i have appeared error in my designer (500 The call failed on the server). My username is Nejc. Thanks for repair.</p>

<p>Regards,<br/>
Nejc</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nejc at May 28, 2012 08:32
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19988888"></a>
                                    <font class="smallfont"><p>Fixed it for you.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at May 28, 2012 12:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20448568"></a>
                                    <font class="smallfont"><p>Hi, Juha</p>

<p>Again I have appeared 500 error when I want to access to my devices in designer. The error has occurred on both my accounts (Nejc and NejcSmid). What could be the reason for this error?</p>

<p>Thanks again for repair.</p>

<p>Regards,<br/>
Nejc</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nejc at Jul 10, 2012 14:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20448605"></a>
                                    <font class="smallfont">
<p>Tried logging to both your accounts but didn't see any errors?</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jul 11, 2012 18:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20448606"></a>
                                    <font class="smallfont"><p>Yes now there is no more errors.<br/>
I do not know what caused this errors. Thanks anyway.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nejc at Jul 11, 2012 18:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20448627"></a>
                                    <font class="smallfont"><p>Ok, good.</p>

<p>Was doing some other minor updates that I <b>thought</b> would not have been related but they may have had some side effects after all (little bit uncertain at this point).</p>

<p>Anyway, not sure if that was related to your 500 error (didn't go look at it since the issue has been resolved itself) but maybe it was.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jul 12, 2012 10:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601507"></a>
                                    <font class="smallfont"><p>Juha,</p>

<p>im also experiencing problems with the 500 error, it looks like the rules file is getting to big. for now its saves perfectly, but when i want to add another rule of 10 lines i will get the 500 error, when i add 1 line there is no problem. will my rule file be to big? currenty i use 1851 lines in the rule file see screenshot below <img src="attachments/19436521/23789973.png" align="absmiddle" border="0"/>  is there a limit ? username: robke</p>

<p>i did a test and 1858 lines are possible with a total of 65535 chars including spaces, when i add 1 more char it gives the 500 error</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by robnas at Oct 02, 2015 09:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601513"></a>
                                    <font class="smallfont"><p>Yes, there is a limit of 64K</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Oct 02, 2015 15:41
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601516"></a>
                                    <font class="smallfont"><p>so that means that i cannot add more rules? or could you remove the limit? or is there another option?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by robnas at Oct 02, 2015 15:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601521"></a>
                                    <font class="smallfont"><p>You can split the rule file in separate *.drl files. They reside in webapps/controller/rules/ subdirectory. There they can be as large as you want but you need to manage them manually, outside of designer.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Oct 03, 2015 06:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601537"></a>
                                    <font class="smallfont"><p>done, i did split the rules in multiple files, the controllers reads the files in order from A...Z  so make sure your start functions in your rules are in the first file to be read otherwise it doesnt work </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by robnas at Oct 04, 2015 15:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601538"></a>
                                    <font class="smallfont"><p>you have to put the global variables in top of every file you made:<br/>
like:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
<span class="code-comment">//Package, globals and imports:
</span><span class="code-keyword">package</span> org.openremote.controller.model.event
<span class="code-comment">//<span class="code-keyword">package</span> org.openremote.controller.protocol
</span>global org.openremote.controller.statuscache.CommandFacade execute;
global org.openremote.controller.statuscache.SwitchFacade switches;
global org.openremote.controller.statuscache.LevelFacade levels;
<span class="code-keyword">import</span> org.openremote.controller.protocol.*;
<span class="code-keyword">import</span> org.openremote.controller.model.event.*;
<span class="code-keyword">import</span> java.lang.<span class="code-object">Float</span>;
<span class="code-keyword">import</span> java.sql.Timestamp;
<span class="code-keyword">import</span> java.util.Date; 
<span class="code-keyword">import</span> java.util.concurrent.TimeUnit;
<span class="code-keyword">import</span> org.openremote.controller.utils.Logger;
<span class="code-keyword">import</span> org.openremote.controller.Constants;
<span class="code-keyword">import</span> java.io.*;
<span class="code-keyword">import</span> java.util.Properties;
<span class="code-keyword">import</span> javax.mail.Message;
<span class="code-keyword">import</span> javax.mail.MessagingException;
<span class="code-keyword">import</span> javax.mail.PasswordAuthentication;
<span class="code-keyword">import</span> javax.mail.Session;
<span class="code-keyword">import</span> javax.mail.Transport;
<span class="code-keyword">import</span> javax.mail.internet.InternetAddress;
<span class="code-keyword">import</span> javax.mail.internet.MimeMessage;
<span class="code-keyword">import</span> java.text.DecimalFormat;
<span class="code-keyword">import</span> java.awt.Color
<span class="code-keyword">import</span> java.util.*;
<span class="code-keyword">import</span> java.util.Random;
<span class="code-keyword">import</span> java.lang.<span class="code-object">System</span>;
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by robnas at Oct 04, 2015 15:51
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:44</font></td>
		    </tr>
	    </table>
    </body>
</html>