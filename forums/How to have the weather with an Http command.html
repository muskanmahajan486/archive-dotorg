<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : How to have the weather with an Http command</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : How to have the weather with an Http command
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 10, 2013 by <font color="#0050B2">louise35</font>.
				    </div>

				    <p>Hello, </p>

<p>On the screen, I want to have the weather. I'm using an API which come from :
<a href="http://www.wunderground.com/weather/api/d/docs?d=data/index&amp;MR=1">http://www.wunderground.com/weather/api/d/docs?d=data/index&amp;MR=1</a></p>

<p>I can display the weather (Cloudy, Chancerain, Sunny) but I want to have the icon which corresponds. All icons are here:
<a href="http://www.wunderground.com/weather/api/d/docs?d=resources/icon-sets&amp;MR=1">http://www.wunderground.com/weather/api/d/docs?d=resources/icon-sets&amp;MR=1</a></p>

<p>I enter on my http command :
<a href="http://api.wunderground.com/api/MY_KEY/conditions/lang:FR/q/fr/MY_TOWN.xml">http://api.wunderground.com/api/MY_KEY/conditions/lang:FR/q/fr/MY_TOWN.xml</a><br/>
XPath Expression: //response/current_observation/weather</p>

<p>Someone can help me,<br/>
Thank you in advance,</p>

<p>Louise</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22876186"></a>
                                    <font class="smallfont"><p>Your command seems OK. With that command make a sensor of <b>type:Custom</b>, where you enter all the possible weather types.<br/>
You than must download all the possible images. Next in one of your screens add an image widget. Select the Sensor you just created. Than under sensor state you can bind the images to the weathertypes.<br/>
(See here <a href="http://www.openremote.org/display/~pz1/Stella+Z+with+RaZ-OR">how I did it with heating symbols</a> Under <em>Implementation example</em>, click on second and third screenshot to see full image))</p>

<p>Pieter</p>

<p><b>edit:</b> Descriptions related to icons are here: <a href="http://www.wunderground.com/weather/api/d/docs?d=resources/phrase-glossary">http://www.wunderground.com/weather/api/d/docs?d=resources/phrase-glossary</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 10, 2013 14:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876435"></a>
                                    <font class="smallfont"><p>Did this work for you?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 16, 2013 08:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876437"></a>
                                    <font class="smallfont"><p>Yes I think. But I can't use this (wunderground) api, this have a limit of time. Did you know an other?<br/>
Thank you for your answer!<br/>
Did you know if we can send mail?</p>

<p>Thank you!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by louise35 at Sep 16, 2013 09:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876438"></a>
                                    <font class="smallfont"><p>I do use the free version of Wunderground. To reduce the number of calls I make a download of the complete xml tree every 15 minutes or so as I decribed it here: <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Use+XML+Data+Sources">http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Use+XML+Data+Sources</a>. Last section <em>Availability of XML data</em>. As a matter of fact I now use crontab to get the data, since the timed shell executes proved to be very unreliable.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 16, 2013 09:10
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:41</font></td>
		    </tr>
	    </table>
    </body>
</html>