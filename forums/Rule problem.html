<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Rule problem</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Rule problem
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2014 by <font color="#0050B2">nickez</font>.
				    </div>

				    <p>Hi.</p>

<p>I am new to Openremote.<br/>
I have installed it on a qnap with java installed. But i can't get the rules to work? <br/>
I want to turn on lights on 16:30 but nothing happens. Is there any log file somewhere i look into and see whats wrong?<br/>
I attached a picture on the rule i created.</p>

<p>/Niclas</p>


<p><img src="attachments/22882144/23036370.png" align="absmiddle" border="0"/></p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22882144/23036370.png">Skärmavbild 2014-01-04 kl. 16.52.01.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22882144/23036372.png">Skärmavbild 2014-01-05 kl. 13.11.19.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22882144/23036371.png">Skärmavbild 2014-01-05 kl. 13.11.19.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22882161"></a>
                                    <font class="smallfont"><p>Hello Niclas.</p>

<p>I am also new to Open Remote, but after 2 months  I am ready to test my knowledge and help you. Please call me Skype: novoster</p>

<p>You need to add sensors, then read its state, and then switch off or on depending on the sensor state or with help of switch. And finally add timer to this construction. And possibly some additional buttons. Rules are more complecated then you may think. <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>And for the future I don't recommend you to have any command or sensor in the project if you don't need it because the rule will behave itself unpredictable! If you need to test something - register separate account and make experiments there.</p>

<p>If working rule stopped to work correctly - it means you have mistakes in other new rules. Never forget it. All these things make writing of the code really hard work to do. But simple rules are working fine and easy to make.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by sattva at Jan 05, 2014 01:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882164"></a>
                                    <font class="smallfont"><p>Which version of Java did you install? The version of Drools used in OpenRemote does not work with "Java 7". <br/>
For my Synology I did install "Java SE for Embeded 6"<br/>
If you had that correct, double check if the command "Ljus Kok" is spelled the same as in the command definition.<br/>
PS: This rule won't fire at 22:45 as it's name suggests but at the time given in the timer expression. Guess you were experimenting <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 05, 2014 08:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882172"></a>
                                    <font class="smallfont"><p>Thank you for quick answer.</p>

<p>I have Java version 6.0.22 installed. I was wonder about the command definition. You mean the command name? i attach another image that shows everything i done to make the light go on 16:30. The command work perfectly when press the light button on my iPad.</p>

<p>/Best regards Niclas</p>


<p><img src="attachments/22882144/23036371.png" align="left" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nickez at Jan 05, 2014 12:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882173"></a>
                                    <font class="smallfont"><p>Can't see anything wrong with this. <br/>
(I could not find the reply option in your post below so I answered here.)</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 05, 2014 13:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882184"></a>
                                    <font class="smallfont"><p>Can you show Light Button? Screenshot or photo picture?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by sattva at Jan 05, 2014 20:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882185"></a>
                                    <font class="smallfont"><p>This looks much better.<br/>
use at start and at the end same <div class="error"><span class="error">Unknown macro: { code }</span> </div><br/>
but without spaces.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
rule <span class="code-quote">"Lights off"</span>
timer (cron: 0 30 16 * * ?) <span class="code-comment">// 16:30
</span>when
  eval (<span class="code-keyword">true</span>)
then
  execute.command (<span class="code-quote">"Ljus Kok"</span>);
end
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by sattva at Jan 05, 2014 21:07
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:38</font></td>
		    </tr>
	    </table>
    </body>
</html>