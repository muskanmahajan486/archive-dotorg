<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Reading a boolean status of a variable - HTTP protocol (Beckhoff PLC)</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Reading a boolean status of a variable - HTTP protocol (Beckhoff PLC)
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 20, 2015 by <font color="#0050B2">homecontrol</font>.
				    </div>

				    <p>It's easy to give a command to a device (in my case a beckhoff CX8090 plc) with HTTP protocol, by making a HTTP command like "http://xxx.xxx.xxx.xxx/or_debug.asp?set=.variable:1"<br/>
But its not working for me to read a status of a variable with the HTTP protocol, not even boolean.<br/>
What do i do wrong:<br/>
I make a new command with HTTP protocol, name: variable1, "http://xxx.xxx.x.xxx/or_debug.asp?get=variable1", HTTP methode: GET, polling interval: 1s.<br/>
I make a sensor, name: status, command: variable1, type: switch.<br/>
In designer i make a label and select the right sensor, 1: on, 0: off.<br/>
On my iphone the label says: N/A.<br/>
Can someone correct me when this is not the way to load a status of a variable.</p>

<p>Thanks!<br/>
Kenny</p>


<p>In the LOG i can see the controller receives the messages, i believe of the polling interval of the sensors:</p>

<p>INFO 2015-09-20 11:54:02,517 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:03,692 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:04,669 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:05,000 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:06,152 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:06,820 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:07,340 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:07,580 (HTTP): received message: .RI_Temp_slk2_actief=1&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:08,512 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:08,968 (HTTP): received message: .Temp_slk2_actief = true&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:09,717 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:09,773 (HTTP): received message: .RI_Temp_slk2_actief=1&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:10,921 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:11,144 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:12,068 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:13,264 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:13,323 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:14,404 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:15,561 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:15,603 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:16,770 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:17,702 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:17,938 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:19,080 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:19,847 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:20,374 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:21,519 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:21,991 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:22,588 (HTTP): received message: .RI_Temp_slk2_actief=1&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:22,790 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:23,992 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:24,170 (HTTP): received message: .Temp_slk2_actief = true&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:25,191 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:26,437 (HTTP): received message: .Temp_slk2_actief = true&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:26,454 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:27,652 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:28,582 (HTTP): received message: .Temp_slk2_actief = true&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:28,852 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:30,051 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:30,451 (HTTP): received message: .RI_Temp_slk2_actief=1&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:30,729 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:31,352 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:32,549 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:32,887 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:33,749 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:34,973 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:35,057 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:36,168 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:37,227 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:37,391 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:38,582 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:39,367 (HTTP): received message: .Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete<br/>
INFO 2015-09-20 11:54:39,750 (HTTP): received message: .Temp_slk3_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete</p>

<p>But does it mean it send a message or it receives the message?<br/>
it looks for me the controller only can send command to my PLC, but does not receive commands?</p>

<p>I'm running the controller "Controller-2.1.0_SNAPSHOT-2013-06-17" back on my PC now </p>

<p>Still on my iphone i can see N/A on the label the sensor (type switch mode) is linked to.<br/>
i can see the label text on the other label the sensor (type custom) is linked to.</p>

<p>Can someone help me out?<br/>
thanks,<br/>
regards</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23601404"></a>
                                    <font class="smallfont">
<p>a question i'm asking myself is:<br/>
Do i have to filter out the boolean "False" or "True" out of the received message When i use a switch sensor?</p>

<p>when typing in the HTTP command in an explorer, the source telse me:<br/>
".Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete"</p>

<p>If the "switch" sensor cannot handle the complete string, how do i filter out the value 'false' or 'true' out of the string?<br/>
maybe by using the XPath Expression or RegularExpression?<br/>
And what should i enter?</p>

<p>i'm just searching, don't know or it makes sense.<br/>
let me know if so.<br/>
thanks</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by homecontrol at Sep 23, 2015 13:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601405"></a>
                                    <font class="smallfont"><p>Do use a sensor <b>type:custom</b> which allows you to map True/False to on/off See: <a href="http://www.openremote.org/display/docs/Designer+2.0+-+Create+Custom+Sensor">http://www.openremote.org/display/docs/Designer+2.0+-+Create+Custom+Sensor</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 23, 2015 14:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601415"></a>
                                    <font class="smallfont"><p>Thanks for the replay PZ1,<br/>
It seems i just have to fill in the complete retrieved message: ".Temp_slk2_actief = false&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete" as the value.<br/>
it works this way.</p>

<p>I read the link above many times, and never saw different exaples.<br/>
i always thought i had to filter out the word false or true out of the string before the sensor could read it.<br/>
But now i get it <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>thanks</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by homecontrol at Sep 24, 2015 13:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601416"></a>
                                    <font class="smallfont"><p>I wasn't aware of this long string. So you could make a ReGeX filter as well in the command specification</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"><span class="code-keyword">false</span>|<span class="code-keyword">true</span></pre>
</div></div>
<p>And use only false and true in your custom sensor. That may be more rigid and easier to maintain in the end</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 24, 2015 14:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601444"></a>
                                    <font class="smallfont"><p>PZ1, this works also just fine! and is much easier.</p>

<p>related:<br/>
I also have temperatures which i whant to read out.<br/>
they give me for example the string: ".CEL_slk2 = 19.2&lt;br&gt;&lt;br&gt;&lt;br&gt;Complete"<br/>
of course 19.2 changes all the time, how can i filter out these temperature the best way? <br/>
(whithout filling in all posibilities in the custom sensor ...)</p>

<p>If i could this, i'm happy <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Thanks again!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by homecontrol at Sep 25, 2015 16:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601452"></a>
                                    <font class="smallfont"><p>Try with regex</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">[0-9]{2}.[0-9]{1}</pre>
</div></div>

<p>There are online regex testers where you can try things out (e.g. <a href="https://regex101.com/">https://regex101.com/</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 26, 2015 09:06
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:31</font></td>
		    </tr>
	    </table>
    </body>
</html>