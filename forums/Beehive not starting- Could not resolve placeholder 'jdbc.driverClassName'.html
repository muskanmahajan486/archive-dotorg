<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Beehive not starting- Could not resolve placeholder 'jdbc.driverClassName'</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Beehive not starting- Could not resolve placeholder 'jdbc.driverClassName'
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 07, 2014 by <font color="#0050B2">djl181</font>.
				    </div>

				    <p>Hello</p>

<p>I am in the process of building a local OpenRemote setup on Debian 7 (Wheezy) and am using the following:
<a href="http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server">http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server</a></p>

<p>I am finding that beehive does not start with the following in the tomcat logs:<br/>
------<br/>
07/09/2014 11:07:19 PM org.apache.coyote.AbstractProtocol pause<br/>
INFO: Pausing ProtocolHandler "http\-bio\-8080"<br/>
07/09/2014 11:07:19 PM org.apache.catalina.core.StandardService stopInternal<br/>
INFO: Stopping service Catalina<br/>
07/09/2014 11:07:19 PM org.apache.coyote.AbstractProtocol stop<br/>
INFO: Stopping ProtocolHandler "http\-bio\-8080"<br/>
07/09/2014 11:07:19 PM org.apache.coyote.AbstractProtocol destroy<br/>
INFO: Destroying ProtocolHandler "http\-bio\-8080"<br/>
07/09/2014 11:07:50 PM org.apache.coyote.AbstractProtocol init<br/>
INFO: Initializing ProtocolHandler "http\-bio\-8080"<br/>
07/09/2014 11:07:50 PM org.apache.catalina.startup.Catalina load<br/>
INFO: Initialization processed in 723 ms<br/>
07/09/2014 11:07:50 PM org.apache.catalina.core.StandardService startInternal<br/>
INFO: Starting service Catalina<br/>
07/09/2014 11:07:50 PM org.apache.catalina.core.StandardEngine startInternal<br/>
INFO: Starting Servlet Engine: Apache Tomcat/7.0.28<br/>
07/09/2014 11:07:50 PM org.apache.catalina.startup.HostConfig deployWAR<br/>
INFO: Deploying web application archive /var/lib/tomcat7/webapps/beehive.war<br/>
07/09/2014 11:07:52 PM org.apache.catalina.core.StandardContext listenerStart<br/>
SEVERE: Error configuring application listener of class org.openremote.beehive.listener.ApplicationListener<br/>
java.lang.ExceptionInInitializerError<br/>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)<br/>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)<br/>
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)<br/>
        at java.lang.reflect.Constructor.newInstance(Constructor.java:534)<br/>
        at java.lang.Class.newInstance(Class.java:374)<br/>
        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:134)<br/>
        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4726)<br/>
        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5284)<br/>
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)<br/>
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:899)<br/>
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:875)<br/>
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)<br/>
        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:963)<br/>
        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1600)<br/>
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)<br/>
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)<br/>
        at java.util.concurrent.FutureTask.run(FutureTask.java:166)<br/>
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)<br/>
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)<br/>
        at java.lang.Thread.run(Thread.java:701)<br/>
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource datasource.xml: Could not resolve placeholder 'jdbc.driverClassName'<br/>
        at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processProperties(PropertyPlaceholderConfigurer.java:249)<br/>
        at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactory(PropertyResourceConfigurer.java:74)<br/>
        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:472)<br/>
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:334)<br/>
        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:122)<br/>
        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:76)<br/>
        at org.openremote.beehive.spring.SpringContext.&lt;init&gt;(SpringContext.java:44)<br/>
        at org.openremote.beehive.spring.SpringContext.getInstance(SpringContext.java:54)<br/>
        at org.openremote.beehive.listener.ApplicationListener.&lt;clinit&gt;(ApplicationListener.java:48)<br/>
        ... 20 more<br/>
07/09/2014 11:07:52 PM org.apache.catalina.core.StandardContext listenerStart<br/>
SEVERE: Skipped installing application listeners due to previous error(s)<br/>
07/09/2014 11:07:52 PM org.apache.catalina.core.StandardContext startInternal<br/>
SEVERE: Error listenerStart<br/>
07/09/2014 11:07:52 PM org.apache.catalina.core.StandardContext startInternal<br/>
SEVERE: Context <span class="error">&#91;/beehive&#93;</span> startup failed due to previous errors<br/>
07/09/2014 11:07:52 PM org.apache.catalina.startup.HostConfig deployDirectory<br/>
INFO: Deploying web application directory /var/lib/tomcat7/webapps/ROOT<br/>
07/09/2014 11:07:53 PM org.apache.coyote.AbstractProtocol start<br/>
INFO: Starting ProtocolHandler "http\-bio\-8080"<br/>
07/09/2014 11:07:53 PM org.apache.catalina.startup.Catalina start<br/>
INFO: Server startup in 2673 ms<br/>
--------</p>


<p>When looking at the error:<br/>
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource datasource.xml: Could not resolve placeholder 'jdbc.driverClassName'</p>

<p>My config/config.properties states jdbc.driverClassName=com.mysql.jdbc.Driver</p>

<p>djl181@openremote:~/openremote_sources/Beehive_3_0_0_Beta1$ more config/config.properties <br/>
#jdbc onfig                                                                                                            <br/>
jdbc.driverClassName=com.mysql.jdbc.Driver                                                                              <br/>
#jdbc.url=jdbc:mysql://localhost:3306/beehive_3_0_0_alpha5?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF-8   <br/>
jdbc.url=jdbc:mysql://localhost:3306/beehive?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF-8                 <br/>
jdbc.username = root                                                                                                    <br/>
jdbc.password = password_here                                                                                                </p>

<p>#Work directory, contains svn-repos, workCopy and sync history logs.                                                    <br/>
#work.dir = /opt/tomcat6/beehive.openremote.org/3.0/alpha5<br/>
work.dir = /var/lib/tomcat7/webapps/beehive</p>

<p>#iconDir<br/>
#icons.dir = <a href="http://beehive.openremote.org/3.0/alpha5/icons/">http://beehive.openremote.org/3.0/alpha5/icons/</a><br/>
icons.dir = /var/lib/tomcat7/webapps/icons/    # Don't know what it is for ?!</p>

<p>#lircCrawRegex, it can not be modified until the structure of remote lirc website had changed.<br/>
lirc.craw.regex = &lt;tr&gt;&lt;td valign=\"top\"&gt;&lt;img src=\"/icons/(folder|text|script)\\.gif\" alt=\"\\[<a href="file://s//w">\\s\\w</a>+\\]\"&gt;&lt;/td&gt;&lt;td<br/>
&gt;&lt;a href=\"(.<b>?)/?\"&gt;.</b>?/?&lt;/a&gt;&lt;/td&gt;&lt;td align=\"right\"&gt;(\\d\\d-\\w\\w\\w-\\d\\d\\d\\d\\s\\d\\d:\\d<br clear="all" />d)  &lt;/td&gt;&lt;td align=\<br/>
"right\"&gt;\\s*<span class="error">&#91;-\\w\\.&#93;</span>+<br clear="all" />s*&lt;/td&gt;&lt;/tr&gt;</p>


<p>Any suggestions on what I have missed.</p>

<p>Thanks in advance for your time and help.</p>

<p>Dennis.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22888591"></a>
                                    <font class="smallfont"><p>I was sure it was something missing in my system build. Finally after:<br/>
      sudo apt-get install libmysql-java libnb-java5-java libspring-beans-java</p>

<p>and a reboot, beehive now starts.</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by djl181 at Sep 08, 2014 15:45
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:34</font></td>
		    </tr>
	    </table>
    </body>
</html>