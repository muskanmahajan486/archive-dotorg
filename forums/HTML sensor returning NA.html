<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : HTML sensor returning NA</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : HTML sensor returning NA
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Apr 24, 2014 by <font color="#0050B2">cramar</font>.
				    </div>

				    <p>Hi I have just started using OpenRemote and a search suggests this has been asked before but I still cant figure out what I am doing wrong.</p>

<p>I have a small HelloWorld.html file in the root directory of the controller.  Yep all the file contains is Hello World</p>

<p>I have created a command called TEST using the HTTP protocol, GET method and URL <a href="http://localhost:8080/controller/helloworld.html">http://localhost:8080/controller/helloworld.html</a> polling every 5 seconds</p>

<p>I then have created a sensor called CheckHTML with the command TEST with a custom type and no state items.</p>

<p>For the UI I have a simple panel with a 1x1 grid containing a label with text lblTest with the sensor CheckHTML selected.</p>

<p>I saved and sync'd with the online designer.</p>

<p>When I check the device where I expect to see Hello World, I see N/A.</p>

<p>What am I doing wrong <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Thanks.</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22886066/23036563.jpg">command.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22886066/23036562.jpg">sensor.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22886066/23036561.jpg">command.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22886066/23036564.jpg">Capture.JPG</a> (image/jpeg)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22886074"></a>
                                    <font class="smallfont"><p>The "root directory" in this case should be 'OR/webapps/controller', it's not clear from your post if that's the case?</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Apr 25, 2014 00:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886075"></a>
                                    <font class="smallfont"><p>Thanks Juha, Yes it think it is in the correct directory.  The full path is user/craig/project/ORC/webapps/controller/helloworld.html  </p>

<p>I can browse to the html document using <a href="http://localhost:8080/controler/helloworld.html">http://localhost:8080/controler/helloworld.html</a>. Therefore I am a bit puzzled.  I can get a sensor to work connecting yahoo weather the only difference here is I am trying to reads a html not xml document (cant see the difference) and on the local webserver not the internet.  It will be something stupid on my part that will make me looks like a real NOOB which I may well be <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Craig</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cramar at Apr 25, 2014 01:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886079"></a>
                                    <font class="smallfont"><p>I have made some progress.. As suspected it was a noob error.  My .html was actually .htm so it was never going to work...  <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>So now that is rectified instead of N/A the interface is returning the text of the label (lblTest) but still not Hello World as I expected.</p>

<p>Hmmm...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cramar at Apr 25, 2014 03:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886084"></a>
                                    <font class="smallfont"><p>a screendump of your http command would be helpful. (please add url seperately if it is very long)</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Apr 25, 2014 08:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886086"></a>
                                    <font class="smallfont"><p>Thanks Peter,<br/>
The URL is HTTP://localhost/8688/controller/helloworld.html</p>

<p>Below are two screen grabs of the command and sensor<br/>
<a class="confluence-thumbnail-link 591x691" href='http://www.openremote.org/download/attachments/22886066/command.JPG'><img src="attachments/thumbnails/22886066/23036561" align="absmiddle" border="0"/></a><br/>
<a class="confluence-thumbnail-link 585x680" href='http://www.openremote.org/download/attachments/22886066/sensor.JPG'><img src="attachments/thumbnails/22886066/23036562" align="absmiddle" border="0"/></a></p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cramar at Apr 25, 2014 08:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886087"></a>
                                    <font class="smallfont"><p>I did replicate this, and for me it works fine. I do notice you use port 8688. Are you indeed using the professional controller? If not I think you need to use 8080 (I am on Pro)</p>

<p>PS: Next time you update a screenshot select thumbnail. Takes less space here, and with a click on the image the reader gets full size.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Apr 25, 2014 08:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886088"></a>
                                    <font class="smallfont"><p>Thanks Peter - not sure what is going on then..</p>

<p>I changed the port number as described <a href="http://www.openremote.org/display/docs/Change+Controller+Default+Port">here</a> as I had a port conflict.</p>

<p>Thanks for the note about the thumbnail, will do that in future.</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cramar at Apr 25, 2014 09:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886089"></a>
                                    <font class="smallfont"><p>There is nothing special about the html the command is expecting is there?</p>

<p>I simply have "Hello World" in a file called helloworld.html with no tags.</p>

<p>Craig</p>


</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cramar at Apr 25, 2014 09:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886091"></a>
                                    <font class="smallfont"><p>That is what I did too. just:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">hello world</pre>
</div></div>
<p>without quotes, and the same url in the command.<br/>
On the panel I only added a label (no grid)</p>

<ul class="alternate" type="square">
	<li>Does the weather example work on a URL on the WEB?</li>
</ul>


<ul class="alternate" type="square">
	<li>Can you access your helloworld.html with a brower? Just enter the url from the command there.</li>
</ul>


<p>pz</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Apr 25, 2014 10:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886103"></a>
                                    <font class="smallfont"><p>Now I am getting frustrated. <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>The weather example works on the yahoo weather.<br/>
<a class="confluence-thumbnail-link 692x742" href='http://www.openremote.org/download/attachments/22886066/Capture.JPG'><img src="attachments/thumbnails/22886066/23036564" align="absmiddle" border="0"/></a></p>

<p>Yes hello world can be accessed from the browser.  Not sure what you mean by 'Just enter the URL from the command there'.  I browsed to the URL and returned the expected page.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cramar at Apr 25, 2014 22:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886107"></a>
                                    <font class="smallfont"><p>just found the HTTP.log file, there appears to be an odd control character in my hello world.html.  I suspect that is the cause.  See below.</p>


<p>INFO 2014-04-26 09:39:15,294 (HTTP): received message: ÿþH e l l o   W o r l d </p>

<p>it appears that Powershell, where I created the html file adds in the control character....</p>

<p>Problem solved.  Thanks for the help...</p>

<p>Craig</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cramar at Apr 26, 2014 00:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886114"></a>
                                    <font class="smallfont"><p>It's a byte-order mark for UTF-16. For regular text files UTF-8 tends to be sufficient and it's usually not recommended to include byte order mark in those cases. In general byte order mark still cause all kinds of strangeness (developers rarely remember to handle them correctly).</p>

<p><a href="http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8">http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Apr 26, 2014 03:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594693"></a>
                                    <font class="smallfont"><p>I have the same problem. I am doing the same simple project. I found the control character too and so I changed the codification. Nothing doing. Still N/A showing up. It looks like my smartphone can't connect to my localhost. <br/>
Any idea what should I do? <br/>
Thank you very much</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mcberta2 at Dec 18, 2014 10:17
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:36</font></td>
		    </tr>
	    </table>
    </body>
</html>