<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Android Force Close when changing wifi 3g</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Android Force Close when changing wifi 3g
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 28, 2011 by <font color="#0050B2">geirgp</font>.
				    </div>

				    <p>Hi,</p>

<p>I'm having some issues with the Android app installed from Market (beta2). It tends to crash (either force close, display error message stating that it cannot find the controller, or just lock up) when: </p>
<ul>
	<li>I leave the house (changing from Wifi to 3G)</li>
	<li>Openremote has been inactive for a some time, regardless of me leaving/entering the wifi range of the house.</li>
</ul>


<p>It is the only thing that is currently impacting the WAF of my home automation right now, and I'm sure others bcould be facing that issue too <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Is there anyway I can help with solving this issue? I can send logs from my phone and I'm also happy to test pre-market apks. </p>


<p>keep up the good work!</p>

<p>Cheers,<br/>
Geir</p>




				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-19434639"></a>
                                    <font class="smallfont"><p>Can you try the snapshot of 2011-10-12 : <a href="http://sourceforge.net/projects/openremote/files/For%20Developers/OpenRemote-2.0-Android_SNAPSHOT_20111012.apk/download">http://sourceforge.net/projects/openremote/files/For%20Developers/OpenRemote-2.0-Android_SNAPSHOT_20111012.apk/download</a></p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 28, 2011 11:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434641"></a>
                                    <font class="smallfont"><p>Thanks for the tip. I've just installed it and will take it for a spin over the next few days.</p>

<p>One thing I've noticed already is that this snapshot version does not stretch the "panel" to fit screen size, which beta2 would do. </p>

<p>My wife and I have phones with different screen resolutions, so the fact that beta2 does this fitting means that I can reuse the same panel design for both phones regardless of the resolution I've picked in the OpenRemote Designer. I can't do that when using this snapshot version because the panel would be too big for my wife's phone, or too small for my phone... </p>

<p>Apart from that, I'll let you know how the snapshot version works for me in a few days or so <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>


</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by geirgp at Dec 28, 2011 13:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434642"></a>
                                    <font class="smallfont"><p>Yeah the stretching thing is something we adjusted a couple of times &#8211; it is likely to stay the way you see in the current snapshot.</p>

<p>That does mean that you need to go into designer and reproduce the UI for two different resolutions if you want the screen to be completely filled.</p>

<p>The issue with the stretching was that it created unpleasant fuzzy bitmaps (despite the best effort from Android's runtime) so we decided not to default to it. This way bitmaps do remain crisp if you do provide high resolution images but they do have to be designed for particular resolution in mind.</p>

<p>This will be the default behavior for now. We may later add option where you can choose if you want your bitmaps to be stretched (i.e. you don't want to use the default fixed bitmap size) but this will require some changes to the designer and XML schemas so won't be available for now.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 28, 2011 13:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434643"></a>
                                    <font class="smallfont"><p>And btw, if you're comfortable with building your own APK, the bitmap stretching behavior is trivial to change yourself (it's a single setting change in an XML file).</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 28, 2011 14:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434644"></a>
                                    <font class="smallfont"><p>Cool, I might try that then. I've poked around a bit in the source code, but cannot seem to find this setting. Could you perhaps give me a pointer please?</p>

<p>Thanks.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by geirgp at Dec 28, 2011 14:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434645"></a>
                                    <font class="smallfont"><p>In AndroidManifest.xml:</p>

<p>EDIT: set anyDensity to true (or remove the attribute)</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml">

    &lt;supports-screens android:smallScreens=<span class="code-quote">"true"</span> android:normalScreens=<span class="code-quote">"true"</span> android:largeScreens=<span class="code-quote">"true"</span> android:xlargeScreens=<span class="code-quote">"true"</span> 
                      android:anyDensity=<span class="code-quote">"false"</span> /&gt;


</pre>
</div></div>

<p><a href="http://www.openremote.org/display/docs/Building+OpenRemote+Android+2.0+Console" title="Building OpenRemote Android 2.0 Console">Building OpenRemote Android 2.0 Console</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 28, 2011 14:27
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:44</font></td>
		    </tr>
	    </table>
    </body>
</html>