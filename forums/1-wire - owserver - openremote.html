<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : 1-wire - owserver - openremote</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : 1-wire - owserver - openremote
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 16, 2014 by <font color="#0050B2">tommi</font>.
				    </div>

				    <p>Hi all, <br/>
Ii have problem with reading temperatures on my 1-wire network. <br/>
I have 3-temperature sensors and one relay switch, <br/>
configuring in the same way as in the manual <a href="http://openremote.org/display/docs/OpenRemote+2.0+How+To+-+1-Wire+Sensors">Manual</a> relay works fine but temperature shows N/A<br/>
any advise? what to check, what to change?<br/>
Thank you in advance<br/>
Rgds<br/>
Tomasz</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22888058"></a>
                                    <font class="smallfont"><p>Do you see something in the log files?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 17, 2014 14:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888072"></a>
                                    <font class="smallfont"><p>only:<br/>
(1-WIRE): Unable to read from OWSERVER.<br/>
org.owfs.jowfsclient.OwfsException: Error received<br/>
	at org.owfs.jowfsclient.internal.OwfsClientImpl.readPacket(OwfsClientImpl.java:576)<br/>
	at org.owfs.jowfsclient.internal.OwfsClientImpl.read(OwfsClientImpl.java:314)<br/>
	at org.openremote.controller.protocol.onewire.OneWireCommand.read(OneWireCommand.java:139)<br/>
	at org.openremote.controller.protocol.onewire.OneWireCommand.run(OneWireCommand.java:214)<br/>
	at java.lang.Thread.run(Thread.java:745)</p>

<p>but in the same time PIO.A and PIO.B 0/1 status read/write to relay works fine.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Aug 17, 2014 19:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888076"></a>
                                    <font class="smallfont"><p>Can you connect with owhttp and read the value?<br/>
The read command returns an exception. Did you check the address (maybe a space at the end) ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 17, 2014 21:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888078"></a>
                                    <font class="smallfont"><p>owhttp works fine, address checked, alias checked, <br/>
if i "ask" for value for "power" it returns correct value "1"<br/>
temperature, temperature10, temperature11, temperature12, temperature9	returns n/a</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Aug 17, 2014 22:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888083"></a>
                                    <font class="smallfont"><p>Could you try without alias?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 18, 2014 08:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888086"></a>
                                    <font class="smallfont"><p>already try, no change.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Aug 18, 2014 09:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888087"></a>
                                    <font class="smallfont"><p>I am running out of ideas.<br/>
What devices do you use?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 18, 2014 10:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888088"></a>
                                    <font class="smallfont"><p>Synology disk station ds213<br/>
Interface on ds9097u / DS2401<br/>
3x temperature sensor DS18B20<br/>
1x relay DS2413<br/>
All works fine on Win7 (one wire reader) openWRT on router, and eaven on the same Synology I have put www with temperature measurements and works fine. all works accept reding temp on openremote.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Aug 18, 2014 10:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888090"></a>
                                    <font class="smallfont"><p>Which OpenRemote version?<br/>
Which version of owserver ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 18, 2014 11:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888093"></a>
                                    <font class="smallfont"><p>OpenRemote: 2.0.1-0008<br/>
owfs 2.8p20<br/>
this is what i see in packages in the synology,</p>

<p>I can read temp. from 1-wire reader on the android.</p>

<p>notice that sometime is shows some readings but only when it reach "full" temp so 24 is visible in openremote but 24.1 no...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Aug 18, 2014 14:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888099"></a>
                                    <font class="smallfont"><p>If it shows 24 but not 24.1, it might be that your label is too small. Make it wider and test again.</p>

<p>Not sure how the different console implementations deal with that but I've seen issues similar to this.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Aug 18, 2014 16:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888129"></a>
                                    <font class="smallfont"><p>Updated to OpenRemote &#8211; Version 2.14.0<br/>
no change <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Aug 20, 2014 19:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888139"></a>
                                    <font class="smallfont"><p>What do you mean with "1-wire reader on android"? Do you use OpenRemote console on android or another tool to conenct to owserver?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 21, 2014 09:41
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888140"></a>
                                    <font class="smallfont"><p>Different tool to connect to owserver. <br/>
owserver is hosted on the same machine on which there is openremote.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Aug 21, 2014 09:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888141"></a>
                                    <font class="smallfont"><p>ok. the only idea left would be that the java library that comes with OR has a problem with your owserver version.<br/>
Could you downgrade to an earlier version of owserver eg. 2.8p13 ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 21, 2014 10:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888150"></a>
                                    <font class="smallfont"><p>Did you try Tom's Kucharski version of the controller? It has rewritten OneWire commands. Here you have some details: <a href="http://www.openremote.org/display/forums/Extended+OneWire+support">http://www.openremote.org/display/forums/Extended+OneWire+support</a> and the SVN repo: <a href="https://svn.code.sf.net/p/openremote/code/workspace/tkucharski/Controller_2_1_0_FM_20130617_OneWire">https://svn.code.sf.net/p/openremote/code/workspace/tkucharski/Controller_2_1_0_FM_20130617_OneWire</a>. Once I started using it, all my OneWire problems have gone.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by druciak at Aug 21, 2014 20:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888162"></a>
                                    <font class="smallfont"><p>Noob question, how to install it on running instance without errors?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Aug 21, 2014 20:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888164"></a>
                                    <font class="smallfont"><p>You just need to build this version from the sources (or get binaries from somebody), replace controller installation with the built one and synchronize again with your online design.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by druciak at Aug 21, 2014 21:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888451"></a>
                                    <font class="smallfont"><p>Changed log level to Debug and I can see now:<br/>
DEBUG 2014-09-02 09:21:56,983 (1-WIRE): 1-Wire sensor /3A.6BF114000000/PIO.A value is going to be read.<br/>
DEBUG 2014-09-02 09:21:56,984 (1-WIRE): Client created, before call<br/>
DEBUG 2014-09-02 09:21:56,985 (1-WIRE): 1-Wire sensor /3A.6BF114000000/PIO.B value is going to be read.<br/>
DEBUG 2014-09-02 09:21:56,986 (1-WIRE): Client created, before call<br/>
DEBUG 2014-09-02 09:21:56,988 (1-WIRE): After client call, value = '0'<br/>
DEBUG 2014-09-02 09:21:56,989 (1-WIRE): Sensor /3A.6BF114000000/PIO.B returns value '0'<br/>
DEBUG 2014-09-02 09:21:56,991 (1-WIRE): After client call, value = '0'<br/>
DEBUG 2014-09-02 09:21:56,991 (1-WIRE): Sensor /3A.6BF114000000/PIO.A returns value '0'<br/>
DEBUG 2014-09-02 09:21:57,064 (1-WIRE): After client call, value = '     24.9375'<br/>
DEBUG 2014-09-02 09:21:57,064 (1-WIRE): Sensor /28.5E85CE040000/temperature returns value '24.9375'<br/>
DEBUG 2014-09-02 09:21:57,993 (1-WIRE): 1-Wire sensor /3A.6BF114000000/PIO.B value is going to be read.<br/>
DEBUG 2014-09-02 09:21:57,994 (1-WIRE): Client created, before call<br/>
DEBUG 2014-09-02 09:21:57,995 (1-WIRE): 1-Wire sensor /3A.6BF114000000/PIO.A value is going to be read.<br/>
DEBUG 2014-09-02 09:21:57,995 (1-WIRE): Client created, before call<br/>
DEBUG 2014-09-02 09:21:57,998 (1-WIRE): After client call, value = '0'<br/>
DEBUG 2014-09-02 09:21:58,052 (1-WIRE): Sensor /3A.6BF114000000/PIO.A returns value '0'<br/>
DEBUG 2014-09-02 09:21:58,023 (1-WIRE): 1-Wire sensor /28.6B47CD040000/temperature value is going to be read.<br/>
DEBUG 2014-09-02 09:21:58,053 (1-WIRE): Client created, before call<br/>
DEBUG 2014-09-02 09:21:58,000 (1-WIRE): After client call, value = '0'<br/>
DEBUG 2014-09-02 09:21:58,053 (1-WIRE): Sensor /3A.6BF114000000/PIO.B returns value '0'<br/>
DEBUG 2014-09-02 09:21:58,864 (1-WIRE): After client call, value = '     25.8125'<br/>
DEBUG 2014-09-02 09:21:58,864 (1-WIRE): Sensor /28.6B47CD040000/temperature returns value '25.8125'</p>

<p>So it runs, it shows values but not on the label field.<br/>
Any Hint?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Sep 02, 2014 08:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888453"></a>
                                    <font class="smallfont"><p>Like Eric said, it could be the label field which displays the temperature is not wide enough.<br/>
Try to increase the width of the label field in the designer.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 02, 2014 10:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888454"></a>
                                    <font class="smallfont"><p>What type of openremote sensor did you use? Custom?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 02, 2014 10:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888459"></a>
                                    <font class="smallfont"><p>problem solved, have no idea how because I have made too many things already, replaced .class files from archive, made a rule for custom format and it is ok now.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tommi at Sep 02, 2014 21:18
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:34</font></td>
		    </tr>
	    </table>
    </body>
</html>