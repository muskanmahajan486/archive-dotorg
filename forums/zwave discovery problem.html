<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : zwave discovery problem</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : zwave discovery problem
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 02, 2013 by <font color="#0050B2">piotrekn</font>.
				    </div>

				    <p>Dears,</p>

<p>My name is Piotr and I am new user of openremote.</p>

<p>I have Aeon S2, already paired with dimmer. I have installed everything as requested:<br/>
1. commLayer set to RXTX, com port to COM4<br/>
2. log4j.appender.zwave-file.Threshold set to DEBUG<br/>
3. empty panel created.</p>

<p>When I sync controller it says "sync complete" and I get:<br/>
--------------------------------------------------------------------</p>

<p>  UNDEPLOYING CURRENT CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2013-09-02 23:41:32,752 : Stopped event processor : Drools Rule Engine<br/>
INFO 2013-09-02 23:41:32,767 : Stopped event processor : RRD4J Data Logger<br/>
INFO 2013-09-02 23:41:32,767 : Stopped event processor : EmonCMS Data Logger<br/>
INFO 2013-09-02 23:41:32,767 : Shutdown complete.<br/>
INFO 2013-09-02 23:41:32,767 :</p>

<p>--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2013-09-02 23:41:32,814 : No rule definitions found in 'C:\openremote\webapps\controller\rules'<br/>
.<br/>
INFO 2013-09-02 23:41:32,814 : Initialized event processor : Drools Rule Engine<br/>
INFO 2013-09-02 23:41:32,814 : Initialized event processor : RRD4J Data Logger<br/>
INFO 2013-09-02 23:41:32,814 : Initialized event processor : EmonCMS Data Logger<br/>
INFO 2013-09-02 23:41:32,830 : Startup complete.</p>

<p>but zwave.log and zwave-debug.log are empty</p>

<p>can anybody advice what is wrong?<br/>
cheers<br/>
Piotrek</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22875801/23036086.jpg">conf.jpg</a> (image/jpeg)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22875806"></a>
                                    <font class="smallfont"><p>Cześć Piotrek,</p>

<p>When you paired the dimmer with Aeon controller then you should see in the zwave log file (logs/zwave/zwave.log) at least these entries </p>

<p>DEBUG 2013-09-01 16:02:23,908 (Z-Wave): Node id: 1 discovered<br/>
DEBUG 2013-09-01 16:02:23,909 (Z-Wave): Node id: 2 discovered</p>

<p>Without them you don't have communication between openremote and z-wave stick.</p>

<p>Hope this helps.</p>

<p>Pozdrowawiam,<br/>
Michał</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Sep 03, 2013 08:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875808"></a>
                                    <font class="smallfont"><p>Thanks Michal</p>

<p>The problem is that this file is absolutely empty.</p>

<p>I've tried wit another COM port - no result (config screen attached)</p>

<p>I have just installed z-tool from homeseer just to verify my hardware and it works perfectly - I can turn off/on and dimm.</p>

<p>Maybe I will try to install it on another PC...</p>

<p><img src="attachments/22875801/23036086.jpg" align="left" border="0"/></p>

<p>cheers<br/>
Piotrek</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by piotrekn at Sep 03, 2013 09:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875809"></a>
                                    <font class="smallfont"><p>Do you have the zwave.jar in folder webapps/controller/WEB-INF/lib ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 03, 2013 09:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875811"></a>
                                    <font class="smallfont"><p>yes</p>

<p>created on 17.06.2013 12:41:12<br/>
size - 1 643 bytes</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by piotrekn at Sep 03, 2013 09:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875812"></a>
                                    <font class="smallfont"><p>Any errors in boot.log ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 03, 2013 09:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875825"></a>
                                    <font class="smallfont"><p>Hi Marcus</p>

<p>In the log there is nothing strange I guess. After successful (at least program says successful) sync I get this</p>

<p>========================================<br/>
===========console says this:===========<br/>
========================================</p>

<p>C:\openremote\bin&gt;openremote run<br/>
Using CATALINA_BASE:   C:\openremote<br/>
Using CATALINA_HOME:   C:\openremote<br/>
Using CATALINA_TMPDIR: C:\openremote\temp<br/>
Using JRE_HOME:        C:\Program Files\Java\jdk1.6.0_45<br/>
2013-09-03 17:51:27 org.apache.catalina.core.AprLifecycleListener init<br/>
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production envi<br/>
ronments was not found on the java.library.path: C:\openremote\webapps\controller\WEB-INF\lib\native</p>

<p>2013-09-03 17:51:28 org.apache.coyote.http11.Http11Protocol init<br/>
INFO: Initializing Coyote HTTP/1.1 on http-8080<br/>
2013-09-03 17:51:28 org.apache.catalina.startup.Catalina load<br/>
INFO: Initialization processed in 2790 ms<br/>
2013-09-03 17:51:28 org.apache.catalina.core.StandardService start<br/>
INFO: Starting service Catalina<br/>
2013-09-03 17:51:28 org.apache.catalina.core.StandardEngine start<br/>
INFO: Starting Servlet Engine: Apache Tomcat/6.0.18<br/>
2013-09-03 17:51:28 org.apache.catalina.startup.HostConfig deployWAR<br/>
INFO: Deploying web application archive webconsole.war<br/>
2013-09-03 17:51:33 org.openremote.controller.bootstrap.Startup redirectJULtoLog4j<br/>
INFO: Initialized JUL to LOG4J Redirector.<br/>
INFO 2013-09-03 17:51:38,360 :</p>

<p>--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>



<p>*****************************************************************</p>

<p>  The license restrictions Sigma Designs places on Z-Wave<br/>
  implementations prevents us from distributing Z-Wave with<br/>
  an Open Source product.</p>

<p>  To test Z-Wave, download a freely available binary from<br/>
  <a href="http://download.openremote.org/free/zwave">http://download.openremote.org/free/zwave</a> and follow the<br/>
  installation instructions at <a href="http://www.openremote.org/x/xAo4AQ">http://www.openremote.org/x/xAo4AQ</a></p>

<p>*****************************************************************</p>


<p>INFO 2013-09-03 17:51:38,704 : No rule definitions found in 'C:\openremote\webapps\controller\rules'<br/>
.<br/>
INFO 2013-09-03 17:51:38,704 : Initialized event processor : Drools Rule Engine<br/>
INFO 2013-09-03 17:51:39,312 : Initialized event processor : RRD4J Data Logger<br/>
INFO 2013-09-03 17:51:39,312 : Initialized event processor : EmonCMS Data Logger<br/>
INFO 2013-09-03 17:51:39,328 : Startup complete.<br/>
INFO 2013-09-03 17:51:39,328 : Controller Definition File Watcher for Default Deployer started.<br/>
2013-09-03 17:51:39 org.apache.coyote.http11.Http11Protocol start<br/>
INFO: Starting Coyote HTTP/1.1 on http-8080<br/>
2013-09-03 17:51:39 org.apache.catalina.startup.Catalina start<br/>
INFO: Server startup in 11539 ms<br/>
INFO 2013-09-03 17:52:37,688 :</p>

<p>--------------------------------------------------------------------</p>

<p>  UNDEPLOYING CURRENT CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2013-09-03 17:52:37,688 : Stopped event processor : Drools Rule Engine<br/>
INFO 2013-09-03 17:52:37,704 : Stopped event processor : RRD4J Data Logger<br/>
INFO 2013-09-03 17:52:37,704 : Stopped event processor : EmonCMS Data Logger<br/>
INFO 2013-09-03 17:52:37,751 : Shutdown complete.<br/>
INFO 2013-09-03 17:52:37,751 :</p>

<p>--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2013-09-03 17:52:37,766 : No rule definitions found in 'C:\openremote\webapps\controller\rules'<br/>
.<br/>
INFO 2013-09-03 17:52:37,766 : Initialized event processor : Drools Rule Engine<br/>
INFO 2013-09-03 17:52:37,782 : Initialized event processor : RRD4J Data Logger<br/>
INFO 2013-09-03 17:52:37,782 : Initialized event processor : EmonCMS Data Logger<br/>
INFO 2013-09-03 17:52:37,798 : Startup complete.</p>

<p>============================================<br/>
=============and boot.log:==================<br/>
============================================</p>


<p>INFO 2013-09-03 17:51:38,360 : </p>

<p>--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2013-09-03 17:51:38,704 : No rule definitions found in 'C:\openremote\webapps\controller\rules'.<br/>
INFO 2013-09-03 17:51:38,704 : Initialized event processor : Drools Rule Engine<br/>
INFO 2013-09-03 17:51:39,312 : Initialized event processor : RRD4J Data Logger<br/>
INFO 2013-09-03 17:51:39,312 : Initialized event processor : EmonCMS Data Logger<br/>
INFO 2013-09-03 17:51:39,328 : Startup complete.<br/>
INFO 2013-09-03 17:51:39,328 : Controller Definition File Watcher for Default Deployer started.<br/>
INFO 2013-09-03 17:52:37,688 : </p>

<p>--------------------------------------------------------------------</p>

<p>  UNDEPLOYING CURRENT CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2013-09-03 17:52:37,688 : Stopped event processor : Drools Rule Engine<br/>
INFO 2013-09-03 17:52:37,704 : Stopped event processor : RRD4J Data Logger<br/>
INFO 2013-09-03 17:52:37,704 : Stopped event processor : EmonCMS Data Logger<br/>
INFO 2013-09-03 17:52:37,751 : Shutdown complete.<br/>
INFO 2013-09-03 17:52:37,751 : </p>

<p>--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2013-09-03 17:52:37,766 : No rule definitions found in 'C:\openremote\webapps\controller\rules'.<br/>
INFO 2013-09-03 17:52:37,766 : Initialized event processor : Drools Rule Engine<br/>
INFO 2013-09-03 17:52:37,782 : Initialized event processor : RRD4J Data Logger<br/>
INFO 2013-09-03 17:52:37,782 : Initialized event processor : EmonCMS Data Logger<br/>
INFO 2013-09-03 17:52:37,798 : Startup complete.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by piotrekn at Sep 03, 2013 17:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875838"></a>
                                    <font class="smallfont"><p>You have to replace the zwave.jar with the real one.<br/>
That is what the message says.<br/>
Please download from here:  <a href="http://download.openremote.org/free/zwave">http://download.openremote.org/free/zwave</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 03, 2013 20:32
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875839"></a>
                                    <font class="smallfont"><p>Thanks Marcus - I see light in the tunnel <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> but now I have this and still zwave.log is empty.<br/>
I have put "COM13" string (without "") in zwave.comPort field</p>


<p>WARNING:  RXTX Version mismatch<br/>
        Jar version = RXTX-2.2pre1<br/>
        native lib Version = RXTX-2.1-7<br/>
gnu.io.NoSuchPortException<br/>
        at gnu.io.CommPortIdentifier.getPortIdentifier(CommPortIdentifier.java:269)<br/>
        at org.openremote.controller.protocol.zwave.ZWaveGatewayRxtx$ZWaveConnectionThread.run(ZWave<br/>
GatewayRxtx.java:108)<br/>
INFO 2013-09-03 21:49:41,696 : No rule definitions found in 'C:\openremote\webapps\controller\rules'<br/>
.<br/>
INFO 2013-09-03 21:49:41,697 : Initialized event processor : Drools Rule Engine</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by piotrekn at Sep 03, 2013 20:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875840"></a>
                                    <font class="smallfont"><p>NoSuchPortException means that COM13 is not available.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 03, 2013 20:58
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:43</font></td>
		    </tr>
	    </table>
    </body>
</html>