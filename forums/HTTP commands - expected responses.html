<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : HTTP commands - expected responses</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : HTTP commands - expected responses
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 28, 2011 by <font color="#0050B2">dberenguer</font>.
				    </div>

				    <p>We're trying to add a HTTP RESTful interface to a new Home Automation software called HouseAgent (<a href="http://www.houseagent.nl">http://www.houseagent.nl</a>). It's basically a multi-platform automation core with an open interface for adding new plugins and creating events. It's very compact and lightweight and there are some good synergies between this application and OpenRemote IMO.</p>

<p>OK, once the new RESTful interface in place, we'd like to monitor some variables from OpenRemote. We know that http requests can be configured from the on-line designer but what about the http responses? What does OpenRemote expects to be a valid response for let's say a temperature value or a switch button state? Which format should follow these responses?</p>

<p>Thanks in advance for your help</p>

<p>Daniel.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-19432821"></a>
                                    <font class="smallfont"><p>It expects string values with no markup. For switches these are 'on'/'off' &#8211; for sliders (e.g. temperature) they're integer values (no decimals). For labels you can return any arbitrary string, e.g. '23.4 C'.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 10, 2011 03:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432824"></a>
                                    <font class="smallfont"><p>Thanks Juha!</p>

<p>I've been looking into the OpenRemote code and it shouldn't be too difficult to make some changes in the HTTP protocol in order to accept full strings (decimals and units included). The fact for not accepting decimals, is that a requirement for sliders and labels or is it just an temporary limitation in the HTTP protocol? For the latest case, would you accept some humble contribution? (ex: full strings, user regex, etc)?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dberenguer at Oct 10, 2011 07:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432825"></a>
                                    <font class="smallfont"><p>Patches would be very welcome, especially on the HTTP protocol.</p>

<p>The read() implementation should return values according to the datatype (via SensorType enum) of the sensor that is bound to it. So for sensor type 'Switch' it should indeed be on/off, for sensor types 'level' and 'range' they should be integers (this is the datatype sliders use on the panels), for 'custom' sensor type, it is ok to return an arbitrary string (this can be bound to a label).</p>

<p>User regex etc also welcome &#8211; some of these have been implemented for other protocols, some are already in other work branches which you can base your patches on if you'd like.</p>

<p>I'll need to run but go ahead and send your patch or I can later point to some of the existing examples in SVN if necessary.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 10, 2011 09:01
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:30</font></td>
		    </tr>
	    </table>
    </body>
</html>