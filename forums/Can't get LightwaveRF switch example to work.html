<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Can't get LightwaveRF switch example to work</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Can't get LightwaveRF switch example to work
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on May 28, 2014 by <font color="#0050B2">ric9887</font>.
				    </div>

				    <p>Hi,<br/>
I have followed the instructions on how to setup a switch rather than buttons for a LightwaveRF socket.<br/>
I can get the buttons to work fine, however the switch requires variables and a sensor to be setup and some rules defined.<br/>
I can not see anything wrong with my syntax, and also noticed that the example given says that the variable can be R2D1togglestate (letters and numbers), but it would not accept numbers in the cell.<br/>
I wondered if there is anything else which I need to do to make this work ?</p>

<p>Regards<br/>
Rich</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22886769"></a>
                                    <font class="smallfont"><p>After a little reading I managed to make this work.<br/>
The problem is with the example rules which are posted in the example, and here is what worked :-</p>

<p>I included the 1st 3 lines (which were missing from the example posted).<br/>
I changed Switch to Event<br/>
All the other steps in the example worked, and I now have an On/Off switch which displays status from a LightwaveRF socket.<br/>
Albeit - tracked and not live status (so I realize it susceptible to perhaps being out of sync if another device changes the switch state).</p>


<p>package org.openremote.controller.protocol</p>

<p>global org.openremote.controller.statuscache.CommandFacade execute;<br/>
global org.openremote.controller.statuscache.SwitchFacade switches;</p>

<p>rule "Turn_Printer_On"<br/>
when<br/>
    Event( source == "Sensor_Printer_State", value == "on" )<br/>
then<br/>
  execute.command("Printer_On");<br/>
end</p>

<p>rule "Turn_Printer_Off"<br/>
when<br/>
    Event( source == "Sensor_Printer_State", value == "off" )<br/>
then<br/>
  execute.command("Printer_Off");<br/>
end</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ric9887 at May 29, 2014 09:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887149"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>I wrote the example, so what syntax appears wrong?  It's based on my working (tracked) status for my Lightwave socket which runs my fireplace lights.  Happy to correct the entry if it's wrong! <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Jun 18, 2014 15:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593846"></a>
                                    <font class="smallfont"><p>Hi Peter,</p>

<p>I have been searching everywhere to try to get a OR switch with status tracking working, where can I find your example?<br/>
I can turn Lightwaverf devices on or off using buttons no problem.</p>

<p>Thanks Steve</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by stechad at Nov 18, 2014 19:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593873"></a>
                                    <font class="smallfont"><p>Hi</p>

<p>A swift google for "OpenRemote" and "LightwaveRF" gets you the first link, which is :</p>

<p><a href="http://openremote.org/display/docs/OpenRemote+2.0+How+To+-+LightwaveRF">http://openremote.org/display/docs/OpenRemote+2.0+How+To+-+LightwaveRF</a> </p>

<p><img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Nov 19, 2014 14:39
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:34</font></td>
		    </tr>
	    </table>
    </body>
</html>