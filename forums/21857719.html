<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Anyone succes with Philips Hue?</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Anyone succes with Philips Hue?
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 18, 2013 by <font color="#0050B2">michelsjollema</font>.
				    </div>

				    <p>Hi all,</p>


<p>I try to operate my Philips Hue lamps but i cant manage to control them.</p>

<p>I used HTTP, put the url and the command but nothing happend.</p>

<p>I can send commands using iRule on the iPhone that works. (Put in the url from the Hue controller, port and command)</p>

<p>Does anyone have this working or knows a solution to get this working?</p>

<p><img src="attachments/21857719/22052922.jpg" align="absmiddle" border="0"/></p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/21857719/22052922.jpg">Open remote Philips Hue.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/21857719/23035962.png">OPENREMOTE HUE.PNG</a> (image/x-png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/21857719/23036076.class">HttpGetCommand.class</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/21857719/23036077.png">http_hue_command.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-21857720"></a>
                                    <font class="smallfont"><p>See: <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+HTTP+Protocol">http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+HTTP+Protocol</a><br/>
Polling interval is missing</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Feb 18, 2013 10:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21857748"></a>
                                    <font class="smallfont"><p>Polling interval is only needed for status command which are connected to a sensor.<br/>
If you just want to turn on or change color you don't need a polling interval.<br/>
For POST/PUT commands you need to define a workload.<br/>
Maybe this helps: <a href="http://burgestrand.github.com/hue-api/">http://burgestrand.github.com/hue-api/</a><br/>
Just put the JSON string into workload.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Feb 18, 2013 22:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22873530"></a>
                                    <font class="smallfont"><p>Hi Michel,</p>

<p>i tried to controle my hue's this way and it works ( sometimes ). I think, in the actual release of Openremote are some bugs and problems with http and json.<br/>
This command only works when i push the button on my ipad fast several times.</p>

<p>This is my command for ON:</p>

<p><a class="confluence-thumbnail-link 413x498" href='http://www.openremote.org/download/attachments/21857719/OPENREMOTE HUE.PNG'><img src="attachments/thumbnails/21857719/23035962" align="absmiddle" border="0"/></a></p>

<p>This is the full HTML Attributes URL:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
http:<span class="code-comment">//your-ip-adress/api/your-api-key/lights/1/state</span>
</pre>
</div></div>
<p>Regards,<br/>
Chris</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by peterchrisben at Jul 01, 2013 18:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22873795"></a>
                                    <font class="smallfont"><p>Just to add a data point:</p>

<p>I see the same behavior depending on whether or not I press a button 3 times quickly (I had not tried this before seeing Chris's comment). <br/>
Without doing so, my log file reports <br/>
"INFO 2013-07-09 22:44:24,202 (HTTP): received message: <span class="error">&#91;{&quot;error&quot;:{&quot;type&quot;:5,&quot;address&quot;:&quot;/groups/0&quot;,&quot;description&quot;:&quot;invalid/missing parameters in body&quot;}}&#93;</span>"</p>

<p>If I press the button thrice quickly, I get<br/>
"INFO 2013-07-09 22:44:24,574 (HTTP): received message: <span class="error">&#91;{&quot;success&quot;:{&quot;/groups/0/action/on&quot;:true}}&#93;</span>"<br/>
for the third press. The first two responses are the same as above.</p>

<p>I don't have the "Content Type" field available for entry, as Chris does, because I am not using the pro or preview version. I had, however, added the line "&lt;property name="contentType" value="application/json" /&gt;" in the controller xml file as discussed, here: <a href="http://www.openremote.org/pages/viewpage.action?pageId=21859973">http://www.openremote.org/pages/viewpage.action?pageId=21859973</a>. Seems to still work with that line now removed, though.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emotiva at Jul 10, 2013 04:05
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875682"></a>
                                    <font class="smallfont"><p>Guys,</p>

<p>I tested the latest version with a small test server (I don't have a hue <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> ), but the HTTP command was sent every time no matter how fast I pressed the button.<br/>
I created one command and one button and used my iPhone.</p>

<p>Can you try and use this version for the controller: <a href="http://sourceforge.net/projects/openremote/files/For%20Developers/OpenRemote%202.1%20%28Developer%20Releases%29/OpenRemote-Controller-2.1.0_FM_SNAPSHOT-2013-07-18.zip/download">http://sourceforge.net/projects/openremote/files/For%20Developers/OpenRemote%202.1%20%28Developer%20Releases%29/OpenRemote-Controller-2.1.0_FM_SNAPSHOT-2013-07-18.zip/download</a></p>

<p>And then replace the file: /webapps/controller/WEB-INF/classes/org/openremote/controller/protocol/http/HTTPGetCommand.class<br/>
with this one: <a href="attachments/21857719/23036076.class">HttpGetCommand.class</a></p>

<p>This is how my command looks like:</p>

<p><a class="confluence-thumbnail-link 399x502" href='http://www.openremote.org/download/attachments/21857719/http_hue_command.png'><img src="attachments/thumbnails/21857719/23036077" align="absmiddle" border="0"/></a></p>

<p>Maybe somebody can give it a try?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 29, 2013 21:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875685"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>so the replace of the HTTPGetCommand.class fix the issue on the lateste voyage_ebox_v1.4.10_20130802.img.</p>

<p>thx</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ntpatrice at Aug 30, 2013 07:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875689"></a>
                                    <font class="smallfont"><p>Great!<br/>
@Jordan, Michel &amp; Chris: Can you try with the Snapshot I mentioned?<br/>
Thanks,<br/>
--Marcus</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 30, 2013 08:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875740"></a>
                                    <font class="smallfont"><p>I discovered OpenRemote today after acquiring a Hue.  I've made it work with iRule, but OpenRemote allows for a much nicer UI....but I can't get Hue to behave with OpenRemote at all <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>I'm using OpenRemote-Controller-2.0.2 at the moment, and trying :</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>URL : http://my_hue_controller/api/my_hue_key/light/1/state
METHOD : PUT
WORKLOAD : {"on":true}
</pre>
</div></div>
<p>And it flat out doesn't work. <br/>
I've also tried creating a sensor, and using :</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>URL : http://my_hue_controller/api/my_hue_key/light/1
METHOD : GET
JSONPath : $.state.on
</pre>
</div></div>
<p>And that doesn't work either....but using the Hue API the JSON I get back from that URL is:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{
	"state": {
		"on": true,
		"bri": 254,
		"hue": 41457,
		"sat": 120,
		"xy": [
			0.2992,
			0.3005
		],
		"alert": "select",
		"effect": "none",
		"colormode": "xy",
		"reachable": true
	},
	"type": "Color light",
	"name": "Light Strip 1",
	"modelid": "LST001",
	"swversion": "66010400",
	"pointsymbol": {
		"1": "none",
		"2": "none",
		"3": "none",
		"4": "none",
		"5": "none",
		"6": "none",
		"7": "none",
		"8": "none"
	}
}
</pre>
</div></div>
<p>And if I use <a href="http://jsonpath.curiousconcept.com/">http://jsonpath.curiousconcept.com/</a> and paste the above JSON in, the query ($.state.on) returns "true"</p>

<p>If JSON/HTTP support behaves, I will be all over OpenRemote like a rash....and I'm willing to try/beta etc.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Aug 31, 2013 23:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875749"></a>
                                    <font class="smallfont"><p>Did you try the verison I posted 2 comments up?<br/>
OpenRemote-Controller-2.0.2 does not work but I received success messages on the fix I posted earlier.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 01, 2013 08:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875757"></a>
                                    <font class="smallfont"><p>Lo,</p>

<p>I missed that - (thanks) and have tried it.</p>

<p>SOME success - as follows <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Setting up a simple "On" and "Off" command (as above) now works, and when I refresh the config at the local controller I see :</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>INFO 2013-09-01 10:50:17,161 : No rule definitions found in '/opt/OpenRemote-Controller-2.1.0_FM_SNAPSHOT-2013-07-18/webapps/controller/rules'.
INFO 2013-09-01 10:50:17,162 : Initialized event processor : Drools Rule Engine
INFO 2013-09-01 10:50:17,192 : Initialized event processor : RRD4J Data Logger
INFO 2013-09-01 10:50:17,193 : Initialized event processor : EmonCMS Data Logger
INFO 2013-09-01 10:50:17,194 : Startup complete.
</pre>
</div></div>

<p>And in the http.log I see (after a power off) :</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>INFO 2013-09-01 10:58:51,335 (HTTP): received message: [{"success":{"/lights/1/state/on":false}}]
</pre>
</div></div>

<p>Then, if I try to add a "Power_State" command (which is a simple URI get, no workload, a refresh/poll of 5s, and the JSONpath of $.state.on), I then start seeing :</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>INFO 2013-09-01 10:54:01,503 : No rule definitions found in '/opt/OpenRemote-Controller-2.1.0_FM_SNAPSHOT-2013-07-18/webapps/controller/rules'.
INFO 2013-09-01 10:54:01,503 : Initialized event processor : Drools Rule Engine
INFO 2013-09-01 10:54:01,520 : Initialized event processor : RRD4J Data Logger
INFO 2013-09-01 10:54:01,520 : Initialized event processor : EmonCMS Data Logger
INFO 2013-09-01 10:54:01,522 : Startup complete.
</pre>
</div></div>

<p>And in http.log I now see (every 5 seconds):</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>INFO 2013-09-01 11:02:46,635 (HTTP): received message: {"state": {"on":false,"bri":224,"hue":47104,"sat":254,"xy":[0.1380,0.0800],"alert":"select","effect":"none","colormode":"xy","reachable":true}, "type": "Color light", "name": "Light Strip 1", "modelid": "LST001", "swversion": "66010400", "pointsymbol": { "1":"none", "2":"none", "3":"none", "4":"none", "5":"none", "6":"none", "7":"none", "8":"none" }}
</pre>
</div></div>

<p>So it's receiving the JSON back, with the correct state.....</p>

<p>Then I add a sensor, to use the Power_State command, I see :</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>INFO 2013-09-01 10:55:47,620 : No rule definitions found in '/opt/OpenRemote-Controller-2.1.0_FM_SNAPSHOT-2013-07-18/webapps/controller/rules'.
INFO 2013-09-01 10:55:47,620 : Initialized event processor : Drools Rule Engine
INFO 2013-09-01 10:55:47,638 : Initialized event processor : RRD4J Data Logger
INFO 2013-09-01 10:55:47,638 : Initialized event processor : EmonCMS Data Logger
INFO 2013-09-01 10:55:47,643 : Registered sensor : Switch Sensor (Name = 'Power_State', ID = '56')
INFO 2013-09-01 10:55:47,644 : Startup complete.
</pre>
</div></div>

<p>But when I add a text label and slave it to the sensor, the label always reads "N/A" ? (rather than "Off" or "On" as I defined in the label properties....</p>

<p>EDIT : I've changed the sensor to "custom" and it's now updating the label, so it doesn't like being a "switch"....</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Sep 01, 2013 11:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875760"></a>
                                    <font class="smallfont"><p>I think it's behaving <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>I've now got a slider to read/set the brightness value, and it's working nicely, although it only updates upon slider release - rather than immediate position which is a shame <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Question : Will there be any possibility to script within the Controller?<br/>
Looking at the preview release (with colour picker) that sets output in hex (i.e. FFFFFF for white), whereas the Hue uses a figure from 0-65535 for a hue, so a manual conversion would be needed to use the picker.</p>

<p>EDIT: My googling is slower than my questioning.  I've found the advanced event examples, including one for RGB.<br/>
I can see how a colour picker change could trigger an event, but I can't see how to pass the value OF the colour picker to the function, and then out to a command?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Sep 01, 2013 11:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875770"></a>
                                    <font class="smallfont"><p>I just sent Patrice an example for that <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/><br/>
Can you give me your email and I forward you the message how to use color picker and rules to control Philips hue color.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 01, 2013 20:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875771"></a>
                                    <font class="smallfont"><p>Send it to falcon AT gothtech DOT co DOT uk please <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Sep 01, 2013 21:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875815"></a>
                                    <font class="smallfont"><p>Hi - did you send it? I don't see anything (or a way to PM you on this style of forum) :\</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Sep 03, 2013 09:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875816"></a>
                                    <font class="smallfont"><p>Yes, right after you gave me the email.<br/>
And it did not come back to either.<br/>
Maybe in your Spam folder?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 03, 2013 10:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875817"></a>
                                    <font class="smallfont"><p>Ahah, you are correct. Rather bizarre that my end mail system (GMail) it picked it up as spam :\<br/>
I shall review and test later when back at home (waiting on some bulb fitting adaptors) and let you know how I get on <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Sep 03, 2013 10:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875835"></a>
                                    <font class="smallfont"><p>Ok, now I'm very confused.</p>

<p>a) I've copied your rules into my rules - and amended your "SetHueColor" to reference my "Set_State_Hue" command<br/>
b) I've created your SetColorVirtual and GetColorVirtual with commands "on" and "status" respectively, both using the address "color"<br/>
c) I've created a ColorPicker and set it to use the command SetColorVirtual<br/>
d) I've created a Sensor called ColorSensorVirtual and set it to use the command GetColorVirtual<br/>
e) My Set_State_Hue command issues the workload :</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"hue":${param},"on":true}
</pre>
</div></div>

<p>It's not working...<br/>
I'll email you my controller.xml (which looks ok to me - although I do have other sensors)...</p>

<p>I'm using OpenRemote-Controller-2.1.0_FM_SNAPSHOT-2013-07-18 with the HTTPGetCommand.class fix</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Sep 03, 2013 20:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22875963"></a>
                                    <font class="smallfont"><p>Hurrah!</p>

<p>With the very kind help of Marcus (and lots of fiddling) I now have a working colour picker.</p>

<p>I've also pseudo-extended it by adding a brightness sensor and slider, and a rule that if the brightness is set to &lt;= 1, then power down the bulb (in Hue terms, 0 brightness isn't actually off).<br/>
This is being handled by another sensor.</p>

<p>It would be really cool (if not already possible) if you could use an HTTP (or other) command to SET something (like a value) AND set a variety of values (with various JSON paths)</p>

<p>This is because to read bri, sat &amp; hue, I have to issue three commands with 3 JSON paths, which is 3 HTTP calls, although one HTTP call actually returns all three values.</p>

<p>Also, being able to pass multiple params to a command would be ace - as Hue (as one example) needs  specific device ID in the URL, and it would be nice to re-use commands across bulbs, rather than "clone" commands <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Pete!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Sep 05, 2013 23:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876001"></a>
                                    <font class="smallfont"><p>Hmm, didn't explain myself very well there, although it was nearly midnight.</p>

<p>When issuing an HTTP PUT or POST, you can specify a JSON path variable so you can (in theory) get the result of a command, or alternately, you could issue a GET command to another URL and acquire a set of parameter statuses.<br/>
With Hue as my example, if you GET to <a href="http://your_hue_ip/yourapi/">http://your_hue_ip/yourapi/</a> - it will return all devices and states.  I can either use that with a JSON querypath to get the details of a specific light, OR I can issue a specific GET to <a href="http://your_hue_ip/yourapi/lights/X">http://your_hue_ip/yourapi/lights/X</a> (where X is the light ID)</p>

<p>However, if I want to have 3 sensors for 3 lights, I have to issue 3 http queries.</p>

<p>If I'm also issuing controls to the lights, I've noticed a bit of lag, probably due to the sensor monitoring at the same time as the command issuing.</p>

<p>What would be quite good would be a "master" and "slave" sensors, with a master sensor using 1 command/transaction, and holding the response in memory, and the slave sensors querying the master in memory results (via varying JSON paths)  Thoughts?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Sep 06, 2013 13:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22876005"></a>
                                    <font class="smallfont"><p>It should be possible with rules to simulate your master/slave concept.<br/>
The master command would pull the whole JSON result for all lights and update a custom sensor which would just hold that result as a string.<br/>
Then you create a rule which is trigger when this master result is changed and which would use JSON to extract the needed results to update all your slave sensors.<br/>
This is just theory but should be doable.</p>

<p>Another solution would be to fill multiple sensor based on the result of one command. This came up a few times already but is not available yet.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 06, 2013 13:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594117"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>I am a student working on the open-remote for my thesis project.</p>

<p>Right now, I meet a problem to control the Philips hue, with the local controller (source code).</p>

<p>I'm using Controller_2_1_0_FM_SNAPSHOT-20130617 with the HTTPGetCommand.class fix, but the function doesn't work. When I pressed the button, I got the following logs:</p>

<p>lights/3/state","description":"invalid/missing parameters in body"}}]<br/>
INFO 2014-11-24 15:06:44,129 (HTTP): received message: <span class="error">&#91;{&quot;error&quot;:{&quot;type&quot;:5,&quot;address&quot;:&quot;/lights/3/state&quot;,&quot;description&quot;:&quot;invalid/missing parameters in body&quot;}}&#93;</span><br/>
INFO 2014-11-24 15:06:45,142 (HTTP): received message: <span class="error">&#91;{&quot;error&quot;:{&quot;type&quot;:5,&quot;address&quot;:&quot;/lights/3/state&quot;,&quot;description&quot;:&quot;invalid/missing parameters in body&quot;}}&#93;</span><br/>
INFO 2014-11-24 15:06:50,445 (HTTP): received message: <span class="error">&#91;{&quot;error&quot;:{&quot;type&quot;:5,&quot;address&quot;:&quot;/lights/3/state&quot;,&quot;description&quot;:&quot;invalid/missing parameters in body&quot;}}&#93;</span><br/>
INFO 2014-11-24 15:06:51,757 (HTTP): received message: <span class="error">&#91;{&quot;error&quot;:{&quot;type&quot;:5,&quot;address&quot;:&quot;/lights/3/state&quot;,&quot;description&quot;:&quot;invalid/missing parameters in body&quot;}}&#93;</span></p>

<p>Curl works just fine BTW:</p>

<p>Input:<br/>
$  curl -X PUT -d "<div class="error"><span class="error">Unknown macro: {&quot;on&quot;}</span> </div>" <a href="http://10.2.1.10/api/NDKhueapps/lights/1/state">http://10.2.1.10/api/NDKhueapps/lights/1/state</a><br/>
Output:<br/>
<span class="error">&#91;{&quot;success&quot;:{&quot;/lights/1/state/on&quot;:false}}&#93;</span></p>


<p>I would appreciate it, if you could give me some hint about how to cope with this problem...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by wangjia at Nov 24, 2014 14:34
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:44</font></td>
		    </tr>
	    </table>
    </body>
</html>