<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Write TEMPERATURE value</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Write TEMPERATURE value
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 21, 2011 by <font color="#0050B2">amarquez</font>.
				    </div>

				    <p>Hi,</p>

<p>I'm trying to do a slider to control read/write value in my KNX's air conditioned system, i've tried to use the new 9.001 DPT but althourgh i can read the value from my KNX system (using a range sensor) i'm unable to write a new value that KNX can understand.</p>

<p>My question is, which command can i use to put the value on the bus if my sensor is defined it as custom sensor?</p>

<p>I've been looking for a good command for this 2 bytes in GroupValueWrite.Class but haven't find any good choice, triyng with SCALE and RANGE obviusly doesn't work (i think because all of them work with integer types.)</p>

<p>Any help would be very much aprecciated.</p>

<p>Thank's for all your replies and my apologies for my english, sure you can see that isn't my native language <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-19431449"></a>
                                    <font class="smallfont"><p>Hello Albert,</p>

<p>I just added it today, one hour ago, see <a href="http://lists.openremote.org/pipermail/openremote-svn/2011-August/004838.html">R4817</a>.</p>

<p>The command name will be 'TEMP'. Marcus will be testing it with his hardware next week.</p>

<p>You can also test if you'd like (note that it hasn't yet been tested against hardware, so is still likely to have bugs). The SVN checkout is here: <a href="https://openremote.svn.sourceforge.net/openremote/workspace/juha/KNXTwoOctetFloat">https://openremote.svn.sourceforge.net/openremote/workspace/juha/KNXTwoOctetFloat</a></p>

<p>Build instructions are here: <a href="http://www.openremote.org/display/docs/Building+OpenRemote+2.0+Developer+Releases" title="Building OpenRemote 2.0 Developer Releases">Building OpenRemote 2.0 Developer Releases</a> (adjust the paths to the one given above).</p>

<p>Once we've tested it on some hardware, will integrate the changes to release branches and create a new snapshot binary with the feature included.</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 21, 2011 12:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431450"></a>
                                    <font class="smallfont"><p>Hi Juha,</p>

<p>Perfect, I download the SVN checkout today and test on my hardware, if have some issues i'll explain.</p>

<p>PD: Thanks for your reply and for this amazing software <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 21, 2011 12:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431451"></a>
                                    <font class="smallfont"><p>I'm unable to download the SVN, i get this error message: "Repository moved temporarily to '/openremote/workspace/JUHA/KNXTwoOctetFloat'; please relocate OPTIONS request failed on '/openremote/workspace/JUHA/KNXTwoOctetFloat'<br/>
Any idea why i get this error? Thanks again</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 21, 2011 13:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431452"></a>
                                    <font class="smallfont"><p>Sorry, gave the wrong URL.</p>

<p>Use this one instead:</p>

<p><a href="https://openremote.svn.sourceforge.net/svnroot/openremote/workspace/juha/KNXTwoOctetFloat">https://openremote.svn.sourceforge.net/svnroot/openremote/workspace/juha/KNXTwoOctetFloat</a>  (notice the additional /svnroot/ in path)</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 21, 2011 13:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431457"></a>
                                    <font class="smallfont"><p>Thanks Juha this link works great.</p>

<p>Before compiled SVN version (with some zip errors, normal?) im testing it in my hardware instalation and have one doubt, i've a temperature sensor in the stable release that works fine (is defined as STATUS and 9.001 DPT and just linked with RANGE sensor with values between 0 and 50, all linked with a label component) but with this new version show an incorrect temperature value, for example, with the previous version it shown a 27º value (just the same as the hardware sensor obviously without the decimals) now with this new version show a 47º value ¿¿??? Any idea why add 20 degree?</p>

<p>I'm thinking in change the RANGE sensor for a new custom sensor with the same degree values. I'll notify if this change works fine.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 21, 2011 19:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431459"></a>
                                    <font class="smallfont"><p>Well that's the thing, I put it together based on the spec and didn't have hardware to test against, so can't say with certainty the bits are getting interpreted correctly, the byte order isn't getting mixed up, etc.</p>

<p>No idea about the 20 degree difference, other than the way the KNX floats are constructed, the mantissa without exponent gives you a max value of 20.47 (~20). Could be something related to the exponent, or something else. We'll find out once we can test it against some hardware.</p>

<p>Thanks for reporting it though, we'll look at it and adjust as necessary.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 21, 2011 20:35
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431460"></a>
                                    <font class="smallfont"><p>Ok, I think I know where that might be coming from. I'll need to modify the implementation a bit.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 21, 2011 20:41
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431461"></a>
                                    <font class="smallfont"><p>I don't know if this can be helpful for the development but i captured some packets from the knx bus when the hardware interact with temp sensor, the relationship is exactly this:<br/>
16º   - 06 40<br/>
16,5º - 06 72<br/>
17º   - 06 A4<br/>
...<br/>
22º   - 0C 4C<br/>
...</p>

<p>If you need more data tell me and i can extract from my knx system.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 21, 2011 20:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431462"></a>
                                    <font class="smallfont"><p>Perfect, i'm so happy if i can help for evolving this great development, so if do you need some new test in my hardware tell me please.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 21, 2011 20:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431464"></a>
                                    <font class="smallfont"><p>Yes, if you're still awake, could use you for testing.</p>

<p>Can you do 'svn update' on the checkout you already did. It should update one file.</p>

<p>Then compile again and try the new version.</p>

<p>Let me know if the values are closer to what you'd expect. I fixed what might have been a wrong assumption on my part on how the encode/decode the float bit pattern.</p>

<p>It's a quick hack and will complete it later but should be approximately valid in range of -60..+60  (will fix the rest later if this one gets closer to correct values).</p>

<p>Thanks.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 21, 2011 22:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431465"></a>
                                    <font class="smallfont"><p>Ok, just saw this. This does help. Thanks. The exponential is still getting encoded wrong with the last update (the previous answer on this forum thread), that is the values above 20.47.</p>

<p>Will look at how to adjust.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 21, 2011 22:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431466"></a>
                                    <font class="smallfont"><p>Hi Juha,</p>

<p>I test this new update but the label still displaying 47º not 27, althouhg i've noticed some nearly display in the temperature slider, i'll try to explain, i've 3 special modes for climate, exit=17º, night=19º and confort=21º, with the first version if i put night and confort mode the slider go to max, but in this new version slider show 16ª in exit mode and 18º in night mode, confort mode goes max, seems to be closer, i hope this can help.<br/>
However, i will create a blank panel to do tests with temp sensor because my panels are plenty of objects and it's difficult to test. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 21, 2011 23:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431467"></a>
                                    <font class="smallfont"><p>Ok, i've now a test platform to try with temperature values on my KNX hardware system, and i can confirm the last post results without any doubt.<br/>
PD: Now is more easy for me to do test so if i can help with more demos let me know. Thanks a lot for your effort.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 22, 2011 00:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431468"></a>
                                    <font class="smallfont"><p>Yes, the comfort mode is still broken, because it went over the first exponential boundary which was at 20.47 celsius degrees.</p>

<p>Will put a new update that does the exponentials in the way you had it with the bytes you sniffed from the network. If you got any additional bytes for above 21 celsius, do send as well, I'll add them to the test framework.</p>

<p>The 16/17 and 18/19 may be rounding errors, will look at those once the rest of the values are roughly in place.</p>

<p>Thanks.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 22, 2011 00:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431469"></a>
                                    <font class="smallfont"><p>Sure, i put all the values until 27º if need more just tell me:<br/>
17,5º (06 D6),  18º (07 08),  18,5º (07 3A),  19º (07 6C),  19,5º (07 9E)<br/>
20º (07 D0),  20,5º (0C 01),  21 (0C 1A),  21,5º (0C 33),  22 (0C 4C)<br/>
22,5º (0C 65),  23º (0C 7E),  23,5º (0C 97),  24º (0C B0),  24,5º (0C C9)<br/>
25º (0C E2),  25,5º (0C FB),  26º (0D 14),  26,5º (0D 2D),  27 (0D 46)</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 22, 2011 00:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431470"></a>
                                    <font class="smallfont"><p>Thanks, will add those to the tests.</p>

<p>In the meantime, you can do another 'svn update' to see if things are getting closer.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 22, 2011 00:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431472"></a>
                                    <font class="smallfont"><p>Hi Juha,</p>

<p>Temperature sensor works great! Tomorrow i'll try with sliders and i'll tell you the results. Thank you very much.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 22, 2011 01:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431473"></a>
                                    <font class="smallfont"><p>Hi Juha,</p>

<p>I've found information about conversion in KNX 9.001, i don't know if it can be useful:<br/>
Source: <a href="http://faq.knx.org/search_faq?product=11&amp;faq=41">http://faq.knx.org/search_faq?product=11&amp;faq=41</a></p>

<p>From the KNX Association's website, you may download this document: <a href="http://www.knx.org/fileadmin/downloads/03%20-%20KNX%20Standard/KNX%20Standard%20Public%20Documents/03_07_02%20Datapoint%20Types%20v1.5.00%20AS.zip">http://www.knx.org/fileadmin/downloads/03%20-%20KNX%20Standard/KNX%20Standard%20Public%20Documents/03_07_02%20Datapoint%20Types%20v1.5.00%20AS.zip</a></p>

<p>EIS 5 'Temperature' has meanwhile been reformulated as DPT_Value_Temp (9.001) as you can see on page 29.</p>

<p>To convert from decimal representation to DPT_Value_Temp (9.001), the following steps shall be done:<br/>
1. The value has to be noted with a precision of 0,01<br/>
EXAMPLE 315 °C is noted as 31500<br/>
2. This is divided by 2 until you have a value smaller than 2047. With each division, the Exponent is incremented. This gives the smalled exponent, which is the most accurate coding.<br/>
EXAMPLE 1968,75 with 4 devisions by 2.<br/>
3. The mantissa can only carry the integer part of the value, so 1968,75 becomes 1968. Here of course, truncation errors occur.<br/>
4. The integer value of the mantissa is binary encoded.<br/>
EXAMPLE 1968 becomes 11110110000b<br/>
5. The DPT_Value_Temp value is composed as in the given format: M EEEE MMM MMMM MMMM<br/>
EXAMPLE 0 0100 111 1011 0000 is hexadecimally noted 27B0h.</p>

<p>NOTE 1 Of course, an optimisation is possible: due to the truncation, 27B0h is not really 315: it is 314,88. The value 27B1h is more precise: this is 315,04.<br/>
NOTE 2 An interesting only tool can be found here: <a href="http://www.tapko.de/Tools.31.0.html">http://www.tapko.de/Tools.31.0.html</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 22, 2011 07:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431490"></a>
                                    <font class="smallfont"><p>Hi again Juha, looking at the www.tapko.de web i've found one javascript to translate decimal values to 2 byte DPT 9.001, it seems to come from official KNX specs, i can send it by mail if you want.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 22, 2011 15:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431492"></a>
                                    <font class="smallfont"><p>Thanks, should be ok now. Marcus has also confirmed the implementation with his HVAC actuator and values seem to match as expected, and including what ETS shows.</p>

<p>So we should be good with it for now.</p>

<p>Thanks for helping test the implementation!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 22, 2011 17:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431500"></a>
                                    <font class="smallfont"><p>Yes, it works with status sensor (defined as range) but if you write a TEMP command to the bus doesn't understand, how i've to define this sensor? If i define as CUSTOM but crash and if i define as RANGE no crash but the bus misundertand.<br/>
Another question if you don't mind, the temperature label sensor have no decimal, how i can make it show one decimal digit? i define the command as STATUS and the SENSOR as RANGE (0 to 50 for example9)<br/>
Thanks a lot is a pleasure for me help in you implementation.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 22, 2011 19:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431503"></a>
                                    <font class="smallfont"><p>Ok, thanks for the info.</p>

<p>Marcus is still testing, so will wait the feedback on the write commands. It may need tweaking, I didn't verify the generated CEMI frame yet.</p>

<p>The decimal on the label went into a custom sensor but I didn't get it correctly yet, will look at what patches are necessary after this week.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Aug 22, 2011 19:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432127"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>After I read the temperature value on the KNX bus, how can one display it on the screen? Any ideas?</p>

<p>Rick</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Aug 28, 2011 18:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432131"></a>
                                    <font class="smallfont"><p>Hi Rick,</p>

<p>To display it on screen i've used a STATUS COMMAND with 9.001 DPT, a CUSTOM SENSOR without any value and a LABEL TEXT to display it. I hope this can help you.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Aug 28, 2011 23:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432134"></a>
                                    <font class="smallfont"><p>That is exactly the way todo it <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 29, 2011 08:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432253"></a>
                                    <font class="smallfont"><p>perfect, just did it and it works! Thanks!</p>

<p>Now up to some sliders.</p>

<p>Rick</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Sep 05, 2011 23:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432700"></a>
                                    <font class="smallfont"><p>Albert,</p>

<p>Could you send me a copy of that java script please? You can send it to rick dot centeno at gmail dot com. Thanks in advance for your help.</p>

<p>Rick</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Oct 03, 2011 09:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432701"></a>
                                    <font class="smallfont"><p>Hi Rick, script send, tell me if you need something more.</p>

<p>Albert</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amarquez at Oct 03, 2011 13:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432948"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>I could really need a few pointers here. I thought i had it all set up right. including setting up the components in the designer. But all i am getting for the temperature status is N/A ...</p>

<p>like this: <a href="http://192.168.10.220:8080/controller/rest/status/113">http://192.168.10.220:8080/controller/rest/status/113</a></p>

<p>&lt;openremote xmlns="http://www.openremote.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.openremote.org <a href="http://www.openremote.org/schemas/controller.xsd">http://www.openremote.org/schemas/controller.xsd</a>"&gt;<br/>
&lt;status id="113"&gt;N/A&lt;/status&gt;<br/>
&lt;/openremote&gt;</p>


<p>After some research i found this in the logs, so i am guessing i have the wrong version of something:</p>

<p>Exception in thread "Thread-6" java.lang.ClassCastException: org.openremote.controller.protocol.knx.datatype.TwoOctetFloat cannot be cast to org.openremote.controller.protocol.knx.datatype.Float2Byte<br/>
        at org.openremote.controller.protocol.knx.GroupValueRead.read(GroupValueRead.java:257)<br/>
        at org.openremote.controller.component.Sensor.readStatus(Sensor.java:131)<br/>
        at org.openremote.controller.statuscache.PollingMachineThread.run(PollingMachineThread.java:65)</p>

<p>I downloaded the Controller directly from svn as described on top of this thread by juha..<br/>
(<a href="https://openremote.svn.sourceforge.net/svnroot/openremote/workspace/juha/KNXTwoOctetFloat">https://openremote.svn.sourceforge.net/svnroot/openremote/workspace/juha/KNXTwoOctetFloat</a> )</p>

<p>Everything else is running fine on it, so the installation itself is good. The controller interface reports Version: r2490.</p>

<p>I am however using the demo designer :<a href="http://composer.openremote.org/demo">http://composer.openremote.org/demo</a> .. Is there some issues with new controller/old designer???</p>

<p>Would appreciate if anyone here would list which controller and designer you are using to get this to work.</p>


<p>Regards<br/>
Espen</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by espen at Oct 13, 2011 22:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19433081"></a>
                                    <font class="smallfont"><p>Looks like a bug... checking.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 16, 2011 20:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19433087"></a>
                                    <font class="smallfont"><p>I can confirm that is is a bug ..</p>


<p>in GroupValueRead.java,</p>

<p>moved:<br/>
if (dpt instanceof DataPointType.TwoOctetFloat)</p>

<p>before:<br/>
if (dpt == DataPointType.Float2ByteValue.VALUE_TEMP)</p>


<p>Regards<br/>
Espen</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by espen at Oct 16, 2011 22:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19433092"></a>
                                    <font class="smallfont"><p>Yep, thanks.</p>

<p>The latter should go away completely, replaced by the TwoOctetFloat.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 17, 2011 01:01
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 11:02</font></td>
		    </tr>
	    </table>
    </body>
</html>