<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Enocean eltako FPE-1</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Enocean eltako FPE-1
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Nov 16, 2014 by <font color="#0050B2">schaaf75</font>.
				    </div>

				    <p>I have a new device from Eltako Funk system<br/>
The funk positionschalter FPE-1</p>

<p>I can read the on status with:<br/>
EEP F6-02-01 STATUS_ROCKER_A</p>

<p>but the release of the switch i can't read it.<br/>
codes send by the device are 0x10 (button open)<br/>
0x00 (button closed)</p>

<p>Am i using the wrong EEP code?<br/>
Or is the release (0x00) not implemented in the EEP F6-02-01 code?</p>

<p>Kind regards</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23593793"></a>
                                    <font class="smallfont"><p>This is correct. The original EnOcean F6-02-01 implementation suppress the release telegram. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Nov 17, 2014 08:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593795"></a>
                                    <font class="smallfont"><p>Thanks for your reply, what is the easiest way to unsuppress this release telegram?<br/>
There are more modules in de Eltako 14 family with these constructure. Activating then send a telegram with 0x1x<br/>
and releasing the input oxoo is send.<br/>
I want to switch on and off the light in a closet.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Nov 17, 2014 11:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593875"></a>
                                    <font class="smallfont"><p>Is there someone who can help me to change this file or make a new EEP?<br/>
Or is there someone who has done this already?<br/>
Is there documentation where i can read how to change where to change code and run my own changed code? (a step by step).<br/>
I am using openremote running on a mac.</p>

<p>Kind regards <br/>
Arjen</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Nov 19, 2014 15:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593877"></a>
                                    <font class="smallfont"><p>Are you able to edit Java code and make your own controller build? If yes, I can give you a tip. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Nov 19, 2014 16:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593881"></a>
                                    <font class="smallfont"><p>Do you mean by edit java code the .class files? I can edit that (i am using JD-gui.app)<br/>
I have a controller running on my mac with rules. I will start up with the ./openremote.sh run command.</p>

<p>Thanks for so far.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Nov 19, 2014 21:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593882"></a>
                                    <font class="smallfont"><p>No, I mean the .java files, the source code. So you should be able to build it with ant. Please refer to How-to on this site.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Nov 19, 2014 22:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594019"></a>
                                    <font class="smallfont"><p>Hi Michal,<br/>
Thanks for pushing me in the right direction, i did some homework...<br/>
See <a href="http://www.openremote.org/display/docs/Building+OpenRemote+2.0+Developer+Releases">http://www.openremote.org/display/docs/Building+OpenRemote+2.0+Developer+Releases</a><br/>
And reading the first 3 chapters of :<a href="http://svnbook.red-bean.com/en/1.6/svn-book.pdf">http://svnbook.red-bean.com/en/1.6/svn-book.pdf</a><br/>
I also installed the svn commands on my computer.</p>

<p>Now have to make a copy of the openremote repository but which one is the best to start with? (In relation with the enocean code)<br/>
Am i right that enocean code is only in the test phase?<br/>
Now i am using: OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17 (made by Rainer Hitz, with the Command A5-38-08 implemented for the FUD14, i am using this every day successful)</p>



</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Nov 23, 2014 09:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594050"></a>
                                    <font class="smallfont"><p>I think that using the Rainer's branch is OK. Find EepF60201.java file and change the updateSensor() to this:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
  @Override <span class="code-keyword">public</span> void updateSensor(Sensor sensor) <span class="code-keyword">throws</span> ConfigurationException
  {
    <span class="code-keyword">if</span>(sensor <span class="code-keyword">instanceof</span> SwitchSensor)
    {
      sensor.update(getStateValue());
    }

    <span class="code-keyword">else</span>
    {
      <span class="code-object">String</span> status=<span class="code-quote">"N/A"</span>;
      <span class="code-keyword">if</span>(rockerStatus.ordinalValue() == ROCKER_AI)
      {
        <span class="code-keyword">if</span>(energyBowStatus.ordinalValue()==0){
          status = <span class="code-quote">"ROCKER_AI_0"</span>;
        }<span class="code-keyword">else</span>{
          status = <span class="code-quote">"ROCKER_AI"</span>;
        }
      }

      <span class="code-keyword">else</span> <span class="code-keyword">if</span>(rockerStatus.ordinalValue() == ROCKER_AO)
      {
        <span class="code-keyword">if</span>(energyBowStatus.ordinalValue()==0){
          status = <span class="code-quote">"ROCKER_AO_0"</span>;
        }<span class="code-keyword">else</span>{
          status = <span class="code-quote">"ROCKER_AO"</span>;
        }
      }

      <span class="code-keyword">else</span> <span class="code-keyword">if</span>(rockerStatus.ordinalValue() == ROCKER_BI)
      {
        <span class="code-keyword">if</span>(energyBowStatus.ordinalValue()==0){
          status = <span class="code-quote">"ROCKER_BI_0"</span>;
        }<span class="code-keyword">else</span>{
          status = <span class="code-quote">"ROCKER_BI"</span>;
        }
      }

      <span class="code-keyword">else</span> <span class="code-keyword">if</span>(rockerStatus.ordinalValue() == ROCKER_BO)
      {
        <span class="code-keyword">if</span>(energyBowStatus.ordinalValue()==0){
          status = <span class="code-quote">"ROCKER_BO_0"</span>;
        }<span class="code-keyword">else</span>{
          status = <span class="code-quote">"ROCKER_BO"</span>;
        }
      }
      sensor.update(status);
    }
  }
</pre>
</div></div>
<p>This way you will get the same commands as they were for pressing (legacy code will work) and commands ending with _0 for releasing. This change allows me to detect multiply clicks and long clicks from the standard rocker.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Nov 23, 2014 13:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594352"></a>
                                    <font class="smallfont"><p>Hi Mickal,<br/>
It took some time, but your solution is working on my computer.<br/>
I'am happy with it. By starting up the device i have some errors. It look likes that the error is created by switching on/off the first time a sensor with the FUD14 module.<br/>
This module sends a dimming value command (EEP A5-38-08) and an on/off command (EEP F06-02-01). <br/>
The error code generated by switching the first time:</p>

<p>ERROR ESP processor listener executor: Thread 'ESP processor listener executor' terminated with exception : null<br/>
java.lang.NullPointerException<br/>
	at org.openremote.controller.protocol.enocean.profile.EepF60201.updateSensor(EepF60201.java:493)<br/>
	at org.openremote.controller.protocol.enocean.EnOceanCommand.update(EnOceanCommand.java:201)<br/>
	at org.openremote.controller.protocol.enocean.TransceiveCommand.radioTelegramReceived(TransceiveCommand.java:128)<br/>
	at org.openremote.controller.protocol.enocean.EnOceanGateway.radioTelegramReceived(EnOceanGateway.java:160)<br/>
	at org.openremote.controller.protocol.enocean.Esp3Connection.radioTelegramReceived(Esp3Connection.java:131)<br/>
	at org.openremote.controller.protocol.enocean.packet.Esp3Processor$1.run(Esp3Processor.java:156)<br/>
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)<br/>
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)<br/>
	at java.lang.Thread.run(Thread.java:695)</p>

<p>Any idea?<br/>
Thanks </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Dec 03, 2014 08:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594354"></a>
                                    <font class="smallfont"><p>This is because updateRocekrStatus() is called only when energy bow is pressed, i.e. first you call pressed and then released state. This is normal behaviour for rockers. Probably your sensor can send the release command first, hence this error. You can either ignore this error or amend the source code to reflect your sensor behaviour correctly.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Dec 03, 2014 10:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595381"></a>
                                    <font class="smallfont"><p>After monitoring my system I think the error above is generated by the following sensor(s):</p>
<ul class="alternate" type="square">
	<li>I have a Eltako smoke sensor (FRW) this sensor is sending every 15 minutes a controle command (release rocker A).</li>
	<li>I have also a Eltako (FBH65S)light motion sensor this sensor is sending every 20 minutes controle command.</li>
</ul>


<p>My rules are not triggerd on these commands.<br/>
My questions are: what/ where do I have to change code to trigger the rules every time a controle message is send, but status is not changed.<br/>
I will controle if the sensors are still working if not I can change battery's etc. </p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Jan 13, 2015 12:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595384"></a>
                                    <font class="smallfont"><p>Please send your rule, so I can amend it for the desired behaviour.</p>
<blockquote>
<p>I will controle if the sensors are still working if not I can change battery's etc.</p></blockquote>
<p>Battery in EnOcean device should last for more than 10 years. Can be a long waiting <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 13, 2015 12:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595435"></a>
                                    <font class="smallfont"><p>Well i am very patient -), it is not only for the battery but also to check if the communication with the sensors are ok. <br/>
I hope the smoke alarm will never send an alarm message. But i am happy if the smoke alarm is sending every 15 min. a message everything OK.</p>

<p>The rule code i am using is:<br/>
// LogStamp is a function to write text with a date time stamp on my terminal screen</p>

<p>rule "Bewegingssensor hal"  //motion detector<br/>
when<br/>
 $motion : Event( source == "Sensor_MOTION_LB3" ) <br/>
 $light : Event( source == "Sensor_LIGHT_LB3" ) </p>

<p>then<br/>
  System.out.println( LogStamp("Status bewegingssensor HAL ( ")+ $motion.getValue()+ " " + $light.getValue() + " )" ); <br/>
  //check timer etc<br/>
end</p>


<p>rule "Rookmelder hal" //smoke detector<br/>
when<br/>
 $smoke : Event( source == "Sensor_frw1" ) </p>

<p>then<br/>
  System.out.println( LogStamp("Status rookmelder HAL ( ")+ $smoke.getValue() + " )" ); <br/>
  //check timer etc<br/>
end</p>

<p>------<br/>
Motion sensor is triggerd if light value or motion state is changed. <br/>
Motion sensor is NOT triggerd if values are equal every 20 minutes.</p>

<p>Smoke detector is triggerd if there is an alarm, if the alarm stoped and when the batery is empty (simulated that with an variable power supply)<br/>
So only triggerd by status changes, NOT triggerd if values are equal every 20 minutes.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Jan 14, 2015 15:41
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595438"></a>
                                    <font class="smallfont"><p>This will trigger on every enocean telegrams from sensors:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
rule <span class="code-quote">"Bewegingssensor hal"</span> <span class="code-comment">//motion detector
</span>when
$motion : Event( source == <span class="code-quote">"Sensor_MOTION_LB3"</span> ) 
$light : Event( source == <span class="code-quote">"Sensor_LIGHT_LB3"</span> )

then
<span class="code-object">System</span>.out.println( LogStamp(<span class="code-quote">"Status bewegingssensor HAL ( "</span>)+ $motion.getValue()+ <span class="code-quote">" "</span> + $light.getValue() + <span class="code-quote">" )"</span> ); 
<span class="code-comment">//check timer etc
</span>  retract($motion);
  retract($light);
end

rule <span class="code-quote">"Rookmelder hal"</span> <span class="code-comment">//smoke detector
</span>when
$smoke : Event( source == <span class="code-quote">"Sensor_frw1"</span> )

then
<span class="code-object">System</span>.out.println( LogStamp(<span class="code-quote">"Status rookmelder HAL ( "</span>)+ $smoke.getValue() + <span class="code-quote">" )"</span> ); 
<span class="code-comment">//check timer etc
</span>  retract($smoke);
end
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 14, 2015 16:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595458"></a>
                                    <font class="smallfont"><p>I added the retract statement into my rules but no differents.<br/>
On changes everythink ok.<br/>
No trigger if messages are equal.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Jan 15, 2015 14:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595459"></a>
                                    <font class="smallfont"><p>Please make sure that you reboot the controller after updating the design. There is a nasty bug in it causing many strange problems when you don't do this. Also, make sure that the retract() commands are indeed executed and you don't exit rule with an exception before reaching it.<br/>
The code is 100% good, I'm using this construct all the time.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 15, 2015 16:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595592"></a>
                                    <font class="smallfont"><p>It was the nasty bug. It is working. But......<br/>
If the controller start running it will receive (from the smoke sensor, a button off signal)<br/>
In my debugger screen the error (see this post, 3 dec 2014) is generated and the rule is not triggerd. This is happening every 20 minutes.<br/>
Where how can i change code? To solve this problem (bug?) In the EepF60201.java file? </p>

<p>If i put the test button on the smoke sensor (button press signal) the rule is triggerd an alarm, from that moment every 20 minutes the rule is triggerd, no errors anymore.<br/>
So there is a small startup problem.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Jan 20, 2015 13:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595612"></a>
                                    <font class="smallfont"><p>Well, I don't have a sensor which behaves like this so I cannot test it. Anyway putting try{}finally{} should solve this problem. Try the following code and see if it works as expected.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
  @Override <span class="code-keyword">public</span> void updateSensor(Sensor sensor) <span class="code-keyword">throws</span> ConfigurationException
  {
    <span class="code-keyword">if</span>(sensor <span class="code-keyword">instanceof</span> SwitchSensor)
    {
      sensor.update(getStateValue());
    }

    <span class="code-keyword">else</span>
    {
      <span class="code-object">String</span> status=<span class="code-quote">"N/A"</span>;
      <span class="code-keyword">try</span>{
        <span class="code-keyword">if</span>(rockerStatus.ordinalValue() == ROCKER_AI)
        {
          <span class="code-keyword">if</span>(energyBowStatus.ordinalValue()==0){
            status = <span class="code-quote">"ROCKER_AI_0"</span>;
          }<span class="code-keyword">else</span>{
            status = <span class="code-quote">"ROCKER_AI"</span>;
          }
        }

        <span class="code-keyword">else</span> <span class="code-keyword">if</span>(rockerStatus.ordinalValue() == ROCKER_AO)
        {
          <span class="code-keyword">if</span>(energyBowStatus.ordinalValue()==0){
            status = <span class="code-quote">"ROCKER_AO_0"</span>;
          }<span class="code-keyword">else</span>{
            status = <span class="code-quote">"ROCKER_AO"</span>;
          }
        }

        <span class="code-keyword">else</span> <span class="code-keyword">if</span>(rockerStatus.ordinalValue() == ROCKER_BI)
        {
          <span class="code-keyword">if</span>(energyBowStatus.ordinalValue()==0){
            status = <span class="code-quote">"ROCKER_BI_0"</span>;
          }<span class="code-keyword">else</span>{
            status = <span class="code-quote">"ROCKER_BI"</span>;
          }
        }

        <span class="code-keyword">else</span> <span class="code-keyword">if</span>(rockerStatus.ordinalValue() == ROCKER_BO)
        {
          <span class="code-keyword">if</span>(energyBowStatus.ordinalValue()==0){
            status = <span class="code-quote">"ROCKER_BO_0"</span>;
          }<span class="code-keyword">else</span>{
            status = <span class="code-quote">"ROCKER_BO"</span>;
          }
        }
      }<span class="code-keyword">finally</span>{
        sensor.update(status);
      }
    }
  }
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 20, 2015 15:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595698"></a>
                                    <font class="smallfont"><p>I tried the code but same result.<br/>
The first error is generated in the following statement if(rockerStatus.ordinalValue() == ROCKER_AI)<br/>
Is it possible that the value rockerStatus.ordinalValue() is NULL? That is what the error said.<br/>
Is it passible to force or set a value in rockerStatus.ordinalValue() if this one is NULL<br/>
Something like<br/>
if(rockerStatus.ordinalValue() == NULL)</p>
<div class="error"><span class="error">Unknown macro: {
  rockerStatus.ordinalValue()= ?? 
}</span> </div> 

<p>I can monitor the sensor code by Dolphine monitor if this can help solving this problem.<br/>
Let me know what kind of information (tests) can help. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Jan 22, 2015 08:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595710"></a>
                                    <font class="smallfont"><p>I don't understand how try{}finally{} block misses an exception. You can of course add the catch statement, but it would not change the functional behaviour. sensor.update() should be executed in any situation and the rule should be triggered.</p>

<p>Of course it is possible that rockerStatus.oridinalValue() is undefined as the off command does not send any information of the rocker which is released. It is the same for all of them.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 22, 2015 10:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595920"></a>
                                    <font class="smallfont"><p>I think i made a misstake now i have the following situation.<br/>
After adding the try finally block the logger is writing the value NA on the screen, every 20 minutes after starting up the controller.<br/>
The error (see post 3 dec 2014)is also generated.<br/>
I expect the value off (0x00). All the problems are gone if i generate for one time an alarm.<br/>
The smoke sensor is sending every 20 minutes an ID with data 0x00 (I did yesterday some monitoring with Dolphine basic view).<br/>
How is it possible that the sensor is ignore data with the value 0x00 after starting up (initialisation)</p>

<p>Can somebody help me to solve this problem.<br/>
I can change java code and compile, run changed code.<br/>
But I am new in Java and i don't understand all the source code in depth. Please push me in the right direction.<br/>
I can and will test all the Eltako modules and sensors I have.</p>

<p>thanks for so far.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by schaaf75 at Jan 27, 2015 07:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595945"></a>
                                    <font class="smallfont"><p>I don't really understand your problem. Value NA is as valid as 0x00, both say nothing - i.e. it is impossible to know which rocker was switched off as all of them have the same value.<br/>
Anyway, the rule is triggered so you know that the sensor is alive. What is exactly the problem you want to solve?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 27, 2015 09:49
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:35</font></td>
		    </tr>
	    </table>
    </body>
</html>