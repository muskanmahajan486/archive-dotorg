<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : KNX Switch problem</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : KNX Switch problem
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 17, 2014 by <font color="#0050B2">koenti</font>.
				    </div>

				    <p>Hi,<br/>
I created a blank OR panel with one switch on it.</p>

<p>The OR switch status responds on ON/OFF messages send from my KNX BUS.<br/>
The OR switch sends the ON command to the KNX bus, when I press the OR switch.<br/>
Problem: When the OR switch is pressed, the status of the OR switch is not updated (or changed to ON).  So the next press, is back an ON value.</p>

<p>How can this be solved?</p>

<p>Thx,<br/>
Koen<br/>
PS: I use currently CommandFusion.  I'm evaluating now the OR solution.....</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22888084"></a>
                                    <font class="smallfont"><p>Do you have an explicit groupadress for the status feedback from the KNX actuator?<br/>
OR needs that to work correct.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 18, 2014 09:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888479"></a>
                                    <font class="smallfont"><p>I have same problem with my system (Synology DS412+ DSM 5.0-4493 Update 4), since 4 month ago.<br/>
Status feedback stay off when i switch ON. My groupadress have now 1.011 before 1.001</p>

<p>How can this be solved too ?</p>

<p>Thx.</p>

<p>JLL<br/>
!knx!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by lodeve at Sep 03, 2014 17:41
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888488"></a>
                                    <font class="smallfont"><p>What commands do you have? 1.001 is a DPT not a group address.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 04, 2014 08:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888496"></a>
                                    <font class="smallfont"><p>Excuse me, my command have group address 6/0/11<br/>
KNX Command ON<br/>
Knx DPT 1.001</p>

<p>For Sensor i use a command Bureau (STATUS) TYPE switch<br/>
group address 6/0/111<br/>
KNX COMMAND STATUS<br/>
DTP 1.001 and i have try 1.011 not works.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by lodeve at Sep 04, 2014 11:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888567"></a>
                                    <font class="smallfont"><p>And you also created a switch object using the on command, the off command and the switch sensor?<br/>
Does your KNX actuator report the status automatically on 6/0/111 after a status change?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 07, 2014 19:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888586"></a>
                                    <font class="smallfont"><p>&gt;And you also created a switch object using the on command, the off command and the switch sensor?<br/>
Yes<br/>
&gt;Does your KNX actuator report the status automatically on 6/0/111 after a status change?<br/>
Yes too.</p>

<p>Above all functioned, for 4-5 months that has not gone any more.</p>

<p>I use java 1.8.0 on my Synology DS412+</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by lodeve at Sep 08, 2014 10:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888590"></a>
                                    <font class="smallfont"><p>I have understand, when I use MAC OS X 10.6.8 with java 1.6.0_65 all functions.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by lodeve at Sep 08, 2014 14:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595073"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>I have the same problem at my fresh Windows install.<br/>
I have followed the KNX Switches tutorial ( <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+KNX+Switches">http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+KNX+Switches</a> ), and state change well when using a physical KNX switch but when using GUI switch the state isn't updated.<br/>
I started with jdk-7u71-windows-x64.exe and switched back to jdk-6u45-windows-x64.exe but the bug stays.</p>

<p>Regards,</p>

<p>Raphael</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by macgeyer at Jan 02, 2015 20:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595074"></a>
                                    <font class="smallfont"><p>Do you have 2 group addresses and does your switch actuator update the group address used for the status when the state changes?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 02, 2015 20:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595075"></a>
                                    <font class="smallfont"><p>Thanks for your help, I only have 1 group address ( 1/1/12 ):</p>

<p>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>
&lt;openremote xmlns="http://www.openremote.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.openremote.org <a href="http://www.openremote.org/schemas/panel.xsd">http://www.openremote.org/schemas/panel.xsd</a>"&gt;<br/>
  &lt;panels&gt;<br/>
    &lt;panel id="1" name="panel1"&gt;<br/>
      &lt;include type="group" ref="2" /&gt;<br/>
    &lt;/panel&gt;<br/>
  &lt;/panels&gt;<br/>
  &lt;screens&gt;<br/>
    &lt;screen id="3" name="Starting Screen"&gt;<br/>
      &lt;grid left="31" top="24" width="200" height="200" rows="4" cols="4"&gt;<br/>
        &lt;cell x="0" y="1" rowspan="1" colspan="1"&gt;<br/>
          &lt;label id="12" fontSize="14" color="#FFFFFF" text="Etat"&gt;<br/>
            &lt;link type="sensor" ref="5847669"&gt;<br/>
              &lt;state name="on" value="On" /&gt;<br/>
              &lt;state name="off" value="Off" /&gt;<br/>
            &lt;/link&gt;<br/>
          &lt;/label&gt;<br/>
        &lt;/cell&gt;<br/>
        &lt;cell x="0" y="0" rowspan="1" colspan="1"&gt;<br/>
          &lt;switch id="6"&gt;<br/>
            &lt;link type="sensor" ref="5847669"&gt;<br/>
              &lt;state name="on" value="power.png" /&gt;<br/>
              &lt;state name="off" value="pause.png" /&gt;<br/>
            &lt;/link&gt;<br/>
          &lt;/switch&gt;<br/>
        &lt;/cell&gt;<br/>
        &lt;cell x="1" y="0" rowspan="1" colspan="1"&gt;<br/>
          &lt;switch id="14"&gt;<br/>
            &lt;link type="sensor" ref="5847669"&gt;<br/>
              &lt;state name="on" value="pause.png" /&gt;<br/>
              &lt;state name="off" value="power.png" /&gt;<br/>
            &lt;/link&gt;<br/>
          &lt;/switch&gt;<br/>
        &lt;/cell&gt;<br/>
      &lt;/grid&gt;<br/>
    &lt;/screen&gt;<br/>
  &lt;/screens&gt;<br/>
  &lt;groups&gt;<br/>
    &lt;group id="2" name="Default Group"&gt;<br/>
      &lt;include type="screen" ref="3" /&gt;<br/>
    &lt;/group&gt;<br/>
  &lt;/groups&gt;<br/>
&lt;/openremote&gt;</p>

<p>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>
&lt;openremote xmlns="http://www.openremote.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.openremote.org <a href="http://www.openremote.org/schemas/controller.xsd">http://www.openremote.org/schemas/controller.xsd</a>"&gt;<br/>
  &lt;components&gt;<br/>
    &lt;switch id="6"&gt;<br/>
      &lt;on&gt;<br/>
        &lt;include type="command" ref="15" /&gt;<br/>
      &lt;/on&gt;<br/>
      &lt;off&gt;<br/>
        &lt;include type="command" ref="17" /&gt;<br/>
      &lt;/off&gt;<br/>
      &lt;include type="sensor" ref="5847669" /&gt;<br/>
    &lt;/switch&gt;<br/>
    &lt;switch id="14"&gt;<br/>
      &lt;on&gt;<br/>
        &lt;include type="command" ref="15" /&gt;<br/>
      &lt;/on&gt;<br/>
      &lt;off&gt;<br/>
        &lt;include type="command" ref="17" /&gt;<br/>
      &lt;/off&gt;<br/>
      &lt;include type="sensor" ref="5847669" /&gt;<br/>
    &lt;/switch&gt;<br/>
    &lt;label id="12"&gt;<br/>
      &lt;include type="sensor" ref="5847669" /&gt;<br/>
    &lt;/label&gt;<br/>
  &lt;/components&gt;<br/>
  &lt;sensors&gt;<br/>
    &lt;sensor id="5847669" name="Power ON/OFF" type="switch"&gt;<br/>
      &lt;include type="command" ref="16" /&gt;<br/>
      &lt;state name="on" /&gt;<br/>
      &lt;state name="off" /&gt;<br/>
    &lt;/sensor&gt;<br/>
  &lt;/sensors&gt;<br/>
  &lt;commands&gt;<br/>
    &lt;command id="15" protocol="knx"&gt;<br/>
      &lt;property name="command" value="ON" /&gt;<br/>
      &lt;property name="groupAddress" value="1/1/12" /&gt;<br/>
      &lt;property name="DPT" value="1.001" /&gt;<br/>
      &lt;property name="name" value="Power ON" /&gt;<br/>
    &lt;/command&gt;<br/>
    &lt;command id="16" protocol="knx"&gt;<br/>
      &lt;property name="command" value="STATUS" /&gt;<br/>
      &lt;property name="groupAddress" value="1/1/12" /&gt;<br/>
      &lt;property name="DPT" value="1.001" /&gt;<br/>
      &lt;property name="name" value="Power Status" /&gt;<br/>
    &lt;/command&gt;<br/>
    &lt;command id="17" protocol="knx"&gt;<br/>
      &lt;property name="command" value="OFF" /&gt;<br/>
      &lt;property name="groupAddress" value="1/1/12" /&gt;<br/>
      &lt;property name="DPT" value="1.001" /&gt;<br/>
      &lt;property name="name" value="Power OFF" /&gt;<br/>
    &lt;/command&gt;<br/>
  &lt;/commands&gt;<br/>
  &lt;config&gt;<br/>
    &lt;property name="controller.roundrobin.multicast.port" value="10000" /&gt;<br/>
    &lt;property name="controller.roundrobin.tcpserver.port" value="20000" /&gt;<br/>
    &lt;property name="controller.groupname" value="floor20" /&gt;<br/>
    &lt;property name="multicast.port" value="3333" /&gt;<br/>
    &lt;property name="controller.groupmember.autodetect.on" value="true" /&gt;<br/>
    &lt;property name="amx_ni.port" value="50000" /&gt;<br/>
    &lt;property name="zwave.commLayer" value="" /&gt;<br/>
    &lt;property name="copy.lircd.conf.on" value="true" /&gt;<br/>
    &lt;property name="irsend.path" value="/usr/local/bin/irsend" /&gt;<br/>
    &lt;property name="controller.applicationname" value="controller" /&gt;<br/>
    &lt;property name="multicast.address" value="224.0.1.100" /&gt;<br/>
    &lt;property name="Macro.IR.Execution.Delay" value="500" /&gt;<br/>
    &lt;property name="controller.roundrobin.multicast.address" value="224.0.1.200" /&gt;<br/>
    &lt;property name="zwave.comPort" value="" /&gt;<br/>
    &lt;property name="zwave.pad.port" value="7876" /&gt;<br/>
    &lt;property name="lutron_homeworks.password" value="openremote" /&gt;<br/>
    &lt;property name="lagarto_network.broadcast" value="tcp://127.0.0.1:5001" /&gt;<br/>
    &lt;property name="lircd.conf.path" value="/etc/lircd.conf" /&gt;<br/>
    &lt;property name="lutron_homeworks.port" value="23" /&gt;<br/>
    &lt;property name="lutron_homeworks.address" value="192.168.1.1" /&gt;<br/>
    &lt;property name="zwave.pad.host" value="localhost" /&gt;<br/>
    &lt;property name="lutron_homeworks.username" value="openremote" /&gt;<br/>
    &lt;property name="webapp.port" value="8080" /&gt;<br/>
    &lt;property name="protocol.zwave.classname" value="org.openremote.controller.protocol.zwave.ZWaveCommandBuilder" /&gt;<br/>
    &lt;property name="resource.upload.enable" value="true" /&gt;<br/>
    &lt;property name="amx_ni.address" value="192.168.1.1" /&gt;<br/>
    &lt;property name="enocean.commLayer" value="" /&gt;<br/>
    &lt;property name="enocean.serialProtocol" value="ESP3" /&gt;<br/>
    &lt;property name="enocean.comPort" value="" /&gt;<br/>
    &lt;property name="vera.address" value="" /&gt;<br/>
    &lt;property name="domintell.port" value="17481" /&gt;<br/>
    &lt;property name="protocol.vera.classname" value="org.openremote.controller.protocol.vera.VeraCommandBuilder" /&gt;<br/>
    &lt;property name="domintell.address" value="192.168.1.1" /&gt;<br/>
  &lt;/config&gt;<br/>
&lt;/openremote&gt;</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by macgeyer at Jan 02, 2015 20:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595077"></a>
                                    <font class="smallfont"><p>I have also created a new macro which turn light ON, after 5000ms turns light OFF, after 5000ms turns light ON and after 5000ms turns light OFF. When running it light turns ON and OFF but the state in the GUI isn't updated but when using physical button the state is update to the right state.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by macgeyer at Jan 02, 2015 21:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595078"></a>
                                    <font class="smallfont"><p>OK, I have created an explicit groupadress for the status feedback from the KNX actuator, it's working fine now.<br/>
I have got a lot of actuators and I didn't need an feedback group until now, is it really not possible to use existing group address ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by macgeyer at Jan 02, 2015 21:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595079"></a>
                                    <font class="smallfont"><p>Not at the moment, sorry. Older KNX installations use only one GA a lot, but normally in newer installations you always find one acting address and one status address.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 02, 2015 23:12
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:31</font></td>
		    </tr>
	    </table>
    </body>
</html>