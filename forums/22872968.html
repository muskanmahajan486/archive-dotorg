<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : command shell execution protocol, read exit state?</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : command shell execution protocol, read exit state?
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 18, 2013 by <font color="#0050B2">jmspooner</font>.
				    </div>

				    <p>Hi,</p>

<p>Was thinking, rather than just parsing the output of the shell command that was executed, could we not have the option of doing something with the exit state?  IE if you use ping and the remote host responds then ping exits with 0.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22872984"></a>
                                    <font class="smallfont"><p>It would make sense. Would need to be added. Can you compile Java?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jun 18, 2013 10:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22872997"></a>
                                    <font class="smallfont"><p>I'm sorry, I have experience of PHP and Bash, some perl and C++ but I'm very much new to java.  However OR was all the excuse I needed to start getting into it so that should improve in time.</p>

<p>In the mean time I've used the work around as follows: (I'm sure you know but for others reading) example below</p>

<p>Name: jon-desktop<br/>
Command: shell execution protocol<br/>
Path: /bin/ping<br/>
Command parameter: 192.168.1.152 -n -c 1 -w 1<br/>
Polling interval: 1m<br/>
RegularExpression: (1|0)\sreceived<br/>
Sensor names: jon-desktopState</p>

<p>From there on I use a custom sensor mapping 1 = on and 0 = off</p>

<p>Its working rather well thus far.  However if at some point we could choose to use the exit state then the ping command could be a little more ideal such as "192.168.1.152 -n -c 3 -w 3" IE a few more pings just to make sure.</p>

<p>Cheers</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jmspooner at Jun 18, 2013 11:42
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:40</font></td>
		    </tr>
	    </table>
    </body>
</html>