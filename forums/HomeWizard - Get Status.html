<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : HomeWizard - Get Status</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : HomeWizard - Get Status
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Nov 05, 2014 by <font color="#0050B2">dsaaltink</font>.
				    </div>

				    <p>I passed to get openremote working with the HomeWizard. I only don't know how to get the status of a switch.<br/>
I know the html command but it gives me all the status of all switches. Can somebody help me how to get the correct status of 1 switch? I managed to switch a light on and off but i need to create two switches because the feedback to the sensor ins't working (i think)</p>

<p>Hope somebody can help me out.</p>

<p><a href="http://ip">http://ip</a> adres/password/get-status<br/>
<img src="attachments/23593538/23789588.png" align="absmiddle" border="0"/></p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23593538/23789588.png">Schermafbeelding 2014-11-05 om 17.39.46.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23593538/23789590.txt">output.txt</a> (text/plain)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23593546"></a>
                                    <font class="smallfont"><p>Your result is a JSON structure. You have to use a JSONPath expression on your HTTPCommand to parse the result. And you need a polling interval eg. 1s to keep the status up-to-date. <br/>
You posted the result as a picture, so it's hard to copy paste into a JSON editor.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 06, 2014 08:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593553"></a>
                                    <font class="smallfont"><p>Thanks Marcus, i'm a nono on this <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> Bellow the output. Also on text file</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
{[^output.txt]<span class="code-quote">"status"</span>: <span class="code-quote">"ok"</span>, <span class="code-quote">"version"</span>: <span class="code-quote">"2.76"</span>, <span class="code-quote">"request"</span>: {<span class="code-quote">"route"</span>: <span class="code-quote">"/get-status"</span> }, <span class="code-quote">"response"</span>: {<span class="code-quote">"switches"</span> : [{<span class="code-quote">"id"</span>:0,<span class="code-quote">"type"</span>:<span class="code-quote">"dimmer"</span>,<span class="code-quote">"status"</span>:<span class="code-quote">"off"</span>,<span class="code-quote">"dimlevel"</span>:0},{<span class="code-quote">"id"</span>:1,<span class="code-quote">"type"</span>:<span class="code-quote">"dimmer"</span>,<span class="code-quote">"status"</span>:<span class="code-quote">"off"</span>,<span class="code-quote">"dimlevel"</span>:0},{<span class="code-quote">"id"</span>:2,<span class="code-quote">"type"</span>:<span class="code-quote">"dimmer"</span>,<span class="code-quote">"status"</span>:<span class="code-quote">"off"</span>,<span class="code-quote">"dimlevel"</span>:0},{<span class="code-quote">"id"</span>:3,<span class="code-quote">"type"</span>:<span class="code-quote">"dimmer"</span>,<span class="code-quote">"status"</span>:<span class="code-quote">"off"</span>,<span class="code-quote">"dimlevel"</span>:0},{<span class="code-quote">"id"</span>:4,<span class="code-quote">"type"</span>:<span class="code-quote">"dimmer"</span>,<span class="code-quote">"status"</span>:<span class="code-quote">"off"</span>,<span class="code-quote">"dimlevel"</span>:0},{<span class="code-quote">"id"</span>:6,<span class="code-quote">"type"</span>:<span class="code-quote">"dimmer"</span>,<span class="code-quote">"status"</span>:<span class="code-quote">"off"</span>,<span class="code-quote">"dimlevel"</span>:0}], <span class="code-quote">"uvmeters"</span>: [], <span class="code-quote">"windmeters"</span>: [], <span class="code-quote">"rainmeters"</span>: [], <span class="code-quote">"thermometers"</span>: [{<span class="code-quote">"id"</span>: 1, <span class="code-quote">"te"</span>: 9.0, <span class="code-quote">"hu"</span>: 79}], <span class="code-quote">"energymeters"</span>: [], <span class="code-quote">"energylinks"</span>: [], <span class="code-quote">"heatlinks"</span>: [], <span class="code-quote">"kakusensors"</span>: [{<span class="code-quote">"id"</span>:0,<span class="code-quote">"status"</span>:<span class="code-quote">"no"</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"07:31"</span>},{<span class="code-quote">"id"</span>:1,<span class="code-quote">"status"</span>:<span class="code-quote">"no"</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"13:18"</span>},{<span class="code-quote">"id"</span>:2,<span class="code-quote">"status"</span>:<span class="code-quote">"no"</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"12:58"</span>},{<span class="code-quote">"id"</span>:3,<span class="code-quote">"status"</span>:<span class="code-keyword">null</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"00:00"</span>},{<span class="code-quote">"id"</span>:4,<span class="code-quote">"status"</span>:<span class="code-keyword">null</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"00:00"</span>},{<span class="code-quote">"id"</span>:5,<span class="code-quote">"status"</span>:<span class="code-keyword">null</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"00:00"</span>},{<span class="code-quote">"id"</span>:6,<span class="code-quote">"status"</span>:<span class="code-keyword">null</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"00:00"</span>},{<span class="code-quote">"id"</span>:7,<span class="code-quote">"status"</span>:<span class="code-keyword">null</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"00:00"</span>},{<span class="code-quote">"id"</span>:8,<span class="code-quote">"status"</span>:<span class="code-keyword">null</span>,<span class="code-quote">"timestamp"</span>:<span class="code-quote">"00:00"</span>}]}}
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dsaaltink at Nov 06, 2014 13:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593556"></a>
                                    <font class="smallfont"><p><b>hint:</b> include your textual code in {code}..{code} tags to make it readable here</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Nov 06, 2014 13:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593559"></a>
                                    <font class="smallfont"><p>Thanks!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dsaaltink at Nov 06, 2014 13:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593560"></a>
                                    <font class="smallfont"><p>The status of the first switch would be returned like this: response.switches[0].status</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 06, 2014 13:52
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:36</font></td>
		    </tr>
	    </table>
    </body>
</html>