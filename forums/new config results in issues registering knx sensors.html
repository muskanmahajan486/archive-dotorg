<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : new config results in issues registering knx sensors</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : new config results in issues registering knx sensors
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on May 06, 2014 by <font color="#0050B2">dlowet</font>.
				    </div>

				    <p>I recently tried to add some switches and sensors to my setup.</p>

<p>If I sync my controller I get a lot of error messages like this:<br/>
exception.XMLParsingException: Expression '//or:*<span class="error">&#91;@id=&#39;133&#39;&#93;</span>' matches more than one element : 2</p>

<p>I don't see what is wrong with my configuration. A lot of things don't work anymore after this small update.</p>

<p>What can I do about it?</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22886425"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>Yes, similar problem here. Most of my switches have stopped working. Scenes and sliders appear to,  be working fine...</p>

<p>Davy, have you got any further?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gheinert at May 12, 2014 23:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886426"></a>
                                    <font class="smallfont"><p>Please send your account details. I don't recall what the fix was but can try to look it up.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at May 12, 2014 23:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886449"></a>
                                    <font class="smallfont"><p>I have send the login details to contact@openremote.org</p>

<p>Thanks for the effort!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dlowet at May 13, 2014 19:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886562"></a>
                                    <font class="smallfont"><p>Hi Juha,</p>

<p>Thanks for getting back to me. <br/>
Tried your suggestion. No luck. The switches have stopped working. Scenes and sliders are working fine. I don't think it is a problem with the KNX Sensors, as if I switch the lights on or off from a normal KNX switch, the status is updated in OpenRemote...</p>

<p>Had still saved a previous controller.xml panel.xml and those work fine. I have looked at one switch more closely. I looked at the controller.xml and panel.xml  and the ids of all seem to match up fine. But it turns out that the switch id "240" for this switch is not unique. The id "240" is also used for a KNX command. I have changed the switch id in the controller.xml and panel.xml to "1240" and now this particular switch works.</p>

<p>Thus it appears to be a problem with IDs in the controller.xml not being unique. This may have come to light because my OpenRemote Design is quite large...</p>

<p>Has something changed in the Designer recently in the ways IDs are allocated? As the old controller.xml file has not ID duplication.</p>

<p>I have e-mailed you the IDs for this particular switch as well as the panel.xml and controller.xml (exported from RoseMary).</p>

<p>By the way the ID for this switch is also not unique on the controller.xml file downloaded from the preview designer...</p>

<p>Best wishes</p>

<p>Gideon </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gheinert at May 18, 2014 20:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886603"></a>
                                    <font class="smallfont"><p>Just wanted to let you know that we're looking in to this. Will let you know as soon as we have more info.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at May 20, 2014 18:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886876"></a>
                                    <font class="smallfont"><p>I just wanted to know if it's possible to fix this issue. Can you let us know when you think we can try our new configuration again?</p>

<p>Thanks, Davy</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dlowet at Jun 03, 2014 19:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886914"></a>
                                    <font class="smallfont"><p>I do have a bug fix that should solve this issue.<br/>
I need to create the appropriate patch branch to implement it, then we'll merge to a version that can be deployed on-line.<br/>
I'll synchronize with Juha. Hopefully somewhere next week that should be OK but can't guarantee it as I have a lot of customer work to deliver next week.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jun 05, 2014 15:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886945"></a>
                                    <font class="smallfont"><p>Hi Juha,<br/>
Hi Eric,</p>

<p>Thank you very much for looking into this problem. A fix would be fantastic. <br/>
Do you already know whether our old Designs are recoverable?? Juha mentioned that he wanted to look whether something could be salvaged from the backups.<br/>
My design was quite big and am planning to add the next few rooms to it. Just hoping that I don't have to start from the beginning again...</p>


<p>Best wishes</p>

<p>Gideon</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gheinert at Jun 08, 2014 19:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887061"></a>
                                    <font class="smallfont"><p>Sorry been abroad a lot next week so could not finish on this. Resuming now...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jun 14, 2014 19:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887429"></a>
                                    <font class="smallfont"><p>Hi Eric,</p>

<p>Any news yet on the fix about the mismatched IDs?</p>

<p>Best wishes</p>

<p>Gideon</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gheinert at Jul 05, 2014 09:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887697"></a>
                                    <font class="smallfont"><p>Could you already make any progress on this issue?</p>

<p>Best regards,</p>

<p>Davy</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dlowet at Jul 25, 2014 21:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887704"></a>
                                    <font class="smallfont"><p>Sorry guys, I've coded the patch to this several weeks ago but I'm not the one that can deploy it to the server...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jul 26, 2014 05:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887786"></a>
                                    <font class="smallfont"><p>Juha,</p>

<p>Is there a chance that you could deploy the patch to the server???</p>

<p>Thanks</p>

<p>Gideon</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gheinert at Jul 31, 2014 21:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888274"></a>
                                    <font class="smallfont"><p>I would really appreciate to have a solution soon for this issue.</p>

<p>Is this bug also present in the professional version?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dlowet at Aug 27, 2014 19:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888312"></a>
                                    <font class="smallfont"><p>Hi Davy,</p>

<p>I managed to work around the issue by running a local Designer setup and reconstructing the SQL Beehive database manually from my controller.xml and panel.xml. But that was very laborious, tidious and not straightforward. I am now unsing my own, local Designer rather than the Cloud based one. It also means I only have palceholders for my pictures in the Designer (but not in the final design deployed to the controller).</p>

<p>Eric, where can I find the patch? <br/>
I have asked Juha to send me a SQL dump of my beehive data, then I could try the patch on my own, local Designer setup...</p>

<p>Best wishes</p>

<p>Gideon</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gheinert at Aug 28, 2014 10:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888322"></a>
                                    <font class="smallfont"><p>Wow, what a lot of work. I don't see it as an option for me. I really don't want to spend that much time for some additional actuators I wanted to add to the project.</p>

<p>I will wait until there is a good solution for this issue.</p>

<p>It's really strange that my project is categorized as a big project, we just have a normal house with only some actuators for the lights and blinds (it's all with KNX). So why are we the only ones which have this issue?</p>

<p>Best regards,</p>

<p>Davy</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dlowet at Aug 28, 2014 19:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888579"></a>
                                    <font class="smallfont"><p>This is the fix branch:<br/>
svn+ssh://svn.code.sf.net/p/openremote/code/patches/individual/Designer_2_13_9_ColorpickerAndWebWidget_248-395-333-384-398-437-497-MODELER-537</p>

<p>Depending on which base branch you would merge this into, you need to make sure the other required issues (numbers listed in the branch name) are already present.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Sep 08, 2014 07:44
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:37</font></td>
		    </tr>
	    </table>
    </body>
</html>