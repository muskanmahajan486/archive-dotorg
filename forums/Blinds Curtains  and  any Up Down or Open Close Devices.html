<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Blinds Curtains  and  any Up Down or Open Close Devices</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Blinds Curtains  and  any Up Down or Open Close Devices
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 10, 2012 by <font color="#0050B2">niraviry</font>.
				    </div>

				    <p>Hi,</p>

<p>I have re-opened the issue of missing devices and DPT for which was presented in my topic More Examples.<br/>
The DPT list lacks the ability to control such devices since these devices, firmware wise encapsulate the up/down control to the logical definition of the type of Actuator behavior ans buttons behavior.<br/>
Under OR no custom device so I no way of controlling such devices.<br/>
These are very basic devices.<br/>
Please help with a solution.</p>

<p>Thank,</p>

<p>Nir</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/20451691/20742269.png">Blinds Example.PNG</a> (image/x-png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-20451715"></a>
                                    <font class="smallfont"><p>It was already said by Juha on another forum thread that KNX does not encapsulate the DPT in the package send through the bus. You can use DPT1.001 (on/off) for any of those devices that use DPT1.xxx</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 11, 2012 08:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20451726"></a>
                                    <font class="smallfont"><p>Hi Marcus,</p>

<p>You are still missing one thing. The Actuators and buttons can be set to blinds mode. In this mode two physical relays are presented logically as having one Group Address. There is a parameter in this mode thta sets the up or down direction. Threfore your answer is not relevant. I have no specific Group Address to Up and a different to down. The same goes for the Start / Stop control. It handles two relays withing the Actuator. The reason this mode is relevant is because it prevents the user from pressing both up and down at the same time (XOR) thus protecting the Blinds motors from burning.</p>

<p>If I can add, this is a 3 possition control: Up, Down None. That means two bits. Therefore Off/On is not enough. The implementation to the user in the Schneider actuators acts as I have explained and I have no control over this.</p>

<p>See attached image.</p>

<p>I hope now the issue is clear.</p>

<p>Thanks,</p>

<p>Nir!Blinds Example.PNG|thumbnail!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Oct 11, 2012 10:32
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20451727"></a>
                                    <font class="smallfont"><p>You have to send "1" to the group address for the blinds to go up.<br/>
And you send "0" for the blind to go down.</p>

<p>Sorry, but I don't understand the issue.</p>

<p>In OpenRemote you define 2 commands one with "on" and one with "off". You create 2 buttons one for up and one for down.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 11, 2012 10:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20451729"></a>
                                    <font class="smallfont"><p>I see what you mean.<br/>
Logically, thinking realy wise (being H/W engineer) this is not so logical to me.<br/>
I will check it out this evening.</p>

<p>Thanks,</p>

<p>Nir</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Oct 11, 2012 10:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452285"></a>
                                    <font class="smallfont"><p>Hi Again,</p>

<p>I finaly had time to update the blinds control and there is still an issue.<br/>
I order to run the blinds I need to have a macro with Direction command and on command.<br/>
While adding a switch to the Designer, I have no option to select a macro in the list of commands.</p>

<p>Nir</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Oct 17, 2012 19:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452286"></a>
                                    <font class="smallfont"><p>Switch cannot execute macro. Just use button.<br/>
Your blind actuator seems strange. Why don't the 2 commands (one up and one down) not work?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 17, 2012 19:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452375"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>It is written in the beginning of the post. The Schneider blinds mode has one group address for Up (1) or Down (0) which to my best understanding do not move a thing but enables the proper actuator channel and a Start / Stop group address.<br/>
That means 1st you have to select the direction (Up or Down) and then activate the movement.<br/>
The Schneider itself when pressing a short press on the up or down will issue a short power to the motor thus will change the blinds angle. When pressing a long press (about 1 second), the blinds will move up or down according to the button pressed till the time that was defined to stop the operation.<br/>
The Schneider hardware (switch has all these features inside it). I have no idea about the operation of other vendors.<br/>
It is obvious the one can implement the operation with one button selecting the direction and the other shall be Start/Stop. Did not try it yet as this is less logical operation HMI wise.<br/>
The only way to do what I have planed is to link between a switch and a macro.<br/>
I see no reason why it shouldn't be possible.<br/>
Further more, if this is so, when do you use the Macros?</p>

<p>Nir</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Oct 18, 2012 15:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452401"></a>
                                    <font class="smallfont"><p>Ok, now I understood. This is the first KNX device I heard about which is doing this <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/><br/>
Do you have the devices application file? I would like to look at this in ETS.</p>

<p>Macros are there to execute single commands with only one button. So this should be ok.<br/>
Just create the commands you need (up-mode, down-mode, action) and combine up&amp;actiond or down&amp;action with a macro.<br/>
Then use a button UI widget and select the macro.</p>

<p>The switch UI widget is for actual switches where you have on,off and status.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 18, 2012 22:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452419"></a>
                                    <font class="smallfont"><p>Hi Marcus,</p>

<p>I will try that today. Anyway what I have from Schneider is the User Manual in PDF of both switches and Actuator which are free and the distributors Power Point which I have no idea if I am allowed to send to a third party.<br/>
I now think that if I would have chosen other switches I might have a problem but this is not the case.</p>

<p>BTW, this is a safe way to program Blinds. Schneider have in one actuator both switch, blinds and other modes (which are logical definitions). I love the Schneider equipment.<br/>
As for the Macros, I did write the proper Macro but I did not find the way t link it to the UI. I admit I did not dig much.</p>

<p>Thanks.</p>

<p>Nir</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Oct 19, 2012 08:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452421"></a>
                                    <font class="smallfont"><p>Hi again.</p>

<p>I did some more thinking and if I use a button the I need 3 buttons - Up, Down &amp; Stop (I might want to stop the blinds half way or so). This looks ugly.<br/>
What I can do is have an Up/Down switch and Start/Stop Switch which is less trivial operation.<br/>
I think macros should be enabled in switches as well for such cases.</p>

<p>Nir</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Oct 19, 2012 08:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452425"></a>
                                    <font class="smallfont"><p>A switch is a more abstract object which also has a status.<br/>
If you can have a command or some other information to fill the status this should work.<br/>
You can use the rule engine to execute multiple commands when a switch turns on/off.<br/>
In that case the stuff done with the macros in the moment would be moved into a rule.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 19, 2012 09:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452499"></a>
                                    <font class="smallfont"><p>I started struggling with Drool. At the moment I am trying to run it without Eclipse.<br/>
I did not find detailed enough instructions as I am not experienced in Java webapps etc.<br/>
My roots are hardware but I have knowledge and experiences in software as well.<br/>
I have posted a help request for this issue.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Oct 19, 2012 20:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452502"></a>
                                    <font class="smallfont"><p>We have drools already integrated into OpenRemote and you don't need Eclipse. Drools comes with a visual editor but that cannot be used in the moment. You just edit the rules files through our designer and you can find some information on the forums.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 19, 2012 21:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452515"></a>
                                    <font class="smallfont"><p>Got it.<br/>
Now I only must learn Drools syntex using Drools user guide.</p>

<p>Thanks.</p>

<p>Nir</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Oct 20, 2012 12:30
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:44</font></td>
		    </tr>
	    </table>
    </body>
</html>