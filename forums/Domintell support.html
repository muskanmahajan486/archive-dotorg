<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Domintell support</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Domintell support
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 15, 2015 by <font color="#0050B2">ebariaux</font>.
				    </div>

				    <p>Just wanted to let everybody know we started support for Domintell system in OpenRemote.</p>

<p>Those who want to give it a test can find the controller branch with this work <a href="https://svn.code.sf.net/p/openremote/code/workspace/ebariaux/_Archive/Controller/Controller_2_0_1_ORCJAVA-253">here</a>.</p>

<p>The modeler that allows creation of the Domintell configuration is <a href="https://svn.code.sf.net/p/openremote/code/workspace/ebariaux/_Archive/Pro_1.0.x/Pro_1.0.1/Designer_2_14_0_MODELER-391">here</a>.</p>

<p>Currently only relays, dimmers and temperature is supported.<br/>
I haven't written any doc yet or created a tutorial video so please post any questions or comments to this thread.</p>

<p>Eric</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19433904/23789972.png">Screenshot 2015-09-23 09.49.06.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-21857580"></a>
                                    <font class="smallfont"><p>Hello,</p>

<p>I have a Domintell installation at home, and I'd like to have a try with OpenRemote.<br/>
But the Controller is not available anymore.<br/>
Do you have any news of it ? Is it definitely on a dead branch, or is it just waiting some interested people ?   <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Thanks.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nyavan at Feb 15, 2013 08:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21857587"></a>
                                    <font class="smallfont"><p>It's not dead but has not been a priority, as not many people from the community picked up on it.<br/>
If you or somebody else from the community wants to contribute on that code base, I'm happy to help now.<br/>
If this is for a commercial project, please contact us via e-mail and we'll see how to work together.</p>

<p>Otherwise, it'll have to wait a bit longer. I'll definitely work on it in a few months at the latest.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Feb 15, 2013 10:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21857718"></a>
                                    <font class="smallfont"><p>Ok, thanks for the information.<br/>
I'll see if I have some time in few weeks to check the code and have a try.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nyavan at Feb 18, 2013 10:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886956"></a>
                                    <font class="smallfont"><p>I have a Domintell installation and would love to get it working with OpenRemote. Unfortunately the links are broken. Is it still available somewhere?</p>

<p>Nico</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nicod at Jun 09, 2014 11:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887064"></a>
                                    <font class="smallfont"><p>Yes, still available but the branches had been moved around a bit.<br/>
I now fixed the links in the first post.</p>

<p>This was still very early work, which did not include support for all Domintell module types (mainly switching and dimming), no auto-discovery.</p>

<p>If you do try it, please give feedback here.<br/>
Also, if you're looking for a specific module supported, please let me know here too.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jun 14, 2014 19:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887066"></a>
                                    <font class="smallfont"><p>Thanks, I'll give it a go. </p>

<p>I have a fairly limited setup. I only have switches (DBIR01 and DTRP01), dimmers (DDMX01) and shutters (DTRV01).</p>

<p>Nico</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nicod at Jun 14, 2014 20:41
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887644"></a>
                                    <font class="smallfont"><p>I finally found some time to try the Domintell support but I'm a bit confused on how to get it running.</p>

<p>I checked out both directories, but how am I supposed to run them? </p>

<p>I tried running Controller_2_0_1_ORCJAVA-253/runtime/apache-tomcat-6.0.18/bin/openremote.sh but I cannot access <a href="http://localhost:8080/controller/">http://localhost:8080/controller/</a> <br/>
Actualy the webapps/controller/ directory appears to be empty and there is no controller.war file.</p>

<p>Any instructions on what I should do to get this working?  I don't have a build environment configured.</p>

<p>Nico</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nicod at Jul 20, 2014 20:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887663"></a>
                                    <font class="smallfont"><p>You need to build the controller.</p>

<p>If you have a JDK installed and ant, just running ant in the main folder should work and produce a controller "distribution" under the output folder.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jul 22, 2014 13:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887727"></a>
                                    <font class="smallfont"><p>I'm back.</p>

<p>I've setup a fresh Ubuntu 14.04 server virtual machine to play around with Openremote.  Compiled beehive, modeler and controller.</p>

<p>Accessing <a href="http://openremote:8080/controller/">http://openremote:8080/controller/</a> and <a href="http://openremote:8080/webconsole/">http://openremote:8080/webconsole/</a> seem to work fine but <a href="http://openremote:8080/modeler/">http://openremote:8080/modeler/</a> gives me a 404 error 'The requested resource () is not available.' Same for beehive.</p>

<p>Here is the procedure I followed, what am I missing?</p>

<ol>
	<li>install fresh 14.04 server</li>
	<li>install java 6<br/>
add-apt-repository ppa:webupd8team/java<br/>
apt-get install oracle-java6-installer</li>
</ol>


<ol>
	<li>install ant<br/>
apt-get install ant</li>
</ol>


<ol>
	<li>install Google GWT 2.4.0<br/>
cd /opt<br/>
unzip /root/gwt-2.4.0.zip</li>
</ol>


<ol>
	<li>install mysql<br/>
apt-get install mysql-server</li>
	<li>passwd: test123</li>
</ol>


<ol>
	<li>install subversion<br/>
apt-get install subversion</li>
</ol>


<ol>
	<li>copy Controller-Domintell/runtime/apache-tomcat-6.0.18 to /opt/openremote/controller/<br/>
cd /opt/openremote<br/>
cd src/Controller-Domintell/<br/>
export JAVA_HOME=/usr<br/>
ant<br/>
cp -r output/OpenRemote-Controller-2.0.1/  /opt/openremote/openremote/</li>
</ol>


<ol>
	<li>compiling modeler<br/>
cd /opt/openremote/src/Modeler-Domintell/<br/>
export JAVA_HOME=/usr/<br/>
export GWT_HOME=/opt/gwt-2.4.0/<br/>
vim build.properties<br/>
 gwt.sdk = /opt/gwt-2.4.0/<br/>
ant war<br/>
cp output/Designer-2.13.6-2012-09-20-Rosemary.war /opt/openremote/openremote/webapps/modeler.war</li>
</ol>


<ol>
	<li>checkout beehive<br/>
cd /opt<br/>
mkdir -p openremote/src/beehive<br/>
cd openremote/src/beehive<br/>
svn co <a href="http://svn.code.sf.net/p/openremote/code/tags/project/Beehive/Beehive_3_0_0_Beta1/">http://svn.code.sf.net/p/openremote/code/tags/project/Beehive/Beehive_3_0_0_Beta1/</a> .</li>
	<li>create beehive database and db user<br/>
mysqladmin -p create beehive<br/>
mysql -uroot -ptest123<br/>
mysql&gt; CREATE USER 'beehive'@'localhost' IDENTIFIED BY 'openremote';<br/>
mysql&gt; GRANT ALL PRIVILEGES ON beehive.* TO 'beehive'@'localhost';<br/>
mysql&gt; flush privileges;</li>
	<li>initialize database<br/>
mysql -ubeehive -popenremote beehive &lt;sql/import.sql<br/>
cd /opt/openremote/src/beehive<br/>
vim config/config.properties<br/>
 jdbc.url=jdbc:mysql://localhost:3306/beehive?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF-8<br/>
 jdbc.username = beehive<br/>
 jdbc.password = openremote<br/>
 work.dir = /opt/openremote/src/beehive<br/>
export JAVA_HOME=/usr/<br/>
ant war<br/>
cp output/beehive.war /opt/openremote/openremote/webapps/</li>
</ol>


<ol>
	<li>start server<br/>
chmod a+x /opt/openremote/openremote/bin/openremote.sh<br/>
cd /opt/openremote/openremote/bin/<br/>
./openremote.sh start</li>
</ol>


<ol>
	<li>
	<ol>
		<li>
		<ol>
			<li><a href="http://openremote:8080/modeler/">http://openremote:8080/modeler/</a></li>
		</ol>
		</li>
	</ol>
	</li>
	<li>404 error &#8211; The requested resource () is not available.
	<ol>
		<li>
		<ol>
			<li><a href="http://openremote:8080/controller/">http://openremote:8080/controller/</a></li>
			<li><a href="http://openremote:8080/webconsole/">http://openremote:8080/webconsole/</a></li>
		</ol>
		</li>
	</ol>
	</li>
</ol>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nicod at Jul 27, 2014 14:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887844"></a>
                                    <font class="smallfont"><p>You should not need to compile any custom designer, the Domintell protocol is available in the online version.<br/>
If you still want to, this thread might help: <a href="http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server">http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server</a></p>

<p>But otherwise, just use the online designer to create your configuration and only compile a custom version of the controller.</p>

<p>Let me know if that fails and I'll compile a version for you.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Aug 04, 2014 15:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596534"></a>
                                    <font class="smallfont"><p>Hi Eric,<br/>
I have domintell in my house and would like to use openremote to control light switches. <br/>
I installed standard controller on my Raspberry Pi.<br/>
I designed a simple interface with online designer as to control XBMC and it works fine. <br/>
I try to configure also a switch linked to BIR module through DETH02 but it doesn't works. <br/>
I found this thread in user forum and I tried to build your custom version "Controller_2_0_1_ORCJAVA-253" using JDK 8 (my Raspberry has Rasbian Wheezy)<br/>
and ant<br/>
but<br/>
result in output file seems to be missing a lot o file, first of all "/bin/openremote.sh"<br/>
This is result of ant</p>

<p>op@raspberrypi ~ $ cd Controller_2_0_1_ORCJAVA-253/<br/>
op@raspberrypi ~/Controller_2_0_1_ORCJAVA-253 $ ant</p>

<p>Buildfile: /home/op/Controller_2_0_1_ORCJAVA-253/build.xml<br/>
  taskdef Could not load definitions from resource checkstyletask.properties. It could not be found.</p>

<p>clean:<br/>
   <a href="delete.html" title="delete">delete</a> Deleting directory /home/op/Controller_2_0_1_ORCJAVA-253/build<br/>
   <a href="delete.html" title="delete">delete</a> Deleting directory /home/op/Controller_2_0_1_ORCJAVA-253/output<br/>
   <a href="delete.html" title="delete">delete</a> Deleting directory /home/op/Controller_2_0_1_ORCJAVA-253/web/WEB-INF/classes</p>

<p>init:<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/testcontainer<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/testcontainer/war<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/testcontainer/webapps<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/testcontainer/logs<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/testcontainer/logs/dev<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/testcontainer/logs/knx<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/testcontainer/logs/onewire<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/testcontainer/logs/isy99<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/output<br/>
     copy Copying 18 files to /home/op/Controller_2_0_1_ORCJAVA-253/build/lib</p>

<p>compile:<br/>
     echo --------------------------------------------------------------------<br/>
     echo  Compiling project classes (full)...<br/>
     echo --------------------------------------------------------------------<br/>
     echo<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/build/classes<br/>
     copy Copying 14 files to /home/op/Controller_2_0_1_ORCJAVA-253/build/classes<br/>
     copy Copying 14 files to /home/op/Controller_2_0_1_ORCJAVA-253/web/WEB-INF/classes<br/>
     copy Copying 3 files to /home/op/Controller_2_0_1_ORCJAVA-253/build/classes<br/>
    javac /home/op/Controller_2_0_1_ORCJAVA-253/build.xml:280: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds</p>

<p>package:<br/>
     echo --------------------------------------------------------------------<br/>
     echo  Creating Controller Runtime...<br/>
     echo --------------------------------------------------------------------<br/>
     echo<br/>
    mkdir Created dir: /home/op/Controller_2_0_1_ORCJAVA-253/output/OpenRemote-Controller-2.0.1<br/>
     copy Copying 11 files to /home/op/Controller_2_0_1_ORCJAVA-253/output/OpenRemote-Controller-2.0.1<br/>
     copy Copying 48 files to /home/op/Controller_2_0_1_ORCJAVA-253/output/OpenRemote-Controller-2.0.1/webapps/controller<br/>
     copy Copying 3 files to /home/op/Controller_2_0_1_ORCJAVA-253/output/OpenRemote-Controller-2.0.1/webapps/controller/WEB-INF/classes<br/>
     copy Copying 18 files to /home/op/Controller_2_0_1_ORCJAVA-253/output/OpenRemote-Controller-2.0.1/webapps/controller/WEB-INF/lib<br/>
      zip Building zip: /home/op/Controller_2_0_1_ORCJAVA-253/output/OpenRemote-Controller-2.0.1.zip</p>

<p>BUILD SUCCESSFUL<br/>
Total time: 25 seconds</p>


<p>Where am I wrong?<br/>
Thank you for your support</p>

<p>Gigio</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Feb 12, 2015 17:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596545"></a>
                                    <font class="smallfont"><p>I don't see anything wrong in the above output but keep in mind that the controller is meant to be compiled with JDK6.<br/>
Also, controller will run under JDK8 but it has some issues, for instance with rules.</p>

<p>If you have access to another computer than the Pi, I would compile the controller there using JDK6, then copy the zip to the Pi.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Feb 13, 2015 07:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596563"></a>
                                    <font class="smallfont"><blockquote>
<p>I don't see anything wrong in the above output but keep in mind that the controller is meant to be compiled with JDK6.<br/>
Also, controller will run under JDK8 but it has some issues, for instance with rules.</p>

<p>If you have access to another computer than the Pi, I would compile the controller there using JDK6, then copy the zip to the Pi.</p></blockquote>

<p>Does this mean that OpenRemote Controller releases will continue to stay on Java6 and Drools 5.1 for the foreseeable future? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Feb 14, 2015 10:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596564"></a>
                                    <font class="smallfont"><p>OR Controller will continue to use JDK 6 only features for the foreseeable future and we will continue to use that version to test the controller. The rationale is that we currently have the controller running on some specific (i.e. non Oracle and non OpenJDK) VMs for different projects/platforms and those do not support features above JDK 6.<br/>
It does not mean that the controller should not run on JDK 7 and 8 but we're currently not spending time to ensure this is the case.</p>

<p>Regarding Drools, we're not stuck on v5.1 but need to make sure that:</p>
<ul class="alternate" type="square">
	<li>the version we upgrade to supports JDK 6</li>
	<li>it does not break (or we can clearly document what breaks) the existing rules people have</li>
</ul>


<p>This has a high priority and we'll get to it as soon as time allows.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Feb 14, 2015 14:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596655"></a>
                                    <font class="smallfont"><p>Hi Eric,<br/>
I compiled the controller successfully with JDK6 in another computer (Ubuntu 10.4). Than I tried to run controller 2.0.1 but I get this error when I press a switch or button linked to Domintell BIR </p>

<p>Command failed<br/>
Error in controller. Please check controller log</p>

<p>Where can I find this log as to try to understand what's wrong?</p>

<p>Thanks</p>

<p>P.S. It's ok if I compose interface with online  tool at <a href="https://composer.openremote.org/demo/login.jsp">https://composer.openremote.org/demo/login.jsp</a> ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Feb 20, 2015 14:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596674"></a>
                                    <font class="smallfont"><p>You can find log files under the logs folder of the OpenRemote folder.<br/>
For debugging purposes, if you start OR from the bin directory, running openremote.sh run, that will provide most of the log information to stdout (the console).</p>

<p>You can also add this line</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">log4j.logger.Domintell = DEBUG, openremote-console</pre>
</div></div>
<p>to the log4j.properties file to get more information from the Domintell protocol.<br/>
You can either do it on the config/log4j.properties file before compiling the controller, or edit the webapps/controller/WEB-INF/classes/log4j.properties file on a compiled version.</p>


<p>And yes, you can use that designer version to create your configuration, although it misses the IS4/IS8 modules to support reading keypads, but BIR/DIM control should be fine.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Feb 21, 2015 10:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601283"></a>
                                    <font class="smallfont"><p>Hi Eric,<br/>
I'm here again. Now OR works on Raspberry PI and I'd like to report some issue I'm experiencing:</p>

<p>Switches: can turn on lights but cannot turn them off. Also image On/Off doesn't change when pressing widget<br/>
Sliders: when slide to 100% light turn off. I mean, from 1 to 99 light is on but when set to 100 it turns off</p>


<p>Is there some documentation or template regarding widgets and commands?</p>

<p>Hope you can help me</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Sep 15, 2015 14:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601395"></a>
                                    <font class="smallfont"><p>What console are you using ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Sep 22, 2015 16:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601396"></a>
                                    <font class="smallfont"><p>I'm using openremote app on iPhone. Controller was compiled with jdk6 and running on Raspberry.<br/>
Now switches works fine but slided when reach 100 turns off the light</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Sep 22, 2015 20:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601399"></a>
                                    <font class="smallfont"><p>Gigo, have to tried to change the range from 0-100 to 0-99 (which is 100 steps)?<br/>
best regards,<br/>
Olivier</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by oliviertoebosch at Sep 22, 2015 23:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601402"></a>
                                    <font class="smallfont"><p>Oliver, I couldn't find any place where to set range. This is what I can set<br/>
<a href="https://www.dropbox.com/s/nt9mgatngecgjf7/Screenshot%202015-09-23%2009.49.06.png?dl=0">https://www.dropbox.com/s/nt9mgatngecgjf7/Screenshot%202015-09-23%2009.49.06.png?dl=0</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Sep 23, 2015 08:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601406"></a>
                                    <font class="smallfont"><p>that range has to be set with a slider, i think. you showed the command there<br/>
No?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by oliviertoebosch at Sep 23, 2015 17:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601409"></a>
                                    <font class="smallfont"><p>Hi Oliver, I found what you are speaking about and now it works fine. Thank you for support</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Sep 24, 2015 08:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601441"></a>
                                    <font class="smallfont"><p>I made some deep test and slider have some little issue:</p>

<p>Slider with sensor type "range" (set from 1 to 99): thumb can slide but don't give correct feedback position.<br/>
Slider with sensor type "level" at position 100 turns off the light but slider thumb works fine. It indicates always the right level, even if light is dimmed from my wall switch</p>

<p>Do you think this can be a wrong setting or is a real issue? Eventually can be fixed?</p>

<p>Thanks</p>

<p>Gigio</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Sep 25, 2015 08:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601492"></a>
                                    <font class="smallfont"><p>Hi Eric,<br/>
did you see my post below? Can you help me please?<br/>
Also is possible to implement input module (ISM)?<br/>
Thank you <br/>
Gigio</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Sep 29, 2015 12:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601515"></a>
                                    <font class="smallfont"><p>I need to do some testing, will try to do that next week.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Oct 02, 2015 15:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601588"></a>
                                    <font class="smallfont"><p>I also have problem reading temperature. What module type should I use?<br/>
This is full list of available modules in designer:</p>

<p>BIR = Relay (ok)<br/>
DMR = ?<br/>
TRP = ?<br/>
DIM = Dimmer (ok - Some issues)<br/>
D10 = ?<br/>
TSB = ?<br/>
TE1 = Temperature? (tested with different "domintell command" but not working)<br/>
TE2 = Temperature? (tested with different "domintell command" but not working)<br/>
LC3 = ?<br/>
PBL = ?</p>

<p>Not yet tried to set temperature, I need first to understand how to read it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Oct 06, 2015 17:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601618"></a>
                                    <font class="smallfont"><p>Hello,</p>

<p>      I am student in house automation and I must carry out a project with openremote.</p>

<p>I have try to configure Openremote with domintell but i do not have any communication with the DETH02.</p>

<p>I have configure my IP DETH02 and Port to config for controller.</p>

<p>I have the box Openremote (ORB).</p>

<p>It's possible for a short explication to create a command for DMR and DIM ?</p>

<p>Thanks you </p>

<p>Vincent</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by barreauxv at Oct 09, 2015 13:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601658"></a>
                                    <font class="smallfont"><p>Hi Vincent,</p>

<p>I don't know how Openremote Box works but I think you need Controller modified by Eric Bariaux, you can find link on top of this page.</p>

<p>About creating commands, I wrote a quick user manual for you <a href="https://dl.dropboxusercontent.com/u/17207574/QuickGuide.pdf">here</a> </p>

<p>If you have trouble communicating with DETH02 module you can first check <a href="https://dl.dropboxusercontent.com/u/17207574/deth0x_appnote_v1_02.pdf">this document</a></p>

<p>Hope this can help you.</p>

<p>Gigio</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gigio72 at Oct 12, 2015 14:05
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601686"></a>
                                    <font class="smallfont"><p>Indeed, you need a specific branch. Link in first post of this page was broken, I've now fixed it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Oct 15, 2015 09:32
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601689"></a>
                                    <font class="smallfont"><p>DMR is a single phase relay module from Domintell, behaves like BIR but with 5 outputs.<br/>
TRP is a "telerupteur" (remote switch), similar to BIR with 4 outputs</p>

<p>D10 is a one channel dimmer that uses 1-10V for control (e.g. for fluorescent tube ballasts, some LED drivers)</p>

<p>All others are different modules that somehow have a temperature sensor in them.<br/>
READ_CURRENT_TEMP command should work with those.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Oct 15, 2015 09:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23601907"></a>
                                    <font class="smallfont"><p>There was indeed an issue in the Domintell protocol handling dim levels of 100.<br/>
To fix it, edit the DimmerModule.java class, replacing this method</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
   @Override
   <span class="code-keyword">public</span> void setLevel(<span class="code-object">Integer</span> output, <span class="code-object">int</span> level) {
      gateway.sendCommand(moduleType + address + <span class="code-quote">"-"</span> + <span class="code-object">Integer</span>.toString(output) + <span class="code-quote">"%D"</span> + StringUtils.right(<span class="code-quote">"00"</span> + <span class="code-object">Integer</span>.toString(level) , 2));
   }
</pre>
</div></div>

<p>with this</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
   @Override
   <span class="code-keyword">public</span> void setLevel(<span class="code-object">Integer</span> output, <span class="code-object">int</span> level) {
      gateway.sendCommand(moduleType + address + <span class="code-quote">"-"</span> + <span class="code-object">Integer</span>.toString(output) + <span class="code-quote">"%D"</span> + <span class="code-object">Integer</span>.toString(level));
   }
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Oct 28, 2015 07:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23605917"></a>
                                    <font class="smallfont"><p>Hi <br/>
I'm newbie on your forum and my english is very bad !<br/>
I try to run openremote with my domintell installation ... the openremote server run on my MAC 'El Capitan'.<br/>
But when start the server, in the console I see that "No device protocol builders registered with protocol type 'domintell'"<br/>
Can you help me ?<br/>
Have nice day and thank you in advance</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gisou147 at Mar 01, 2016 11:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23605934"></a>
                                    <font class="smallfont"><p>The controller you're using does not have the Domintell protocol implemented.</p>

<p>You either need to use the free OR controller branch referenced in the first post of this thread or using a Pro account.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Mar 03, 2016 13:05
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:47</font></td>
		    </tr>
	    </table>
    </body>
</html>