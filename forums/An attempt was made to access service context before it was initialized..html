<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : An attempt was made to access service context before it was initialized.</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : An attempt was made to access service context before it was initialized.
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 25, 2013 by <font color="#0050B2">waddy72</font>.
				    </div>

				    <p>Hi I'm very new to Openremote and I've hit a problem.</p>

<p>I've set up a basic russound panel initially to just switch on and off one zone as atest.</p>

<p>When I come to synchronise the panel on line I get the following error:<br/>
"An attempt was made to access service context before it was initialized."</p>

<p>I think its because the controller is not running on my machine.  When I run openremote I get the following log:</p>


<p>Using JRE_HOME:        c:\Program Files\Java\jdk1.6.0_45</p>


<p>=============================================================================</p>

<p> Application initialization failed: <br/>
 Error creating bean with name 'controlCommandService' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'deployer' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'deployer' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'schema20' while setting constructor argument with key 2.0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schema20' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'sensorBuilder' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sensorBuilder' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'commandFactory' while setting bean property 'commandFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'commandFactory' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'russoundCommandBuilder' while setting constructor argument with key russound; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'russoundCommandBuilder' defined in class path resource applicationContext.xml: Unsatisfied dependency expressed through constructor argument with index 1 of type int: Could not convert constructor argument value [] to required type int: Failed to convert value of type java.lang.String to required type int; nested exception is java.lang.NumberFormatException: For input string: ""</p>

<p>=============================================================================</p>


<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'controlCommandService' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'deployer' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'deployer' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'schema20' while setting constructor argument with key 2.0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schema20' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'sensorBuilder' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sensorBuilder' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'commandFactory' while setting bean property 'commandFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'commandFactory' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'russoundCommandBuilder' while setting constructor argument with key russound; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'russoundCommandBuilder' defined in class path resource applicationContext.xml: Unsatisfied dependency expressed through constructor argument with index 1 of type int: Could not convert constructor argument value [] to required type int: Failed to convert value of type java.lang.String to required type int; nested exception is java.lang.NumberFormatException: For input string: ""<br/>
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'deployer' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'schema20' while setting constructor argument with key 2.0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schema20' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'sensorBuilder' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sensorBuilder' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'commandFactory' while setting bean property 'commandFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'commandFactory' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'russoundCommandBuilder' while setting constructor argument with key russound; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'russoundCommandBuilder' defined in class path resource applicationContext.xml: Unsatisfied dependency expressed through constructor argument with index 1 of type int: Could not convert constructor argument value [] to required type int: Failed to convert value of type java.lang.String to required type int; nested exception is java.lang.NumberFormatException: For input string: ""<br/>
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schema20' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'sensorBuilder' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sensorBuilder' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'commandFactory' while setting bean property 'commandFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'commandFactory' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'russoundCommandBuilder' while setting constructor argument with key russound; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'russoundCommandBuilder' defined in class path resource applicationContext.xml: Unsatisfied dependency expressed through constructor argument with index 1 of type int: Could not convert constructor argument value [] to required type int: Failed to convert value of type java.lang.String to required type int; nested exception is java.lang.NumberFormatException: For input string: ""<br/>
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sensorBuilder' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'commandFactory' while setting bean property 'commandFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'commandFactory' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'russoundCommandBuilder' while setting constructor argument with key russound; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'russoundCommandBuilder' defined in class path resource applicationContext.xml: Unsatisfied dependency expressed through constructor argument with index 1 of type int: Could not convert constructor argument value [] to required type int: Failed to convert value of type java.lang.String to required type int; nested exception is java.lang.NumberFormatException: For input string: ""<br/>
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'commandFactory' defined in class path resource applicationContext.xml: Cannot resolve reference to bean 'russoundCommandBuilder' while setting constructor argument with key russound; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'russoundCommandBuilder' defined in class path resource applicationContext.xml: Unsatisfied dependency expressed through constructor argument with index 1 of type int: Could not convert constructor argument value [] to required type int: Failed to convert value of type java.lang.String to required type int; nested exception is java.lang.NumberFormatException: For input string: ""<br/>
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'russoundCommandBuilder' defined in class path resource applicationContext.xml: Unsatisfied dependency expressed through constructor argument with index 1 of type int: Could not convert constructor argument value [] to required type int: Failed to convert value of type java.lang.String to required type int; nested exception is java.lang.NumberFormatException: For input string: ""<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:375)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:126)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:683)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:621)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:245)<br/>
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:141)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:242)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:156)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:246)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:128)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:299)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:140)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:332)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:97)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:683)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:621)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:245)<br/>
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:141)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:242)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:156)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:246)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:128)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:955)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:729)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:416)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:245)<br/>
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:141)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:242)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:156)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:246)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:128)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:332)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:97)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:683)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:621)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:245)<br/>
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:141)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:242)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:156)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:246)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:128)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:299)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:140)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:332)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:97)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:683)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:621)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:245)<br/>
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:141)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:242)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:156)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:246)<br/>
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:128)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:332)<br/>
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:97)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:683)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:621)<br/>
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:245)<br/>
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:141)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:242)<br/>
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:156)<br/>
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:290)<br/>
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:348)<br/>
	at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:92)<br/>
	at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:77)<br/>
	at org.openremote.controller.spring.SpringContext.&lt;init&gt;(SpringContext.java:74)<br/>
	at org.openremote.controller.spring.SpringContext.&lt;init&gt;(SpringContext.java:69)<br/>
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)<br/>
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)<br/>
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)<br/>
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)<br/>
	at java.lang.Class.newInstance0(Class.java:357)<br/>
	at java.lang.Class.newInstance(Class.java:310)<br/>
	at org.openremote.controller.bootstrap.Startup.loadServiceContext(Startup.java:81)<br/>
	at org.openremote.controller.bootstrap.servlet.ServletStartup.initializeServiceContext(ServletStartup.java:190)<br/>
	at org.openremote.controller.bootstrap.servlet.ServletStartup.contextInitialized(ServletStartup.java:109)<br/>
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3843)<br/>
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4342)<br/>
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:791)<br/>
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:771)<br/>
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)<br/>
	at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:926)<br/>
	at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:889)<br/>
	at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:492)<br/>
	at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1149)<br/>
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)<br/>
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)<br/>
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)<br/>
	at org.apache.catalina.core.StandardHost.start(StandardHost.java:719)<br/>
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)<br/>
	at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)<br/>
	at org.apache.catalina.core.StandardService.start(StandardService.java:516)<br/>
	at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)<br/>
	at org.apache.catalina.startup.Catalina.start(Catalina.java:578)<br/>
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)<br/>
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br/>
	at java.lang.reflect.Method.invoke(Method.java:597)<br/>
	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)<br/>
	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)</p>

<p>I can see there is an initialisation problem but I don't know where to start to fix it.</p>

<p>Can anyone help?</p>

<p>Thanks</p>


				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22878991"></a>
                                    <font class="smallfont"><p>There seems to be an error/incompatibility in the XML configuration of applicationContext.xml, and the Java classes compiled with the controller.</p>

<p>Can you tell what version of Controller you are currently using?</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 29, 2013 00:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879050"></a>
                                    <font class="smallfont"><p>Thanks for the response</p>

<p>I have version 2.1.0 the snapshot date is 17th june 2013.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by waddy72 at Oct 29, 2013 19:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879183"></a>
                                    <font class="smallfont"><p>Anyone?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by waddy72 at Nov 01, 2013 14:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879202"></a>
                                    <font class="smallfont"><p>Sorry I haven't had a chance to look at this issue yet. Thanks for reminding though.</p>

<p>Indeed if anyone else has the time to get to it first, would be appreciated.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Nov 01, 2013 19:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879562"></a>
                                    <font class="smallfont"><p>Can anyone give me any suggestions?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by waddy72 at Nov 07, 2013 11:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879609"></a>
                                    <font class="smallfont"><p>Looks like a wrong setting for one of the russound attributes.<br/>
What did you put in the file config.properties in webapps/controller/WEB-INF/classes folder?<br/>
There are some russound configs in there.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 08, 2013 09:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879611"></a>
                                    <font class="smallfont"><p>This is the Russound section of the config file:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre># RUSSOUND CONFIGURATION:
# 
# Configuration related to Russound amplifier

##
# IP-Address of the RS232 Serial gateway if used. The gateway has to support TCP mode
russound.ip=192.168.0.100

##
# Port of RS232 Serial gateway to use
russound.port=

##
# KeypadId IF NOT 0x70 (default). Specify as Hex without leading "0x" eg. "71"
russound.keypadId=

##
# If the Russound is connected directly to a serial port of controller use device name here eg. /dev/ttyS0
# If a serial device is specified the IP settings are ignored
russound.serialDevice=COM1

##
# If a pollingInterval is given, that means an extra thread is started which polls the device for the status
# valid values: 5000, 5s, 1m, 2h  (no letter=milliseconds, s=seconds, m=minute, h=hour)
russound.statusPollingInterval=3s

#
#------------------------------------------------ end of Russound --------
</pre>
</div></div>

<p>Thanks<br/>
Paul</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by waddy72 at Nov 08, 2013 11:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879612"></a>
                                    <font class="smallfont"><p>Sorry about the poor formatting but hopefully you can still read it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by waddy72 at Nov 08, 2013 11:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879695"></a>
                                    <font class="smallfont"><p>Please specify a russound.port even if you use serial. <br/>
Just define something like russound.port=1234</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 10, 2013 22:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879732"></a>
                                    <font class="smallfont"><p>Great - that fixed the problem I was having.</p>

<p>I've now hit another issue:<br/>
The controller seems to be running OK.  I have successfully synched online and I can access my test panel (single power on/off toggle for zone 1).<br/>
When I press the button I get "Command failed - error in controller.  Please check the controller log".</p>

<p>The log looks like it can't initialise a 32 bit .dll as I'm running Windows 7 64 bit.  Is there a 64 bit version available?  If not can I run it on a 64 bit machine?</p>

<p>This is a short extract from the log:</p>

<p>ERROR 2013-11-11 20:28:35,408 : Creating sensor failed. Error : C:\Users\admin\Downloads\OpenRemote\webapps\controller\WEB-INF\lib\native\rxtxSerial.dll: Can't load IA 32-bit .dll on a AMD 64-bit platform <br/>
 XML Element : &lt;sensor xmlns="http://www.openremote.org" id="279" name="Zone1 Power" type="switch"&gt;<br/>
      &lt;include type="command" ref="32" /&gt;<br/>
      &lt;state name="on" /&gt;<br/>
      &lt;state name="off" /&gt;<br/>
    &lt;/sensor&gt;<br/>
java.lang.UnsatisfiedLinkError: C:\Users\admin\Downloads\OpenRemote\webapps\controller\WEB-INF\lib\native\rxtxSerial.dll: Can't load IA 32-bit .dll on a AMD 64-bit platform<br/>
	at java.lang.ClassLoader$NativeLibrary.load(Native Method)<br/>
	at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1807)<br/>
	at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1732)<br/>
	at java.lang.Runtime.loadLibrary0(Runtime.java:823)<br/>
	at java.lang.System.loadLibrary(System.java:1028)<br/>
	at gnu.io.CommPortIdentifier.&lt;clinit&gt;(CommPortIdentifier.java:123)</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by waddy72 at Nov 11, 2013 20:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879737"></a>
                                    <font class="smallfont"><p>Yes, it's the RXTX native lib that needs to be updated.<br/>
There was some info about it in anothe forum thread.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 11, 2013 22:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879747"></a>
                                    <font class="smallfont"><p>Thanks Marcus - that's done the trick. </p>

<p>I'm up and running.</p>

<p>Much appreciated.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by waddy72 at Nov 12, 2013 09:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883706"></a>
                                    <font class="smallfont"><p>Hi,</p>

<p>I'm having a similar problem. I was using the 1.6.0 version of Java originally. So removed it and installed the 8 Build b126 1.8.0 developer version from Oracle. I'm trying to run OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17.</p>

<p>I'm trying to get the DSC system working. I've made all the changes I think I need to make to get the Envisalink 3 up and running. But now I'm getting these errors:</p>

<p>--------------------------------------------------</p>

<p>Application initialization failed: <br/>
 Error creating bean with name 'controlCommandService' defined in class path resource [applicationContext.xml]: Cannot resolve reference to bean 'deployer' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'deployer' defined in class path resource [applicationContext.xml]: Cannot resolve reference to bean 'schema20' while setting constructor argument with key [2.0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schema20' defined in class path resource [applicationContext.xml]: Cannot resolve reference to bean 'sensorBuilder' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sensorBuilder' defined in class path resource [applicationContext.xml]: Cannot resolve reference to bean 'commandFactory' while setting bean property 'commandFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'commandFactory' defined in class path resource [applicationContext.xml]: Cannot resolve reference to bean 'dscit100CommandBuilder' while setting constructor argument with key [dscit100]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dscit100CommandBuilder' defined in class path resource [applicationContext.xml]: 1 constructor arguments specified but no matching constructor found in bean 'dscit100CommandBuilder' (hint: specify index and/or type arguments for simple parameters to avoid type ambiguities)</p>

<p>--------------------------------------------------</p>

<p>This only occurs after I've modified applicationcontext.xml to:</p>

<p>--------------------------------------------------</p>

<p> &lt;!-- DSC IT Security System --&gt;<br/>
  &lt;bean id = "dscit100CommandBuilder" class = "org.openremote.controller.protocol.dscit100.DSCIT100CommandBuilder"&gt;<br/>
    &lt;constructor-arg index="0" value="${dscit100.interface.password}" /&gt;<br/>
  &lt;/bean&gt;</p>

<p>--------------------------------------------------</p>

<p>Any pointers as to where I might be going wrong would be very much appreciated!</p>

<p>Thanks</p>

<p>Chris</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tinkerfailure at Jan 30, 2014 21:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883873"></a>
                                    <font class="smallfont"><p>I didn't think it should be necessary to modify the applicationcontext.xml anymore to get DSC running. Did you follow a document somewhere that stated you needed to do this?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 03, 2014 15:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883897"></a>
                                    <font class="smallfont"><p>Hi Juha,</p>

<p>I've read quite a few articles and forum posts on this subject. I followed the instructions here:</p>

<p><a href="http://www.openremote.org/display/forums/Support+for+other+DSC+interfaces">http://www.openremote.org/display/forums/Support+for+other+DSC+interfaces</a></p>

<p>As my applicationContext.xml didn't match what was posted there.</p>

<p>Is that the wrong thing to do?</p>

<p>If I don't make that change, I get connection errors, as though the Envisalink is expecting a password and not getting it: 'Connection refused'</p>

<p>----------------------------------------------------------------------------------</p>

<div style="max-width:800px;"><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>INFO 2014-02-03 22:47:39,454 : Initialized event processor : Drools Rule Engine
INFO 2014-02-03 22:47:41,680 : Initialized event processor : RRD4J Data Logger
INFO 2014-02-03 22:47:41,688 : Initialized event processor : EmonCMS Data Logger
INFO 2014-02-03 22:47:42,868 : Registered sensor : Sensor (Name = 'Display IsDay Sensor', ID = '80', State Mappings: {false=Night, true=Day})
INFO 2014-02-03 22:47:42,884 : Registered sensor : Sensor (Name = 'AlarmStateSensor', ID = '81', State Mappings: {null=READY})
INFO 2014-02-03 22:47:42,959 : Registered sensor : Sensor (Name = 'Display Date Sensor', ID = '82', State Mappings: {})
INFO 2014-02-03 22:47:42,995 : Registered sensor : Sensor (Name = 'Display Sunset Sensor', ID = '86', State Mappings: {})
INFO 2014-02-03 22:47:43,315 : Startup complete.
INFO 2014-02-03 22:47:43,375 : Controller Definition File Watcher for Default Deployer started.
ERROR [Polling Sensor Thread ID = 81, Name ='AlarmStateSensor']: Couldn't get I/O for the connection
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.openremote.controller.protocol.dscit100.DSCIT100ConnectionManager.buildIPConnection(DSCIT100ConnectionManager.java:150)
	at org.openremote.controller.protocol.dscit100.DSCIT100ConnectionManager.getConnection(DSCIT100ConnectionManager.java:94)
	at org.openremote.controller.protocol.dscit100.DSCIT100Command.read(DSCIT100Command.java:168)
	at org.openremote.controller.protocol.dscit100.ReadCommand.read(ReadCommand.java:150)
	at org.openremote.controller.model.sensor.Sensor$DeviceReader.read(Sensor.java:682)
	at org.openremote.controller.model.sensor.Sensor$DeviceReader.run(Sensor.java:608)
	at java.lang.Thread.run(Thread.java:744)
</pre>
</div></div></div>

<p>----------------------------------------------------------------</p>

<p>Thanks for your help.</p>

<p>C</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tinkerfailure at Feb 03, 2014 22:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884018"></a>
                                    <font class="smallfont"><p>I think for Envisalink you'll need a more recent binary <a href="http://sourceforge.net/projects/openremote/files/For%20Developers/OpenRemote%202.1%20%28Developer%20Releases%29/OpenRemote-Controller-2.1.0_FM_SNAPSHOT-2013-07-18.zip/download">OpenRemote-Controller-2.1.0_FM_SNAPSHOT-2013-07-18.zip</a> or later. Can you give it a try and see if the connection still fails (without modifying the applicationContext.xml)?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 06, 2014 14:26
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:40</font></td>
		    </tr>
	    </table>
    </body>
</html>