<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Filter feedback from telnet server (sensor problem)</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Filter feedback from telnet server (sensor problem)
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 10, 2014 by <font color="#0050B2">szejkindudi</font>.
				    </div>

				    <p>Hello,</p>

<p>I have problem with feedback from my BMS gateway (want to control relay).<br/>
1) Create "switch power ON" command<br/>
"null|MyCommandToRelay=1" <br/>
2) Create "switch power OFF" command<br/>
"null|MyCommandToRelay=0"<br/>
3) Create sensor to visible change of state<br/>
"null|{$value{MyCommandToRelay=}}"</p>

<p>Command "1" nad "2" working ok, but gateway response at this way:</p>

<p>send one command to gateway:<br/>
MyCommandToRealy=1 (send from controller)<br/>
response from gateway:<br/>
MyCommandToRelay=0<br/>
MyCommandkeypress=make <br/>
MyCommandToRelay=1<br/>
 Gateway response change state from "0" to "1" and between change state send additional command keypress (this additional command is linked to physical key button in my additional control panel on the wall). If I check controller log, sensor catches first command "MyCommandToRelay=0" instead of "MyCommandToRelay=1" localized in the third line. Can i solve it and filter information?</p>

<p>If I properly understood the principle of the sensor it should read feedback in the form of "MyCommandToRelay=1" ?</p>

<p>Regards!</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23594360"></a>
                                    <font class="smallfont"><p>I try to configure custom sensor like "inverse logic", because gateway first received "MyCommandToRelay=0" when I send "MyCommandToRealy=1" to "ON" but it not works, why?<br/>
In the command "get status" window I have "null|{$value{MyCommandToRelay=}}" and In the custom sensor window I have "name" to "ON" and "value" to "null|MyCommandToRelay=0".</p>

<p>Regards!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by szejkindudi at Dec 03, 2014 13:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594396"></a>
                                    <font class="smallfont"><p>A wild guess: Have you tried ,lower case <em>on/off</em> ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Dec 04, 2014 11:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594406"></a>
                                    <font class="smallfont"><p>Yes but still not working..<br/>
"on" command working but "off" command not - I have no feedback </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by szejkindudi at Dec 04, 2014 12:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594448"></a>
                                    <font class="smallfont"><p>OK i checked again and now is working but not in 100 percent.<br/>
As I wrote in earlier post, gateway receiced two commands to confirmation "on" and two commands to confirmation "off" state. I put one of them to a sensor. In UI designer placed label which use sensor state. Switch sometimes not work and label show not inserted command but second of them e.g. I typed "keypress" command but label show "relay" and switch not work. <br/>
Second questions. My data bus is "blurr" and transmitted many other commands (like actual temperature) and if they appear label show these commands(and all other commands in my data bus) even though I placed "on" and "off" text in the label properties.<br/>
How Can i filter and fix and show only "match commands"?<br/>
As I see better way is to use two buttons than switch but sometimes user need real feedback information about state.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by szejkindudi at Dec 07, 2014 00:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23594504"></a>
                                    <font class="smallfont"><p>.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by szejkindudi at Dec 08, 2014 21:48
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:36</font></td>
		    </tr>
	    </table>
    </body>
</html>