<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Image and Label with sensor info (not working)</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Image and Label with sensor info (not working)
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 17, 2014 by <font color="#0050B2">ckbsmart</font>.
				    </div>

				    <p>Hello,<br/>
I am using OpenRemote-Controller-Pro1.0.14 on Synology NAS DSM 5.0.<br/>
I have installed the version from <a href="http://packages.pcloadletter.co.uk">http://packages.pcloadletter.co.uk</a>  and then upgraded by <br/>
rm -rf /volume1/@appstore/OpenRemote/webapps<br/>
cp -r /volume1/public/ OpenRemote-Controller-Pro1.0.14/webapps /volume1/@appstore/OpenRemote/webapps<br/>
chown -R openremote.users /volume1/@appstore/OpenRemote/webapps<br/>
the problem I am facing now is making an image listen to a sensor info and change accordingly.</p>

<p>I have done the following:<br/>
-given an information from a door sensor from Vera and using the Vera protocol (GET_TRIPPED) I have made a switch sensor that I have attached to a label and when I open the door it show "on" and when I close it shows "off". If I try to add some custom messages in the Sensor states field (for e.g. "doorOpened") it is not working. If I use a picture and try to change the images with the help of the switch sensor it is not working</p>

<p>-given an information from a door sensor from Vera and using the Vera protocol (GET_TRIPPED) I have made a CUSTOM sensor (name:off value: GetOut=0 name:on value: GetOut=1) that I have attached to a label and when I open the door it show "on" and when I close it shows "off". If I try to add some custom messages in the Sensor states field (for e.g. "doorOpened") it is not working, it still show the "on" and "off". If I use a picture and try to change the images with the help of the switch sensor it is not working</p>

<p>-given an information from a door sensor from Vera and using the Vera protocol (GET_TRIPPED) I have made a CUSTOM sensor (name: doorclose.png value: GetOut=0 name:dooropen.png value: GetOut=1) that I have attached to a picture it is not working</p>

<p>I also tried with GetOut1=1 and reversed them and so on. I also modified the <br/>
TCPSocketCommandBuilder.class<br/>
TCPSocketCommand.class<br/>
(<a href="http://www.openremote.org/display/forums/Custom+sensor+for+a+Switch+won&#39;t+work">http://www.openremote.org/display/forums/Custom+sensor+for+a+Switch+won't+work</a>)</p>

<p>I tried all that I can imagine and nothing helped.<br/>
Can someone point me in the right direction please?</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22888827"></a>
                                    <font class="smallfont"><p>Just tried the same thing with OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17 (the FREE controller) and the command works and the image changes.. how is that ?</p>

<p>I saw that in the free controller in the panel.xml i have<br/>
-&lt;absolute height="62" width="62" top="261" left="149"&gt;<br/>
-&lt;image id="219" src="doorc.jpg"&gt;<br/>
-&lt;link ref="3701571" type="sensor"&gt;<br/>
&lt;state name="off" value="doorc.jpg"/&gt;<br/>
&lt;state name="on" value="dooro2.jpg"/&gt;<br/>
&lt;/link&gt;<br/>
&lt;/image&gt;<br/>
&lt;/absolute&gt;</p>

<p>while in the pro i have the following </p>

<p>-&lt;absolute height="62" width="62" top="261" left="149"&gt;<br/>
-&lt;image id="219" src="doorc.jpg"&gt;<br/>
-&lt;link ref="3701571" type="sensor"&gt;<br/>
&lt;/image&gt;<br/>
&lt;/absolute&gt;</p>

<p>So no link</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at Sep 17, 2014 15:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888828"></a>
                                    <font class="smallfont"><p>Similar comment was made here a day ago: <a href="http://www.openremote.org/display/forums/Custom+Sensors+with+Images+stopped+working?focusedCommentId=22888794#comment-22888794">http://www.openremote.org/display/forums/Custom+Sensors+with+Images+stopped+working?focusedCommentId=22888794#comment-22888794</a></p>

<p>Looks like something has gone wrong with building the latest Pro release</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 17, 2014 15:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888830"></a>
                                    <font class="smallfont"><p>I hope it sorts out soon. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at Sep 17, 2014 15:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888849"></a>
                                    <font class="smallfont"><p>Just deployed 1.0.15 Pro Designer, this should fix the issue. No change on the controller side.</p>

<p>Please let you know if it works for you. Thanks.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Sep 18, 2014 09:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888850"></a>
                                    <font class="smallfont"><p>I have my controller still on level 1.0.13. Haven't tested the .14 Designer, but the .15 Designer seems to work for me</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 18, 2014 12:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888852"></a>
                                    <font class="smallfont"><p>I have the OpenRemote-Controller-Pro1.0.14 and tested with the 1.0.15 Pro Designer and a label for my door sensor - set the messages : door closed and door opened for my switch sensor and is still only shows on and off. Also tested the switch sensor with an image associated and it is not working.</p>

<p>&lt;absolute left="62" top="73" width="75" height="50"&gt;<br/>
        &lt;label id="1400" fontSize="14" color="#FFFFFF" text="Label Text"&gt;<br/>
          &lt;link type="sensor" ref="240738" /&gt;<br/>
        &lt;/label&gt;<br/>
      &lt;/absolute&gt;</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at Sep 18, 2014 14:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888874"></a>
                                    <font class="smallfont"><p>OK, seems your case is slightly different. I'll take another look and see what's going on there.</p>

<p>In the meantime, I believe that you could use a customer sensor instead of a switch one and that should work.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Sep 19, 2014 07:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888878"></a>
                                    <font class="smallfont"><p>Yes I can confirm that the custom sensor it is working. Waiting for the switch sensor to work too (it works in the free designer version so maybe you can take a look there).</p>

<p>Thank you.</p>

<p>P.S. Is there  way to get rid of the error: "Warning - Occurred unknown error, status code is 0 Using cached content." that it shown every time i start the app? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at Sep 19, 2014 10:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22889237"></a>
                                    <font class="smallfont"><p>On further testing I must admit that for me there is also a problem when using the binary sensor. Using a custom sensor instead with mappings on-on and off-off does work fine</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 08, 2014 08:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593057"></a>
                                    <font class="smallfont"><p>Switch sensor issue should now be fixed with the Pro 1.0.16 release that has been deployed.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Oct 13, 2014 12:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593062"></a>
                                    <font class="smallfont"><p>It does work now again with sensor type:<b>switch</b></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 13, 2014 14:02
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:30</font></td>
		    </tr>
	    </table>
    </body>
</html>