<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Switch is not switching to ON</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Switch is not switching to ON
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on May 02, 2013 by <font color="#0050B2">emnagel</font>.
				    </div>

				    <p>I am trying to create a switch based on the response of a cgi request.</p>

<p><span class="error">!switch.command.png!</span></p>

<p>but the switch is not changing.</p>

<p>parts of the controller.xml file</p>

<p>&lt;sensors&gt;<br/>
    &lt;sensor id="2590498" name="CAM3_sensor" type="switch"&gt;<br/>
      &lt;include type="command" ref="111" /&gt;<br/>
      &lt;state name="on" /&gt;<br/>
      &lt;state name="off" /&gt;<br/>
&lt;/sensor&gt;<br/>
..<br/>
&lt;command id="111" protocol="http"&gt;<br/>
      &lt;property name="username" value="@remove user@" /&gt;<br/>
      &lt;property name="regex" value="(?i)(?m)(?x)\balarm_motion_armed.(0|1)" /&gt;<br/>
      &lt;property name="pollingInterval" value="3s" /&gt;<br/>
      &lt;property name="method" value="GET" /&gt;<br/>
      &lt;property name="password" value="@removed pwd@" /&gt;<br/>
      &lt;property name="url" value="http://@ip removed@/get_params.cgi" /&gt;<br/>
      &lt;property name="name" value="CAM3_status" /&gt;<br/>
&lt;/command&gt;</p>


<p>And the code of panel.xml related to the problem.<br/>
&lt;absolute left="257" top="603" width="50" height="50"&gt;<br/>
        &lt;switch id="92"&gt;<br/>
          &lt;link type="sensor" ref="2590498" /&gt;<br/>
        &lt;/switch&gt;<br/>
&lt;/absolute&gt;<br/>
&lt;absolute left="419" top="602" width="148" height="48"&gt;<br/>
        &lt;label id="94" fontSize="14" color="#FFFFFF" text="Alarm Status"&gt;<br/>
          &lt;link type="sensor" ref="2590498"&gt;<br/>
            &lt;state name="off" value="DISARMED" /&gt;<br/>
            &lt;state name="on" value="ARMED" /&gt;<br/>
          &lt;/link&gt;<br/>
        &lt;/label&gt;<br/>
&lt;/absolute&gt;<br/>
&lt;absolute left="343" top="656" width="50" height="50"&gt;<br/>
        &lt;switch id="96"&gt;<br/>
          &lt;link type="sensor" ref="2590498"&gt;<br/>
            &lt;state name="on" value="ok.png" /&gt;<br/>
            &lt;state name="off" value="power.png" /&gt;<br/>
          &lt;/link&gt;<br/>
        &lt;/switch&gt;<br/>
&lt;/absolute&gt;<br/>
&lt;absolute left="20" top="140" width="50" height="50"&gt;<br/>
        &lt;switch id="104"&gt;<br/>
          &lt;link type="sensor" ref="2590498" /&gt;<br/>
        &lt;/switch&gt;<br/>
&lt;/absolute&gt;</p>

<p>&lt;absolute left="100" top="140" width="148" height="48"&gt;<br/>
        &lt;label id="108" fontSize="14" color="#FFFFFF" text="Label Text"&gt;<br/>
          &lt;link type="sensor" ref="2590498"&gt;<br/>
            &lt;state name="off" value="Disarmed" /&gt;<br/>
            &lt;state name="on" value="Armed" /&gt;<br/>
          &lt;/link&gt;<br/>
        &lt;/label&gt;<br/>
      &lt;/absolute&gt;</p>

<p>Any help will be appreciated</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22413521"></a>
                                    <font class="smallfont"><p>Put code or other not displayable chars in {code}...{code} tags.<br/>
You have a switch sensor and a command but I don't see a switch in controller.xml which is using switch sensor, on command and off command.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at May 04, 2013 18:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413528"></a>
                                    <font class="smallfont"><p>I have on/off command, but forget to include the code.</p>

<p>Screenshot of devices
<a href="http://screencast.com/t/6LPf2Pbrzuz">http://screencast.com/t/6LPf2Pbrzuz</a></p>

<p>Screenshot of the panel
<a href="http://screencast.com/t/oIWx3K9B">http://screencast.com/t/oIWx3K9B</a> and <a href="http://screencast.com/t/NB5f6qDBPg">http://screencast.com/t/NB5f6qDBPg</a></p>

<p>Controller.xml</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span>?&gt;
&lt;openremote xmlns=<span class="code-quote">"http:<span class="code-comment">//www.openremote.org"</span> xmlns:xsi=<span class="code-quote">"http://www.w3.org/2001/XMLSchema-instance"</span> xsi:schemaLocation=<span class="code-quote">"http://www.openremote.org http://www.openremote.org/schemas/controller.xsd"</span>&gt;
</span>  &lt;components&gt;
    &lt;<span class="code-keyword">switch</span> id=<span class="code-quote">"96"</span>&gt;
      &lt;on /&gt;
      &lt;off /&gt;
    &lt;/<span class="code-keyword">switch</span>&gt;
    &lt;<span class="code-keyword">switch</span> id=<span class="code-quote">"145"</span>&gt;
      &lt;on&gt;
        &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"164"</span> /&gt;
      &lt;/on&gt;
      &lt;off&gt;
        &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"163"</span> /&gt;
      &lt;/off&gt;
      &lt;include type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590562"</span> /&gt;
    &lt;/<span class="code-keyword">switch</span>&gt;
    &lt;<span class="code-keyword">switch</span> id=<span class="code-quote">"92"</span>&gt;
      &lt;on&gt;
        &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"156"</span> /&gt;
      &lt;/on&gt;
      &lt;off&gt;
        &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"157"</span> /&gt;
      &lt;/off&gt;
      &lt;include type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590498"</span> /&gt;
    &lt;/<span class="code-keyword">switch</span>&gt;
    &lt;<span class="code-keyword">switch</span> id=<span class="code-quote">"104"</span>&gt;
      &lt;on&gt;
        &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"156"</span> /&gt;
      &lt;/on&gt;
      &lt;off&gt;
        &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"157"</span> /&gt;
      &lt;/off&gt;
      &lt;include type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590498"</span> /&gt;
    &lt;/<span class="code-keyword">switch</span>&gt;
    &lt;button id=<span class="code-quote">"129"</span> /&gt;
    &lt;button id=<span class="code-quote">"131"</span> /&gt;
    &lt;button id=<span class="code-quote">"133"</span> /&gt;
    &lt;button id=<span class="code-quote">"73"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"157"</span> /&gt;
    &lt;/button&gt;
    &lt;button id=<span class="code-quote">"51"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"157"</span> /&gt;
    &lt;/button&gt;
    &lt;button id=<span class="code-quote">"119"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"160"</span> /&gt;
    &lt;/button&gt;
    &lt;button id=<span class="code-quote">"153"</span> /&gt;
    &lt;button id=<span class="code-quote">"49"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"156"</span> /&gt;
    &lt;/button&gt;
    &lt;button id=<span class="code-quote">"117"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"159"</span> /&gt;
    &lt;/button&gt;
    &lt;button id=<span class="code-quote">"81"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"156"</span> /&gt;
    &lt;/button&gt;
    &lt;button id=<span class="code-quote">"125"</span> /&gt;
    &lt;button id=<span class="code-quote">"148"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"163"</span> /&gt;
    &lt;/button&gt;
    &lt;button id=<span class="code-quote">"123"</span> /&gt;
    &lt;button id=<span class="code-quote">"149"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"164"</span> /&gt;
    &lt;/button&gt;
    &lt;button id=<span class="code-quote">"121"</span> /&gt;
    &lt;label id=<span class="code-quote">"155"</span>&gt;
      &lt;include type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590564"</span> /&gt;
    &lt;/label&gt;
    &lt;label id=<span class="code-quote">"98"</span> /&gt;
    &lt;label id=<span class="code-quote">"54"</span> /&gt;
    &lt;label id=<span class="code-quote">"143"</span> /&gt;
    &lt;label id=<span class="code-quote">"112"</span> /&gt;
    &lt;label id=<span class="code-quote">"127"</span> /&gt;
    &lt;label id=<span class="code-quote">"24"</span> /&gt;
    &lt;label id=<span class="code-quote">"108"</span>&gt;
      &lt;include type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590498"</span> /&gt;
    &lt;/label&gt;
    &lt;label id=<span class="code-quote">"26"</span> /&gt;
    &lt;label id=<span class="code-quote">"147"</span>&gt;
      &lt;include type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590562"</span> /&gt;
    &lt;/label&gt;
    &lt;label id=<span class="code-quote">"94"</span>&gt;
      &lt;include type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590498"</span> /&gt;
    &lt;/label&gt;
    &lt;label id=<span class="code-quote">"41"</span> /&gt;
  &lt;/components&gt;
  &lt;sensors&gt;
    ...
    &lt;sensor id=<span class="code-quote">"2590498"</span> name=<span class="code-quote">"CAM3_sensor"</span> type=<span class="code-quote">"<span class="code-keyword">switch</span>"</span>&gt;
      &lt;include type=<span class="code-quote">"command"</span> ref=<span class="code-quote">"158"</span> /&gt;
      &lt;state name=<span class="code-quote">"on"</span> /&gt;
      &lt;state name=<span class="code-quote">"off"</span> /&gt;
    &lt;/sensor&gt;
    ...
  &lt;/sensors&gt;
  &lt;commands&gt;
    &lt;command id=<span class="code-quote">"156"</span> protocol=<span class="code-quote">"http"</span>&gt;
      &lt;property name=<span class="code-quote">"username"</span> value="" /&gt;
      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;
      &lt;property name=<span class="code-quote">"password"</span> value="" /&gt;
      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//@IP@/set_alarm.cgi?motion_armed=1"</span> /&gt;
</span>      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"CAM3_arm"</span> /&gt;
    &lt;/command&gt;
    &lt;command id=<span class="code-quote">"157"</span> protocol=<span class="code-quote">"http"</span>&gt;
      &lt;property name=<span class="code-quote">"username"</span> value="" /&gt;
      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;
      &lt;property name=<span class="code-quote">"password"</span> value="" /&gt;
      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//@IP@/set_alarm.cgi?motion_armed=0"</span> /&gt;
</span>      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"CAM3_disarm"</span> /&gt;
    &lt;/command&gt;
    &lt;command id=<span class="code-quote">"158"</span> protocol=<span class="code-quote">"http"</span>&gt;
      &lt;property name=<span class="code-quote">"username"</span> value="" /&gt;
      &lt;property name=<span class="code-quote">"regex"</span> value=<span class="code-quote">"(?i)(?m)(?x)\balarm_motion_armed.(0|1)"</span> /&gt;
      &lt;property name=<span class="code-quote">"pollingInterval"</span> value=<span class="code-quote">"3s"</span> /&gt;
      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"GET"</span> /&gt;
      &lt;property name=<span class="code-quote">"password"</span> value="" /&gt;
      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//@IP@/get_params.cgi"</span> /&gt;
</span>      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"CAM3_status"</span> /&gt;
    &lt;/command&gt;
    ...
  &lt;/commands&gt;
  ...</pre>
</div></div>

<p>and panel.xml</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span>?&gt;
&lt;openremote xmlns=<span class="code-quote">"http:<span class="code-comment">//www.openremote.org"</span> xmlns:xsi=<span class="code-quote">"http://www.w3.org/2001/XMLSchema-instance"</span> xsi:schemaLocation=<span class="code-quote">"http://www.openremote.org http://www.openremote.org/schemas/panel.xsd"</span>&gt;
</span>  &lt;panels&gt;
    &lt;panel id=<span class="code-quote">"1"</span> name=<span class="code-quote">"iPad"</span>&gt;
      &lt;include type=<span class="code-quote">"group"</span> ref=<span class="code-quote">"2"</span> /&gt;
      &lt;include type=<span class="code-quote">"group"</span> ref=<span class="code-quote">"27"</span> /&gt;
    &lt;/panel&gt;
    &lt;panel id=<span class="code-quote">"15"</span> name=<span class="code-quote">"Samsung SIII"</span>&gt;
      &lt;include type=<span class="code-quote">"group"</span> ref=<span class="code-quote">"16"</span> /&gt;
      &lt;include type=<span class="code-quote">"group"</span> ref=<span class="code-quote">"113"</span> /&gt;
    &lt;/panel&gt;
  &lt;/panels&gt;
  &lt;screens&gt;
    &lt;screen id=<span class="code-quote">"5"</span> name=<span class="code-quote">"Room - Home"</span> landscape=<span class="code-quote">"<span class="code-keyword">true</span>"</span>&gt;
      &lt;absolute left=<span class="code-quote">"497"</span> top=<span class="code-quote">"54"</span> width=<span class="code-quote">"150"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;label id=<span class="code-quote">"41"</span> fontSize=<span class="code-quote">"14"</span> color=<span class="code-quote">"#FFFFFF"</span> text=<span class="code-quote">"Rooms"</span> /&gt;
      &lt;/absolute&gt;
    &lt;/screen&gt;
    &lt;screen id=<span class="code-quote">"52"</span> name=<span class="code-quote">"Disarm - CAM3"</span> landscape=<span class="code-quote">"<span class="code-keyword">true</span>"</span>&gt;
      &lt;absolute left=<span class="code-quote">"527"</span> top=<span class="code-quote">"56"</span> width=<span class="code-quote">"150"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;label id=<span class="code-quote">"54"</span> fontSize=<span class="code-quote">"16"</span> color=<span class="code-quote">"#FFFFFF"</span> text=<span class="code-quote">"Functions"</span> /&gt;
      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"20"</span> top=<span class="code-quote">"20"</span> width=<span class="code-quote">"640"</span> height=<span class="code-quote">"480"</span>&gt;
        &lt;web id=<span class="code-quote">"66"</span> src=<span class="code-quote">"http:<span class="code-comment">//@IP@/videostream.cgi"</span> username=<span class="code-quote">"@username@"</span> password=<span class="code-quote">"@pwd@"</span> /&gt;
</span>      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"20"</span> top=<span class="code-quote">"600"</span> width=<span class="code-quote">"150"</span> height=<span class="code-quote">"55"</span>&gt;
        &lt;button id=<span class="code-quote">"73"</span> name=<span class="code-quote">"Disarm"</span> hasControlCommand=<span class="code-quote">"<span class="code-keyword">true</span>"</span>&gt;
          &lt;navigate toGroup=<span class="code-quote">"27"</span> toScreen=<span class="code-quote">"71"</span> /&gt;
        &lt;/button&gt;
      &lt;/absolute&gt;
    &lt;/screen&gt;
    &lt;screen id=<span class="code-quote">"71"</span> name=<span class="code-quote">"Arm - CAM3"</span> landscape=<span class="code-quote">"<span class="code-keyword">true</span>"</span>&gt;
      &lt;absolute left=<span class="code-quote">"20"</span> top=<span class="code-quote">"20"</span> width=<span class="code-quote">"640"</span> height=<span class="code-quote">"480"</span>&gt;
        &lt;web id=<span class="code-quote">"79"</span> src=<span class="code-quote">"http:<span class="code-comment">//@IP@/videostream.cgi"</span> username=<span class="code-quote">"@username@"</span> password=<span class="code-quote">"@pwd@"</span> /&gt;
</span>      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"21"</span> top=<span class="code-quote">"600"</span> width=<span class="code-quote">"150"</span> height=<span class="code-quote">"55"</span>&gt;
        &lt;button id=<span class="code-quote">"81"</span> name=<span class="code-quote">"Arm"</span> hasControlCommand=<span class="code-quote">"<span class="code-keyword">true</span>"</span>&gt;
          &lt;navigate toGroup=<span class="code-quote">"27"</span> toScreen=<span class="code-quote">"52"</span> /&gt;
        &lt;/button&gt;
      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"257"</span> top=<span class="code-quote">"603"</span> width=<span class="code-quote">"50"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;<span class="code-keyword">switch</span> id=<span class="code-quote">"92"</span>&gt;
          &lt;link type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590498"</span> /&gt;
        &lt;/<span class="code-keyword">switch</span>&gt;
      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"255"</span> top=<span class="code-quote">"660"</span> width=<span class="code-quote">"50"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;<span class="code-keyword">switch</span> id=<span class="code-quote">"96"</span> /&gt;
      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"350"</span> top=<span class="code-quote">"604"</span> width=<span class="code-quote">"148"</span> height=<span class="code-quote">"48"</span>&gt;
        &lt;label id=<span class="code-quote">"94"</span> fontSize=<span class="code-quote">"14"</span> color=<span class="code-quote">"#FFFFFF"</span> text=<span class="code-quote">"Alarm Status"</span>&gt;
          &lt;link type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590498"</span>&gt;
            &lt;state name=<span class="code-quote">"off"</span> value=<span class="code-quote">"0"</span> /&gt;
            &lt;state name=<span class="code-quote">"on"</span> value=<span class="code-quote">"1"</span> /&gt;
          &lt;/link&gt;
        &lt;/label&gt;
      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"350"</span> top=<span class="code-quote">"655"</span> width=<span class="code-quote">"150"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;label id=<span class="code-quote">"98"</span> fontSize=<span class="code-quote">"14"</span> color=<span class="code-quote">"#FFFFFF"</span> text=<span class="code-quote">"Label Text"</span> /&gt;
      &lt;/absolute&gt;
    &lt;/screen&gt;
    &lt;screen id=<span class="code-quote">"21"</span> name=<span class="code-quote">"Functions - CAM3"</span>&gt;
      &lt;grid left=<span class="code-quote">"20"</span> top=<span class="code-quote">"220"</span> width=<span class="code-quote">"280"</span> height=<span class="code-quote">"200"</span> rows=<span class="code-quote">"2"</span> cols=<span class="code-quote">"1"</span>&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"1"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"51"</span> name=<span class="code-quote">"CAM3 - disarm"</span> hasControlCommand=<span class="code-quote">"<span class="code-keyword">true</span>"</span> /&gt;
        &lt;/cell&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"0"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"49"</span> name=<span class="code-quote">"CAM3 - arm"</span> hasControlCommand=<span class="code-quote">"<span class="code-keyword">true</span>"</span> /&gt;
        &lt;/cell&gt;
      &lt;/grid&gt;
      &lt;absolute left=<span class="code-quote">"80"</span> top=<span class="code-quote">"21"</span> width=<span class="code-quote">"150"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;label id=<span class="code-quote">"24"</span> fontSize=<span class="code-quote">"16"</span> color=<span class="code-quote">"#FFFFFF"</span> text=<span class="code-quote">"Functions - CAM3"</span> /&gt;
      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"20"</span> top=<span class="code-quote">"140"</span> width=<span class="code-quote">"50"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;<span class="code-keyword">switch</span> id=<span class="code-quote">"104"</span>&gt;
          &lt;link type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590498"</span> /&gt;
        &lt;/<span class="code-keyword">switch</span>&gt;
      &lt;/absolute&gt;
      &lt;absolute left=<span class="code-quote">"100"</span> top=<span class="code-quote">"140"</span> width=<span class="code-quote">"148"</span> height=<span class="code-quote">"48"</span>&gt;
        &lt;label id=<span class="code-quote">"108"</span> fontSize=<span class="code-quote">"14"</span> color=<span class="code-quote">"#FFFFFF"</span> text=<span class="code-quote">"Label Text"</span>&gt;
          &lt;link type=<span class="code-quote">"sensor"</span> ref=<span class="code-quote">"2590498"</span>&gt;
            &lt;state name=<span class="code-quote">"off"</span> value=<span class="code-quote">"Disarmed"</span> /&gt;
            &lt;state name=<span class="code-quote">"on"</span> value=<span class="code-quote">"Armed"</span> /&gt;
          &lt;/link&gt;
        &lt;/label&gt;
      &lt;/absolute&gt;
    &lt;/screen&gt;
    ...
    &lt;screen id=<span class="code-quote">"114"</span> name=<span class="code-quote">"Functions - Home"</span>&gt;
      &lt;grid left=<span class="code-quote">"60"</span> top=<span class="code-quote">"174"</span> width=<span class="code-quote">"200"</span> height=<span class="code-quote">"200"</span> rows=<span class="code-quote">"4"</span> cols=<span class="code-quote">"1"</span>&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"0"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"129"</span> name=<span class="code-quote">"CAM3"</span>&gt;
            &lt;navigate toGroup=<span class="code-quote">"16"</span> toScreen=<span class="code-quote">"21"</span> /&gt;
          &lt;/button&gt;
        &lt;/cell&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"3"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"131"</span> name=<span class="code-quote">"Wake-On-Lan"</span>&gt;
            &lt;navigate toGroup=<span class="code-quote">"16"</span> toScreen=<span class="code-quote">"109"</span> /&gt;
          &lt;/button&gt;
        &lt;/cell&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"1"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"153"</span> name=<span class="code-quote">"CAM4"</span>&gt;
            &lt;navigate toGroup=<span class="code-quote">"16"</span> toScreen=<span class="code-quote">"142"</span> /&gt;
          &lt;/button&gt;
        &lt;/cell&gt;
      &lt;/grid&gt;
      &lt;absolute left=<span class="code-quote">"80"</span> top=<span class="code-quote">"20"</span> width=<span class="code-quote">"150"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;label id=<span class="code-quote">"127"</span> fontSize=<span class="code-quote">"16"</span> color=<span class="code-quote">"#FFFFFF"</span> text=<span class="code-quote">"Functions"</span> /&gt;
      &lt;/absolute&gt;
    &lt;/screen&gt;
    ...
    &lt;screen id=<span class="code-quote">"17"</span> name=<span class="code-quote">"Rooms - Home"</span>&gt;
      &lt;grid left=<span class="code-quote">"50"</span> top=<span class="code-quote">"100"</span> width=<span class="code-quote">"200"</span> height=<span class="code-quote">"200"</span> rows=<span class="code-quote">"4"</span> cols=<span class="code-quote">"1"</span>&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"0"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"121"</span> name=<span class="code-quote">"Woonkamer"</span> /&gt;
        &lt;/cell&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"1"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"123"</span> name=<span class="code-quote">"Speelkamer"</span> /&gt;
        &lt;/cell&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"2"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"125"</span> name=<span class="code-quote">"Werkkamer - Erik"</span> /&gt;
        &lt;/cell&gt;
        &lt;cell x=<span class="code-quote">"0"</span> y=<span class="code-quote">"3"</span> rowspan=<span class="code-quote">"1"</span> colspan=<span class="code-quote">"1"</span>&gt;
          &lt;button id=<span class="code-quote">"133"</span> name=<span class="code-quote">"Button"</span> /&gt;
        &lt;/cell&gt;
      &lt;/grid&gt;
      &lt;absolute left=<span class="code-quote">"80"</span> top=<span class="code-quote">"20"</span> width=<span class="code-quote">"150"</span> height=<span class="code-quote">"50"</span>&gt;
        &lt;label id=<span class="code-quote">"26"</span> fontSize=<span class="code-quote">"16"</span> color=<span class="code-quote">"#FFFFFF"</span> text=<span class="code-quote">"Rooms"</span> /&gt;
      &lt;/absolute&gt;
    &lt;/screen&gt;
  &lt;/screens&gt;
  &lt;groups&gt;
    &lt;group id=<span class="code-quote">"2"</span> name=<span class="code-quote">"Room Group"</span>&gt;
      &lt;tabbar&gt;
        &lt;item name=<span class="code-quote">"Functions"</span>&gt;
          &lt;navigate toGroup=<span class="code-quote">"27"</span> toScreen=<span class="code-quote">"52"</span> /&gt;
        &lt;/item&gt;
      &lt;/tabbar&gt;
      &lt;include type=<span class="code-quote">"screen"</span> ref=<span class="code-quote">"5"</span> /&gt;
    &lt;/group&gt;
    &lt;group id=<span class="code-quote">"27"</span> name=<span class="code-quote">"Function Group"</span>&gt;
      &lt;tabbar&gt;
        &lt;item name=<span class="code-quote">"Rooms"</span>&gt;
          &lt;navigate toGroup=<span class="code-quote">"2"</span> toScreen=<span class="code-quote">"5"</span> /&gt;
          &lt;image src=<span class="code-quote">"right.png"</span> /&gt;
        &lt;/item&gt;
      &lt;/tabbar&gt;
      &lt;include type=<span class="code-quote">"screen"</span> ref=<span class="code-quote">"52"</span> /&gt;
      &lt;include type=<span class="code-quote">"screen"</span> ref=<span class="code-quote">"71"</span> /&gt;
    &lt;/group&gt;
    &lt;group id=<span class="code-quote">"16"</span> name=<span class="code-quote">"Functions Group"</span>&gt;
      &lt;tabbar&gt;
        &lt;item name=<span class="code-quote">"Functions"</span>&gt;
          &lt;navigate toGroup=<span class="code-quote">"16"</span> toScreen=<span class="code-quote">"114"</span> /&gt;
        &lt;/item&gt;
        &lt;item name=<span class="code-quote">"Rooms"</span>&gt;
          &lt;navigate toGroup=<span class="code-quote">"113"</span> toScreen=<span class="code-quote">"17"</span> /&gt;
        &lt;/item&gt;
      &lt;/tabbar&gt;
      &lt;include type=<span class="code-quote">"screen"</span> ref=<span class="code-quote">"21"</span> /&gt;
      &lt;include type=<span class="code-quote">"screen"</span> ref=<span class="code-quote">"109"</span> /&gt;
      &lt;include type=<span class="code-quote">"screen"</span> ref=<span class="code-quote">"114"</span> /&gt;
      &lt;include type=<span class="code-quote">"screen"</span> ref=<span class="code-quote">"142"</span> /&gt;
    &lt;/group&gt;
    &lt;group id=<span class="code-quote">"113"</span> name=<span class="code-quote">"Rooms Group"</span>&gt;
      &lt;tabbar&gt;
        &lt;item name=<span class="code-quote">"Functions"</span>&gt;
          &lt;navigate toGroup=<span class="code-quote">"16"</span> toScreen=<span class="code-quote">"114"</span> /&gt;
        &lt;/item&gt;
        &lt;item name=<span class="code-quote">"Rooms"</span>&gt;
          &lt;navigate toGroup=<span class="code-quote">"113"</span> toScreen=<span class="code-quote">"17"</span> /&gt;
        &lt;/item&gt;
      &lt;/tabbar&gt;
      &lt;include type=<span class="code-quote">"screen"</span> ref=<span class="code-quote">"17"</span> /&gt;
    &lt;/group&gt;
  &lt;/groups&gt;
&lt;/openremote&gt;
</pre>
</div></div> 

<p>output (<a href="http://@IP@/get_params.cgi):">http://@IP@/get_params.cgi):</a></p>

<p>...<br/>
var ftp_schedule_fri_0=0;<br/>
var ftp_schedule_fri_1=0;<br/>
var ftp_schedule_fri_2=0;<br/>
var ftp_schedule_sat_0=0;<br/>
var ftp_schedule_sat_1=0;<br/>
var ftp_schedule_sat_2=0;<br/>
var alarm_motion_armed=0;<br/>
var alarm_motion_sensitivity=2;<br/>
var alarm_motion_compensation=0;<br/>
var alarm_input_armed=1;<br/>
var alarm_ioin_level=1;<br/>
var alarm_sounddetect_armed=0;<br/>
var alarm_sounddetect_sensitivity=5;<br/>
var alarm_iolinkage=0;<br/>
var alarm_preset=0;<br/>
...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emnagel at May 04, 2013 20:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413532"></a>
                                    <font class="smallfont"><p>If you just assign your "armed" "disarmed" command to buttons, do they work?<br/>
If that is the case, the sensor must have an issue. Does your regex return either on or off?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at May 04, 2013 20:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413533"></a>
                                    <font class="smallfont"><p>I have assigned armed and disarmed to separate buttons and that works as a rock only I do not see what the status is.</p>

<p>I used <a href="http://rubular.com/">http://rubular.com/</a></p>

<p>and it returns 0 or 1</p>

<p><a href="http://screencast.com/t/4EBqTuTCXa">http://screencast.com/t/4EBqTuTCXa</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emnagel at May 04, 2013 20:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413534"></a>
                                    <font class="smallfont"><p>I have assigned armed and disarmed to separate buttons and that works as a rock only I do not see what the status is.</p>

<p>I used <a href="http://rubular.com/">http://rubular.com/</a></p>

<p>and it returns 0 or 1</p>

<p><a href="http://screencast.com/t/4EBqTuTCXa">http://screencast.com/t/4EBqTuTCXa</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emnagel at May 04, 2013 20:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413537"></a>
                                    <font class="smallfont"><p>Since a switch sensor must receive "on" or "off" it does not work.<br/>
You can use a custom sensor and map 0=off and 1=on. Use the custom sensor with your switch.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at May 04, 2013 23:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413538"></a>
                                    <font class="smallfont"><p>Did that before as well. The result is the button will stay on OFF, but the status (via a label) will change to ON. Once I use the disarm button it will go back to 0 again. It looks like the switch button is not switching.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emnagel at May 05, 2013 00:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413623"></a>
                                    <font class="smallfont"><p>If the label which is showing the sensor is changing from "on" to "off" and around when you use 2 seperate buttons, I don't know why the switch does not work.<br/>
Maybe you can find anything in the log files.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at May 05, 2013 19:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413628"></a>
                                    <font class="smallfont"><p>Just to be sure: Did you do the correct mapping in custom switch? i.e.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
Name     Value
off      0
on       1
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at May 05, 2013 21:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413633"></a>
                                    <font class="smallfont"><p>I have OFF 0 and ON 1 see screenshot <a href="http://screencast.com/t/Aj3nChf3UVrS">http://screencast.com/t/Aj3nChf3UVrS</a>. Is the sensor case sensitive?</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emnagel at May 05, 2013 23:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413637"></a>
                                    <font class="smallfont"><p>The Howto specifies it in lower case, so that is what I use (and recommend)<br/>
update: Also make sure that the string does not contain quotes. I remember having seen a response somewhere saying that quotes did not matter. <br/>
My experience with the http protocol was that it did matter. I fixed it there with RegEx on|off<br/>
Pieter</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at May 06, 2013 07:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413699"></a>
                                    <font class="smallfont"><p>Which version of the controller are you using?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at May 07, 2013 09:22
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413700"></a>
                                    <font class="smallfont"><p>I am running on Synology package 2.0.1-0008</p>

<p><a href="http://screencast.com/t/DnMkbJEtg">http://screencast.com/t/DnMkbJEtg</a></p>

<p>For now, but I like to go to prof only not sure how to go there from my synology package.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emnagel at May 07, 2013 09:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413701"></a>
                                    <font class="smallfont"><p>Would you be able to access the log files?<br/>
They should be located on your Synology here: /volume1/@appstore/OpenRemote/logs</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at May 07, 2013 10:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413722"></a>
                                    <font class="smallfont"><p>Yes I can and have the following logs files</p>

<p><a href="http://screencast.com/t/L9K6NmcU">http://screencast.com/t/L9K6NmcU</a></p>

<p>Which one to share and how? Mail, dropbox else?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emnagel at May 07, 2013 14:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413723"></a>
                                    <font class="smallfont"><p>Just look into the catalina.out and see if there are any errors related to your switch sensor.<br/>
You can post related snippets (not complete file, just line whcih shows exception) to the forums.<br/>
Include between {code}...{code} tags.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at May 07, 2013 14:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22413730"></a>
                                    <font class="smallfont"><p>Oke will do. Can I remove the log file safe first so the file will be smaller after all once I execute the switch steps?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by emnagel at May 07, 2013 19:03
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 11:03</font></td>
		    </tr>
	    </table>
    </body>
</html>