<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Sensor values ​​are always N A</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Sensor values ​​are always N A
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 19, 2012 by <font color="#0050B2">papasumy</font>.
				    </div>

				    <p>I'm new to this issue and was first exposed to OpenRemote.<br/>
Please help me deal with the display of sensor values​​.<br/>
I have a controller CAI WebControl PLC. He works on the HTTP protocol. Channel management works, and receive information from the sensors is not working. Always displays N/A. I tried different options, but in all cases, N/A. In what could be the problem?<br/>
I know English is bad, so sorry, can not properly write something. Translated from Russian Google.<br/>
Tell me what to do?<br/>
Openremote.zip file available <a href="http://papasumy.ucoz.ru/openremote.zip">here</a></p>

<p>Thank you.</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/20450731/20742204.jpg">comand1.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/20450731/20742205.jpg">sensor.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/20450731/20742206.jpg">label.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/20450731/20742207.jpg">monit.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/20450731/20742208.jpg">temp.jpg</a> (image/jpeg)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-20450741"></a>
                                    <font class="smallfont"><p>The HTTP protocol normally returns string values. You need to use custom sensor to receive values.<br/>
Please try a custom sensor and just have the sensor result displayed in the UI with a label.<br/>
Once that works you can try and map the result to on/off using the values in the custom sensor.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 20, 2012 08:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450758"></a>
                                    <font class="smallfont"><p>Thanks for the tips, but I have nothing.<br/>
something I did not do that.<br/>
<img src="attachments/20450731/20742204.jpg" align="absmiddle" border="0"/></p>

<p><img src="attachments/20450731/20742205.jpg" align="absmiddle" border="0"/></p>

<p><img src="attachments/20450731/20742206.jpg" align="absmiddle" border="0"/></p>

<p><img src="attachments/20450731/20742207.jpg" align="absmiddle" border="0"/></p>

<p><img src="attachments/20450731/20742208.jpg" align="absmiddle" border="0"/></p>

<p>What's wrong?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by papasumy at Sep 20, 2012 22:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450764"></a>
                                    <font class="smallfont"><p>Hi guys, </p>

<p>In fact, I have the same problem that the http get is not working. I set up the http temperature get example long time ago, it used to work fine until I changed to the latest 2.0.1 controller version. Now, http does not work any more. <br/>
Any hints on that?</p>

<p>Thanks, </p>

<p>Alex</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aschwith at Sep 21, 2012 08:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450956"></a>
                                    <font class="smallfont"><p>Вижу никто ничем помочь не может. Ну и на том спасибо...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by papasumy at Sep 25, 2012 19:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450958"></a>
                                    <font class="smallfont"><p>If your get request directly returns the temp, you don't need the XPath expression. That was an example to parese the google weather xml.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 25, 2012 20:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450959"></a>
                                    <font class="smallfont"><p>Do you mean the Google Weather example?<br/>
Google recently changed something there and this does not work for me anymore either.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 25, 2012 20:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450961"></a>
                                    <font class="smallfont"><p>I had a similar problem today where I could not retrieve an attribute value with the HTTP GET. Maybe my knowledge of XPATH has become a bit rusty. </p>

<p>I was just playing with these commands to understand how they work.<br/>
My original XML blurp was something that looks like:<br/>
&lt;response&gt;<br/>
 &lt;power&gt;1432&lt;/power&gt;<br/>
&lt;/response&gt;<br/>
Where I did get the value using XPATH = //response/power. If I rewrite the XML blurp to:<br/>
&lt;response power="1432"&gt;a&lt;/response&gt;<br/>
I did not get a result using XPATH = //@power<br/>
This was done with controller 2.0.1. I haven't yet tested this with an older version of controller. I can try tomorrow on an other machine</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Sep 25, 2012 21:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20451330"></a>
                                    <font class="smallfont"><p>Thanks Marcus, you are completely right. I did not even notice that google shut down its weather api service. I finally found a working alternative: </p>

<p>Under <a href="http://www.worldweatheronline.com/weather-api.aspx">http://www.worldweatheronline.com/weather-api.aspx</a> people offer a free weather interface that supports xml,csv and JSON responses. You only have to register first by email (it is for free). Once the registration has been completed, you get a key that has to be inserted in the url http request as shown below. <br/>
For example, 
<a href="http://free.worldweatheronline.com/feed/weather.ashx?key=XXXXX&amp;q=Hamburg&amp;num_of_days=5&amp;format=xml">http://free.worldweatheronline.com/feed/weather.ashx?key=XXXXX&amp;q=Hamburg&amp;num_of_days=5&amp;format=xml</a><br/>
returns the weather information for hamburg, including a five day forecast in the xml format. Please substitute the XXXX with your own key. </p>

<p>Cheers, <br/>
Alex </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aschwith at Oct 03, 2012 18:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20451420"></a>
                                    <font class="smallfont"><p>I just tested with the older release 2.0.0 on a one line XML file:<br/>
&lt;response gauge_power="1433" gauge_temp="40.1" energy_today="2.672"/&gt;<br/>
XPATH expression used was:<br/>
//response/@gauge_temp<br/>
This returns the proper value, so it seems there is something wrong in the newer 2.0.1 release.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 06, 2012 15:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22415006"></a>
                                    <font class="smallfont"><p>Here is the page that describes <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Use+XML+Data+Sources">how to deal with XPath</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at May 26, 2013 12:27
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:45</font></td>
		    </tr>
	    </table>
    </body>
</html>