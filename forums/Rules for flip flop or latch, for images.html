<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Rules for flip flop or latch, for images</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Rules for flip flop or latch, for images
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 07, 2014 by <font color="#0050B2">amir</font>.
				    </div>

				    <p>Hi, <br/>
I have been using OR for a while to control shutters, so far it works well.<br/>
I'd now like to have some images which change to match the shutter position.<br/>
I have no feedback as to the position and only operate the up or down commands for 20s.<br/>
Would it be possible with rules to have some sort of a flip flop or latch which changes state with the activation of either the up or down commands?<br/>
Very much a Java beginner but would like to know if it is possible and maybe get some pointers.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22887883"></a>
                                    <font class="smallfont"><p>If I do understand correctly, you have a UI with something like 2 buttons, one for up, one for down, with a single command for each button.</p>

<p>If that is the case, then you can manage images even without the need for rules.</p>

<p>Use an In Memory Virtual Commands to maintain the state (simply have a boolean like opened).<br/>
You can create commands for ON, OFF and STATUS.<br/>
Have a switch Sensor linked to that STATUS command.<br/>
You'll use that sensor, linked to an Image widget to known which image to display.</p>

<p>Then create 2 macros, one for open and one for close. The macro send the command to your shutter controller and also set the boolean flag appropriately.<br/>
Then use those macros on the buttons instead of the original command.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Aug 07, 2014 12:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887886"></a>
                                    <font class="smallfont"><p>Thanks Eric, very useful.<br/>
I have a couple of spare outputs i plan to use for lighting. I was going to use a switch and have the image change to reflect the state of the switch, again i have no feedback. I thought of running a macro from the switch but this does not seem possible. Are there any options for this?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amir at Aug 08, 2014 04:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887887"></a>
                                    <font class="smallfont"><p>For the switch, you'll need to use rules.<br/>
Have the switch only toggle the In Memory Virtual Command and control the real device from the rules.</p>

<p>The details have been explained multiple times on the forums already, e.g. for control of IR devices.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Aug 08, 2014 07:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887889"></a>
                                    <font class="smallfont"><p>Thanks Again</p>

<p><a href="http://www.openremote.org/display/forums/Light+switches+in+Cleaning+Mode?focusedCommentId=21859932#comment-21859932">http://www.openremote.org/display/forums/Light+switches+in+Cleaning+Mode?focusedCommentId=21859932#comment-21859932</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amir at Aug 08, 2014 08:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888089"></a>
                                    <font class="smallfont"><p>i've got this all up and running on my laptop, added a few rules and images are switching as they should. i'm having a problem when i try do the same thing running on Synology, the commands work but the images do not change,<br/>
 Anyone else seen this? or have any ideas</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by amir at Aug 18, 2014 10:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888145"></a>
                                    <font class="smallfont"><p>Hi Amir.</p>

<p>I tried to do something similar with my shades but the issue is mine are more complex. A short command changes the slat (angle) of the shades while a long one moves the shades the proper direction. Another press simply stops them. This is what the Schneider H/W does. Way back I tried doing that but my work stopped. Few weeks back I returned to the issue.<br/>
I have some basic set of rules but I had no time to check them.<br/>
The issue was the decision between a short and a long press. The solution seems to be the use of duration XXX where XXXX is time in mSec.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Aug 21, 2014 14:07
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:38</font></td>
		    </tr>
	    </table>
    </body>
</html>