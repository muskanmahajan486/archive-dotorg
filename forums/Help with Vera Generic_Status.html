<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Help with Vera Generic_Status</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Help with Vera Generic_Status
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 04, 2014 by <font color="#0050B2">skogen75</font>.
				    </div>

				    <p>Gentlemen, </p>

<p>I have been working on retrieving the state value from my VeraLite xml file to populate some sensors in OR.  The device I am working with is a Squeezebox using a plug-in for the VeraLite.  I am able to get some sensors to retrieve the value from the xml file, but others are not working and return "N/A".  See the excerpt of the xml file below...</p>

<p><img src="attachments/22883936/23036444.png" align="absmiddle" border="0"/></p>

<p>I am able to get the status updated for the variable "Status", but not for variable "CurrentTitle", "CurrentArtist", "Volume".</p>

<p>I did make the status attribute entry in OR all lowercase -&gt; "Status" became "status", "CurrentTitle" became "currenttitle" for instance. </p>

<p>I do not see any errors in the boot log, but I do see the following warning in one of the logs...</p>

<p><img src="attachments/22883936/23036445.png" align="absmiddle" border="0"/></p>

<p>I wonder if it has to do with the different "service" lines:</p>

<p>service="urn:upnp-org:serviceId:SwitchPower1"  Getting value from this works<br/>
service="urn:upnp-org:serviceId:AVTransport"   Does not work</p>

<p>Any thoughts or help would be appreciated</p>

<p>I am using...<br/>
preview designer<br/>
snapshot 6-17-2013 on Win7<br/>
iOS UI</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22883936/23036444.png">photo.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22883936/23036445.png">photo1.PNG</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22884279"></a>
                                    <font class="smallfont"><p>Anyone have any ideas on what to try to get this working?</p>

<p>I have tried to retrieve data from several other devices (dimmers) and the only thing I can get is the "status" variable.  I have sliders and switches working with these dimmers (using other commands), but I cannot return any values except "status" using GENERIC_STATUS command.  </p>

<p>Thanks for any help. </p>

<p>Erik</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by skogen75 at Feb 12, 2014 18:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884445"></a>
                                    <font class="smallfont"><p>Still unable to return the value of any variable besides "status".  Can anyone shed some light on how to accomplish this?  Is there a more recent version of the controller?  </p>

<p>Has anyone been able to return the value of a variable from the vera xml file?</p>

<p>Thanks.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by skogen75 at Feb 18, 2014 03:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884516"></a>
                                    <font class="smallfont"><p>Hi Erik,</p>

<p>I don't know Vera so can't directly help but I do recall there been a discussion around the generic status command on the comments section of the OR Vera how to page:  <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Micasaverde+Vera" title="OpenRemote 2.0 How To - Micasaverde Vera">OpenRemote 2.0 How To &#45; Micasaverde Vera</a></p>

<p>Did you already check through that discussion, and was there anything helpful there?</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 19, 2014 08:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884535"></a>
                                    <font class="smallfont"><p>Hi Juha, </p>

<p>Thanks for your reply.  Yes, I have read the discussion a few times and it seems several folks have had some problems getting the GENERIC_STATUS command to return the desired value from the Vera XML file.  At least two users from the discussion have it working to some extent.  </p>

<p>It's strange that I can get some variables to return data but not others.  </p>

<p>I'll continue to work this issue and report back, but may need some help in figuring out where to look specifically.  </p>

<p>First, I may check that my Vera XML is indeed an a valid format.<br/>
Next, I will check that I can parse data from the file.<br/>
After that, I may try to implement a HTTP command to retrieve data using OR.  <br/>
If that checks out, it must be something in the Vera protocol?</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by skogen75 at Feb 19, 2014 17:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884549"></a>
                                    <font class="smallfont"><p>Hello again. </p>

<p>I have explored my Vera XML file and it is valid XML.  I have also tested an XPATH expression to retrieve various values without trouble.  I include the entire XML file below.</p>

<div style="width:800px;"><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;?xml version=<span class="code-quote">"1.0"</span>?&gt;
&lt;root LoadTime=<span class="code-quote">"1392692974"</span> DataVersion=<span class="code-quote">"692975216"</span> UserData_DataVersion=<span class="code-quote">"692974016"</span> TimeStamp=<span class="code-quote">"1392867547"</span> ZWaveStatus=<span class="code-quote">"1"</span> LocalTime=<span class="code-quote">"2014-02-19 20:39:07 N"</span>&gt;
&lt;startup&gt;
&lt;tasks&gt;&lt;/tasks&gt;
&lt;/startup&gt;
&lt;devices&gt;
&lt;device id=<span class="code-quote">"1"</span> status=<span class="code-quote">"-1"</span>&gt;
&lt;states&gt;
&lt;state id=<span class="code-quote">"107"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"Use45"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"108"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"UseMR"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"109"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"LimitNeighbors"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"110"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"LastUpdate"</span> value=<span class="code-quote">"1392692975"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"111"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"NetStatusID"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"112"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"NetStatusText"</span> value=<span class="code-quote">"OK"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"113"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"LockComPort"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"114"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"ComPort"</span> value=<span class="code-quote">"/dev/ttyS0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"115"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"PollingEnabled"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"116"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"PollDelayInitial"</span> value=<span class="code-quote">"20"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"117"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"PollDelayDeadTime"</span> value=<span class="code-quote">"10"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"118"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"PollMinDelay"</span> value=<span class="code-quote">"30"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"119"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"PollFrequency"</span> value=<span class="code-quote">"60"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"120"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"VersionInfo"</span> value=<span class="code-quote">"3.20 L:1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"121"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"HomeID"</span> value=<span class="code-quote">"House: 17aba3f Node 1 Suc 0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"122"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"Role"</span> value=<span class="code-quote">"Master SIS:NO PRI:YES"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"123"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"LastDongleBackup"</span> value=<span class="code-quote">"1391218868"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"124"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveNetwork1"</span> variable=<span class="code-quote">"LastError"</span> value=<span class="code-quote">"Node 3 failed"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"125"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"AutoConfigure"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"126"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"LastTimeOffset"</span> value=<span class="code-quote">"-7"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"127"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"Configured"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;/states&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/device&gt;
&lt;device id=<span class="code-quote">"2"</span> status=<span class="code-quote">"-1"</span>&gt;
&lt;states&gt;
&lt;state id=<span class="code-quote">"233"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:SceneController1"</span> variable=<span class="code-quote">"Scenes"</span> value=""&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"234"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"IgnoreRoom"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"235"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"Configured"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;/states&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/device&gt;
&lt;device id=<span class="code-quote">"3"</span> status=<span class="code-quote">"-1"</span>&gt;
&lt;states&gt;
&lt;state id=<span class="code-quote">"141"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:SwitchPower1"</span> variable=<span class="code-quote">"Status"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"142"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:Dimming1"</span> variable=<span class="code-quote">"LoadLevelStatus"</span> value=<span class="code-quote">"10"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"143"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:Dimming1"</span> variable=<span class="code-quote">"LoadLevelTarget"</span> value=<span class="code-quote">"10"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"144"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"Configured"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"145"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"LastUpdate"</span> value=<span class="code-quote">"1385329598"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"146"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"FirstConfigured"</span> value=<span class="code-quote">"1385329598"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"147"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"Capabilities"</span> value=<span class="code-quote">"211,156,0,4,17,1,L,R,B,RS,|38:1,39,112,114,134,"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"148"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"ManufacturerInfo"</span> value=<span class="code-quote">"99,17495,12848"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"149"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"VersionInfo"</span> value=<span class="code-quote">"6,3,40,3,29"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"150"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"NodeInfo"</span> value=<span class="code-quote">"26,27,70,72,86,"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"151"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"PollSettings"</span> value=<span class="code-quote">"60"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"152"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"Neighbors"</span> value=<span class="code-quote">"1,3,"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"153"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"LastReset"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"154"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"AssociationNum"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"155"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"PollOk"</span> value=<span class="code-quote">"83870"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"156"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"LastRouteUpdate"</span> value=<span class="code-quote">"1392850555"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"157"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"PollNoReply"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;/states&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/device&gt;
&lt;device id=<span class="code-quote">"4"</span> status=<span class="code-quote">"-1"</span>&gt;
&lt;states&gt;
&lt;state id=<span class="code-quote">"127"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:SwitchPower1"</span> variable=<span class="code-quote">"Status"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"128"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:Dimming1"</span> variable=<span class="code-quote">"LoadLevelTarget"</span> value=<span class="code-quote">"30"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"129"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:Dimming1"</span> variable=<span class="code-quote">"LoadLevelStatus"</span> value=<span class="code-quote">"30"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"130"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"Configured"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"131"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"CommFailure"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"132"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"LastUpdate"</span> value=<span class="code-quote">"1389504231"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"133"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"FirstConfigured"</span> value=<span class="code-quote">"1389504231"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"134"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"Capabilities"</span> value=<span class="code-quote">"211,156,0,4,17,4,L,R,B,RS,|38,39,43,44,114,115,119,133,134,145,"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"135"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"ManufacturerInfo"</span> value=<span class="code-quote">"29,514,779"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"136"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"VersionInfo"</span> value=<span class="code-quote">"3,3,11,0,6"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"137"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"PollSettings"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"138"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"NodeInfo"</span> value=<span class="code-quote">"26,27,2b,2c,72,73,77,85,86,91,"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"139"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"InitialName"</span> value=<span class="code-quote">"LivingRoom_PlugI"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"140"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"ConfiguredName"</span> value=<span class="code-quote">"LivingRoom_PlugIn_Dimmer"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"141"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"ConfiguredAssoc"</span> value=""&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"142"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"Neighbors"</span> value=""&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"143"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"LastReset"</span> value=<span class="code-quote">"1389504230"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"144"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"AssociationNum"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"145"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:ZWaveDevice1"</span> variable=<span class="code-quote">"PollOk"</span> value=<span class="code-quote">"2"</span>&gt;&lt;/state&gt;
&lt;/states&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/device&gt;
&lt;device id=<span class="code-quote">"5"</span> status=<span class="code-quote">"-1"</span>&gt;
&lt;states&gt;
&lt;state id=<span class="code-quote">"212"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"CommFailure"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"213"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"LastUpdate"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"214"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"Configured"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"215"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:SqueezeBox1"</span> variable=<span class="code-quote">"serverIP"</span> value=<span class="code-quote">"192.168.0.196"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"216"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:SqueezeBox1"</span> variable=<span class="code-quote">"serverPort"</span> value=<span class="code-quote">"9090"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"217"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:SqueezeBox1"</span> variable=<span class="code-quote">"Debug"</span> value=<span class="code-quote">"<span class="code-keyword">false</span>"</span>&gt;&lt;/state&gt;
&lt;/states&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/device&gt;
&lt;device id=<span class="code-quote">"6"</span> status=<span class="code-quote">"-1"</span>&gt;
&lt;states&gt;
&lt;state id=<span class="code-quote">"11"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:SqueezeBoxPlayer1"</span> variable=<span class="code-quote">"playerId"</span> value=<span class="code-quote">"00%3A04%3A20%3A05%3Ace%3A4c"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"12"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:RenderingControl"</span> variable=<span class="code-quote">"Mute"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"13"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:RenderingControl"</span> variable=<span class="code-quote">"Volume"</span> value=<span class="code-quote">"100"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"14"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"TransportState"</span> value=<span class="code-quote">"PLAYING"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"15"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"CurrentPlayMode"</span> value=<span class="code-quote">"SHUFFLE"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"16"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"CurrentTrackURI"</span> value=<span class="code-quote">"file:<span class="code-comment">///C:/Users/Skogen/Music/The%20Rolling%20Stones/It%27s%20Only%20Rock%20%27n%27%20Roll/01%20If%20You%20Can%27t%20Rock%20Me.mp3"</span>&gt;&lt;/state&gt;
</span>&lt;state id=<span class="code-quote">"17"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"CurrentTitle"</span> value=<span class="code-quote">"If You Can&amp;apos;t Rock Me"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"18"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"CurrentArtist"</span> value=<span class="code-quote">"The Rolling Stones"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"19"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"CurrentAlbum"</span> value=<span class="code-quote">"It&amp;apos;s Only Rock &amp;apos;n&amp;apos; Roll"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"20"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"CurrentTrack"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"21"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"CurrentTrackDuration"</span> value=<span class="code-quote">"226.652"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"22"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:AVTransport"</span> variable=<span class="code-quote">"CurrentAlbumArt"</span> value=""&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"23"</span> service=<span class="code-quote">"urn:upnp-org:serviceId:SwitchPower1"</span> variable=<span class="code-quote">"Status"</span> value=<span class="code-quote">"1"</span>&gt;&lt;/state&gt;
&lt;state id=<span class="code-quote">"24"</span> service=<span class="code-quote">"urn:micasaverde-com:serviceId:HaDevice1"</span> variable=<span class="code-quote">"Configured"</span> value=<span class="code-quote">"0"</span>&gt;&lt;/state&gt;
&lt;/states&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/device&gt;
&lt;/devices&gt;
&lt;scenes&gt;
&lt;scene id=<span class="code-quote">"6"</span> status=<span class="code-quote">"-1"</span> active=<span class="code-quote">"<span class="code-keyword">false</span>"</span>&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/scene&gt;
&lt;scene id=<span class="code-quote">"4"</span> status=<span class="code-quote">"-1"</span> active=<span class="code-quote">"<span class="code-keyword">false</span>"</span>&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/scene&gt;
&lt;scene id=<span class="code-quote">"3"</span> status=<span class="code-quote">"-1"</span> active=<span class="code-quote">"<span class="code-keyword">false</span>"</span>&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/scene&gt;
&lt;scene id=<span class="code-quote">"7"</span> status=<span class="code-quote">"-1"</span> active=<span class="code-quote">"<span class="code-keyword">false</span>"</span>&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/scene&gt;
&lt;scene id=<span class="code-quote">"2"</span> status=<span class="code-quote">"-1"</span> active=<span class="code-quote">"<span class="code-keyword">true</span>"</span>&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/scene&gt;
&lt;scene id=<span class="code-quote">"5"</span> status=<span class="code-quote">"-1"</span> active=<span class="code-quote">"<span class="code-keyword">false</span>"</span>&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/scene&gt;
&lt;scene id=<span class="code-quote">"1"</span> status=<span class="code-quote">"-1"</span> active=<span class="code-quote">"<span class="code-keyword">false</span>"</span>&gt;
&lt;Jobs&gt;&lt;/Jobs&gt;
&lt;tooltip display=<span class="code-quote">"0"</span>&gt;&lt;/tooltip&gt;
&lt;/scene&gt;
&lt;/scenes&gt;
&lt;/root&gt;
</pre>
</div></div></div>

<p>I have used the following expression to extract the artist of device 6.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
string(/root/devices/device[6]/states/state[8]/@value)
</pre>
</div></div>

<p>I have also used the json version of the Vera status file with a command using the HTTP protocol with GET method and a jsonPATH expression...</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
$.devices[5].states[7].value
</pre>
</div></div>

<p>to successfully return the artist value to a sensor and update a label on my UI.  Although this works, I would like to avoid constantly polling Vera.</p>

<p>I think I am now at a point where I will need to dig into the Vera protocol, unless I am still missing something...</p>

<p>Thanks for listening...</p>

<p>BTW I am using...<br/>
OpenRemote-Controller-2.1.0_SNAPSHOT-2013-06-17<br/>
on a Win7<br/>
preview designer<br/>
iOS UI</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by skogen75 at Feb 20, 2014 04:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884647"></a>
                                    <font class="smallfont"><p>Please turn on Vera logging to debug level.<br/>
The stacktrace assume that the XML is not received correct.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Feb 22, 2014 19:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884650"></a>
                                    <font class="smallfont"><p>Okay, DEBUG is turned on, here is some of what I see in the Vera log...</p>

<div style="width:800px;"><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
DEBUG 2014-02-22 13:15:50,708 (Vera): received message: <span class="code-keyword">null</span>
DEBUG 2014-02-22 13:15:50,708 (Vera): Received Vera result:
<span class="code-keyword">null</span>
WARN 2014-02-22 13:15:50,708 (Vera): Could not parse Vera status file.
java.lang.NullPointerException
	at java.io.StringReader.&lt;init&gt;(StringReader.java:33)
	at org.openremote.controller.protocol.vera.VeraClient.parseChangedStatus(VeraClient.java:180)
	at org.openremote.controller.protocol.vera.VeraClient.run(VeraClient.java:103)
ERROR 2014-02-22 13:15:51,720 (Vera): IOException when executing HTTP method
org.apache.http.conn.HttpHostConnectException: Connection to http:<span class="code-comment">//192.168.0.108:3480 refused
</span>	at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:127)
	at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:147)
	at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:108)
	at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:731)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:709)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:700)
	at org.openremote.controller.protocol.vera.VeraClient.requestStatus(VeraClient.java:244)
	at org.openremote.controller.protocol.vera.VeraClient.run(VeraClient.java:100)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
	at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:123)
	... 9 more
DEBUG 2014-02-22 13:15:51,728 (Vera): received message: <span class="code-keyword">null</span>
DEBUG 2014-02-22 13:15:51,728 (Vera): Received Vera result:
<span class="code-keyword">null</span>
WARN 2014-02-22 13:15:51,729 (Vera): Could not parse Vera status file.
java.lang.NullPointerException
	at java.io.StringReader.&lt;init&gt;(StringReader.java:33)
	at org.openremote.controller.protocol.vera.VeraClient.parseChangedStatus(VeraClient.java:180)
	at org.openremote.controller.protocol.vera.VeraClient.run(VeraClient.java:103)
DEBUG 2014-02-22 13:15:52,767 (Vera): received message: &lt;?xml version=<span class="code-quote">"1.0"</span>?&gt;
&lt;root full=<span class="code-quote">"1"</span> version=<span class="code-quote">"*1.5.622*"</span> model=<span class="code-quote">"MiCasaVerde VeraLite"</span> zwave_heal=<span class="code-quote">"1"</span> temperature=<span class="code-quote">"F"</span> serial_number="35014493
<span class="code-quote">" fwd1="</span>fwd1.mios.com<span class="code-quote">" fwd2="</span>fwd2.mios.com<span class="code-quote">" ir="</span>0<span class="code-quote">" irtx="</span><span class="code-quote">" loadtime="</span>1393100141<span class="code-quote">" dataversion="</span>100141036<span class="code-quote">" state="</span>1<span class="code-quote">" comment="</span>ZWave: Configuring ZWave devices"&gt;
&lt;sections&gt;
&lt;section name=<span class="code-quote">"My Home"</span> id=<span class="code-quote">"1"</span>&gt;&lt;/section&gt;
&lt;/sections&gt;
&lt;rooms&gt;
&lt;room name=<span class="code-quote">"LivingRoom"</span> id=<span class="code-quote">"1"</span> section=<span class="code-quote">"1"</span>&gt;&lt;/room&gt;
&lt;/rooms&gt;
&lt;scenes&gt;
&lt;scene active=<span class="code-quote">"1"</span> name=<span class="code-quote">"AllLights_Off"</span> id=<span class="code-quote">"6"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"GoodWeekdayMorning"</span> id=<span class="code-quote">"4"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"Post-Sunset"</span> id=<span class="code-quote">"3"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"Pre-Sunset"</span> id=<span class="code-quote">"7"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"Seven-Thirty_PM"</span> id=<span class="code-quote">"2"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"1"</span> name=<span class="code-quote">"SunriseLightOff"</span> id=<span class="code-quote">"5"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"Sunset"</span> id=<span class="code-quote">"1"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;/scenes&gt;
&lt;devices&gt;
&lt;device name=<span class="code-quote">"Living Room"</span> altid=<span class="code-quote">"00:04:20:05:ce:4c"</span> id=<span class="code-quote">"6"</span> category=<span class="code-quote">"0"</span> subcategory=<span class="code-quote">"-1"</span> room=<span class="code-quote">"1"</span> parent=<span class="code-quote">"5"</span> status=<span class="code-quote">"1"</span>&gt;&lt;/device&gt;
&lt;device name=<span class="code-quote">"LivingRoom_GE_Dimmer"</span> altid=<span class="code-quote">"2"</span> id=<span class="code-quote">"3"</span> category=<span class="code-quote">"2"</span> subcategory=<span class="code-quote">"0"</span> room=<span class="code-quote">"1"</span> parent=<span class="code-quote">"1"</span> status=<span class="code-quote">"0"</span> level=<span class="code-quote">"0"</span>&gt;&lt;/device&gt;
&lt;device name=<span class="code-quote">"LivingRoom_PlugIn_Dimmer"</span> altid=<span class="code-quote">"3"</span> id=<span class="code-quote">"4"</span> category=<span class="code-quote">"2"</span> subcategory=<span class="code-quote">"0"</span> room=<span class="code-quote">"1"</span> parent=<span class="code-quote">"1"</span> status=<span class="code-quote">"0"</span> level=<span class="code-quote">"0"</span>&gt;&lt;/device&gt;
&lt;device name=<span class="code-quote">"SqueezeBox Controller"</span> altid=<span class="code-quote">"" id="</span>5<span class="code-quote">" category="</span>0<span class="code-quote">" subcategory="</span>-1<span class="code-quote">" room="</span>1<span class="code-quote">" parent="</span>0<span class="code-quote">" ip="</span>192.168.0.196"&gt;&lt;/device&gt;
&lt;/devices&gt;
&lt;categories&gt;
&lt;categorie name=<span class="code-quote">"Dimmable Light"</span> id=<span class="code-quote">"2"</span>&gt;&lt;/categorie&gt;
&lt;/categories&gt;
&lt;/root&gt;

DEBUG 2014-02-22 13:15:52,767 (Vera): Received Vera result:
&lt;?xml version=<span class="code-quote">"1.0"</span>?&gt;
&lt;root full=<span class="code-quote">"1"</span> version=<span class="code-quote">"*1.5.622*"</span> model=<span class="code-quote">"MiCasaVerde VeraLite"</span> zwave_heal=<span class="code-quote">"1"</span> temperature=<span class="code-quote">"F"</span> serial_number="35014493
<span class="code-quote">" fwd1="</span>fwd1.mios.com<span class="code-quote">" fwd2="</span>fwd2.mios.com<span class="code-quote">" ir="</span>0<span class="code-quote">" irtx="</span><span class="code-quote">" loadtime="</span>1393100141<span class="code-quote">" dataversion="</span>100141036<span class="code-quote">" state="</span>1<span class="code-quote">" comment="</span>ZWave: Configuring ZWave devices"&gt;
&lt;sections&gt;
&lt;section name=<span class="code-quote">"My Home"</span> id=<span class="code-quote">"1"</span>&gt;&lt;/section&gt;
&lt;/sections&gt;
&lt;rooms&gt;
&lt;room name=<span class="code-quote">"LivingRoom"</span> id=<span class="code-quote">"1"</span> section=<span class="code-quote">"1"</span>&gt;&lt;/room&gt;
&lt;/rooms&gt;
&lt;scenes&gt;
&lt;scene active=<span class="code-quote">"1"</span> name=<span class="code-quote">"AllLights_Off"</span> id=<span class="code-quote">"6"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"GoodWeekdayMorning"</span> id=<span class="code-quote">"4"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"Post-Sunset"</span> id=<span class="code-quote">"3"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"Pre-Sunset"</span> id=<span class="code-quote">"7"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"Seven-Thirty_PM"</span> id=<span class="code-quote">"2"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"1"</span> name=<span class="code-quote">"SunriseLightOff"</span> id=<span class="code-quote">"5"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;scene active=<span class="code-quote">"0"</span> name=<span class="code-quote">"Sunset"</span> id=<span class="code-quote">"1"</span> room=<span class="code-quote">"1"</span>&gt;&lt;/scene&gt;
&lt;/scenes&gt;
&lt;devices&gt;
&lt;device name=<span class="code-quote">"Living Room"</span> altid=<span class="code-quote">"00:04:20:05:ce:4c"</span> id=<span class="code-quote">"6"</span> category=<span class="code-quote">"0"</span> subcategory=<span class="code-quote">"-1"</span> room=<span class="code-quote">"1"</span> parent=<span class="code-quote">"5"</span> status=<span class="code-quote">"1"</span>&gt;&lt;/device&gt;
&lt;device name=<span class="code-quote">"LivingRoom_GE_Dimmer"</span> altid=<span class="code-quote">"2"</span> id=<span class="code-quote">"3"</span> category=<span class="code-quote">"2"</span> subcategory=<span class="code-quote">"0"</span> room=<span class="code-quote">"1"</span> parent=<span class="code-quote">"1"</span> status=<span class="code-quote">"0"</span> level=<span class="code-quote">"0"</span>&gt;&lt;/device&gt;
&lt;device name=<span class="code-quote">"LivingRoom_PlugIn_Dimmer"</span> altid=<span class="code-quote">"3"</span> id=<span class="code-quote">"4"</span> category=<span class="code-quote">"2"</span> subcategory=<span class="code-quote">"0"</span> room=<span class="code-quote">"1"</span> parent=<span class="code-quote">"1"</span> status=<span class="code-quote">"0"</span> level=<span class="code-quote">"0"</span>&gt;&lt;/device&gt;
&lt;device name=<span class="code-quote">"SqueezeBox Controller"</span> altid=<span class="code-quote">"" id="</span>5<span class="code-quote">" category="</span>0<span class="code-quote">" subcategory="</span>-1<span class="code-quote">" room="</span>1<span class="code-quote">" parent="</span>0<span class="code-quote">" ip="</span>192.168.0.196"&gt;&lt;/device&gt;
&lt;/devices&gt;
&lt;categories&gt;
&lt;categorie name=<span class="code-quote">"Dimmable Light"</span> id=<span class="code-quote">"2"</span>&gt;&lt;/categorie&gt;
&lt;/categories&gt;
&lt;/root&gt;
</pre>
</div></div></div>

<p>It looks like sometimes the connection is refused and sometimes it is successful but doesn't return the entire XML file.  For instance, in the log file the device with id="6" has more attributes that are not listed as in the full XML file shown in the post above.</p>

<p>Any idea why the full XML file is not accessable?</p>

<p>Thanks for your help in this.</p>

<p>Erik</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by skogen75 at Feb 22, 2014 20:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884651"></a>
                                    <font class="smallfont"><p>The full file is only requested upon startup of the Vera client.<br/>
All subsequent requests only ask for the diff to the previous request to limit polling frequency and data to parse.<br/>
I can't say why you receive the "connection refused" if in general the connection does work.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Feb 22, 2014 20:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884652"></a>
                                    <font class="smallfont"><p>Hi Marcus,</p>

<p>I just tested getting the attrubute altid="00:04:20:05:ce:4c" using a Vera command and the GENERIC_STATUS command linked to a sensor and a label on my UI and it worked (I got the altid value). </p>

<p>So, I guess the problem is that I can only retrieve what is listed in this smaller XML file?</p>

<p>Any idea how I can get Vera/OR to return more information?</p>

<p>Thanks again.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by skogen75 at Feb 22, 2014 20:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884653"></a>
                                    <font class="smallfont"><p>Am I correct is stating that when I retrieve the Vera XML file using...</p>

<p>http://&lt;veraip&gt;:3480/data_request?id=status&amp;output_format=xml</p>

<p>it is different from what Vera sends OR (or OR requests from Vera)?</p>

<p>Is there a way to have Vera send OR (or OR request from Vera) the full XML file at the start instead of the smaller XML file which contains much less information?</p>

<p>Stated another way...<br/>
If one compares the XML data from my post on Feb 20th to the XML data which shows up in the OR Vera log, they are totally different, with the latter containing much less information.<br/>
Is this the expected behavior? and is there a way to utilize the more information rich XML file?</p>

<p>Thanks again, I hope this makes sense.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by skogen75 at Feb 22, 2014 21:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884654"></a>
                                    <font class="smallfont"><p>The first request OR does is the full status: <a href="http://a.b.c.d:3480/data_request?id=lu_sdata&amp;output_format=xml">http://a.b.c.d:3480/data_request?id=lu_sdata&amp;output_format=xml</a><br/>
All following requests only request changed data: <a href="http://a.b.c.d:3480/data_request?id=lu_sdata&amp;output_format=xml&amp;loadtime=">http://a.b.c.d:3480/data_request?id=lu_sdata&amp;output_format=xml&amp;loadtime=</a>&lt;lastLoadtime&gt;&amp;dataversion=&lt;lastDataversion&gt;&amp;timeout=60&amp;minimumdelay=500<br/>
You can read on the VERA wiki about the partial request: <a href="http://wiki.micasaverde.com/index.php/UI_Notes">http://wiki.micasaverde.com/index.php/UI_Notes</a><br/>
You will need your VERA to send the partial XML when your data (CurrentTitle, CurrentArtist, Volume) changes. Maybe a setting in the plugin?<br/>
We do not support to query the full request once we started and assume that each VERA device is sending it's changed data in the partial request.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Feb 22, 2014 21:32
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884660"></a>
                                    <font class="smallfont"><p>Ahh...It's all becoming clear now.  Here is where I went wrong.</p>

<p>I used the command...</p>

<p>http://&lt;veraip&gt;:3480/data_request?id=status&amp;output_format=xml    </p>

<p>NOTE: the id=status which return all the current UPnP variables. This is what the how-to states to use to gather the information one needs regarding Vera.</p>

<p>What is actually used by OR is the following...</p>

<p>http://&lt;veraip&gt;:3480/data_request?id=sdata&amp;output_format=xml</p>

<p>NOTE:  the id=sdata which returns an abbreviated form of the user_data and status.  Which means that I was trying to request information that is not present in the sdata but is present in the status which was the problem.</p>

<p>Now that that is sorted out, I wonder if I can modify (add to) the data that vera uses in the id=sdata XML.  But I suppose that is a question for the MiCasaVerde forum.  </p>

<p>Maybe the how-to should be modified to direct users to look at the id=sdata instead of id=status?</p>

<p>In a somewhat unrelated topic...can one have a sensor linked to a command without a polling interval?  Let's say that I only want a sensor to poll when I press a button or a rule is triggered, is it possible?</p>

<p>Thanks for your help Marcus, this mystery is solved.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by skogen75 at Feb 23, 2014 00:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884681"></a>
                                    <font class="smallfont"><p>In that case you could use the HTTP protocol and parse the status file yourself. But you need to give a polling interval.<br/>
Executing a command which is used to update a sensor from a rule is not possible.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Feb 23, 2014 19:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22885033"></a>
                                    <font class="smallfont"><p>Hello Erik,</p>

<p>Nice to hear you got it working. Feel free to add your findings to the how to page, or modify the how-to content if you feel it necessary. Appreciate the help.</p>

<p>Thanks,</p>

<p>&#8211; Juha</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Mar 05, 2014 17:15
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:36</font></td>
		    </tr>
	    </table>
    </body>
</html>