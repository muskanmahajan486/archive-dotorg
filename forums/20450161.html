<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Russound, Synology DS1512+, headaches..</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Russound, Synology DS1512+, headaches..
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 29, 2012 by <font color="#0050B2">smckay79</font>.
				    </div>

				    <p>Hey guys.</p>

<p>Im trying to get this to work, and I am fairly knowledgeable in linux, however this is beyond me. I have the OR package installed, and running. Changed my config file to point to my rs232 to ethernet adapter (192.168.1.7 port 5555) however i can not make this all work together and it looks like because of java issues. </p>

<p>If i check the catalina.out log this is what I get:</p>

<p>ERROR HTTP\-Thread\-1: Could not write command to Russound<br/>
java.net.SocketException: Broken pipe<br/>
        at java.net.SocketOutputStream.socketWrite0(Native Method)<br/>
        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)<br/>
        at java.net.SocketOutputStream.write(SocketOutputStream.java:115)<br/>
        at org.openremote.controller.protocol.russound.RussoundClient.sendData(RussoundClient.java:200)<br/>
        at org.openremote.controller.protocol.russound.RussoundClient.requestStatus(RussoundClient.java:394)<br/>
        at org.openremote.controller.protocol.russound.RussoundCommand.send(RussoundCommand.java:138)<br/>
        at org.openremote.controller.service.impl.ControlCommandServiceImpl.trigger(ControlCommandServiceImpl.java:95)<br/>
        at org.openremote.controller.rest.ControlCommandRESTServlet.handleRequest(ControlCommandRESTServlet.java:77)<br/>
        at org.openremote.controller.rest.RESTAPI.doPost(RESTAPI.java:125)<br/>
        at org.openremote.controller.rest.RESTAPI.doGet(RESTAPI.java:81)<br/>
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)<br/>
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)<br/>
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)<br/>
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
        at org.openremote.controller.rest.support.json.JSONCallbackFilter.doFilter(JSONCallbackFilter.java:58)<br/>
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:78)<br/>
        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:77)<br/>
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)<br/>
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)<br/>
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)<br/>
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)<br/>
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)<br/>
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)<br/>
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)<br/>
        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)<br/>
        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:354)<br/>
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)<br/>
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)<br/>
        at java.lang.Thread.run(Thread.java:662)</p>

<p>my config.properties files is<br/>
#</p>
<ol>
	<li>RUSSOUND CONFIGURATION:</li>
	<li></li>
	<li>Configuration related to Russound amplifier</li>
</ol>


<p>##</p>
<ol>
	<li>IP-Address of the RS232 Serial gateway if used. The gateway has to support TCP mode<br/>
russound.ip=192.168.1.107</li>
</ol>


<p>##</p>
<ol>
	<li>Port of RS232 Serial gateway to use<br/>
russound.port=5555</li>
</ol>


<p>##</p>
<ol>
	<li>KeypadId IF NOT 0x70 (default). Specify as Hex without leading "0x" eg. "71"<br/>
russound.keypadId=</li>
</ol>


<p>##</p>
<ol>
	<li>If the Russound is connected directly to a serial port of controller use device name here eg. /dev/ttyS0</li>
	<li>If a serial device is specified the IP settings are ignored<br/>
russound.serialDevice=</li>
</ol>


<p>##</p>
<ol>
	<li>If a pollingInterval is given, that means an extra thread is started which polls the device for the status</li>
	<li>valid values: 5000, 5s, 1m, 2h  (no letter=milliseconds, s=seconds, m=minute, h=hour)<br/>
russound.statusPollingInterval=</li>
</ol>



<p>Any ideas? </p>

<p>-Scott</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-20450167"></a>
                                    <font class="smallfont"><p>This seems to be an issue with your rs232 converter. Which model do you have? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 30, 2012 09:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450181"></a>
                                    <font class="smallfont"><p>its a WIZNET100SR (<a href="http://www.wiznet.co.kr/Sub_Modules/en/product/Product_Detail.asp?cate1=&amp;cate2=&amp;cate3=&amp;pid=1039">http://www.wiznet.co.kr/Sub_Modules/en/product/Product_Detail.asp?cate1=</a>)</p>


<p>Options are setup like this<br/>
<a href="https://dl.dropbox.com/u/3019/Screen%20Shot%202012-08-30%20at%204.23.21%20PM.png">1</a><br/>
<a href="https://dl.dropbox.com/u/3019/Screen%20Shot%202012-08-30%20at%204.23.11%20PM.png">2</a><br/>
<a href="https://dl.dropbox.com/u/3019/Screen%20Shot%202012-08-30%20at%204.23.00%20PM.png">3</a></p>


<p>Thanks</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by smckay79 at Aug 30, 2012 23:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450184"></a>
                                    <font class="smallfont"><p>Sorry, don't know the device.<br/>
Why do you have a Local IP and Server IP and a 2 port settings. Mayve you have to use 5000 as port ?<br/>
Can you telnet toward the device and port?</p>

<p>The error means that the device closed the connection immediatly.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 31, 2012 13:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450185"></a>
                                    <font class="smallfont"><p>Hmmmm ok, no worries. What device would you recommend I buy? I'm open to that <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by smckay79 at Aug 31, 2012 13:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450186"></a>
                                    <font class="smallfont"><p>I have this one: <a href="http://www.korenix.com/jetport-device-server-5201-overview.htm">http://www.korenix.com/jetport-device-server-5201-overview.htm</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 31, 2012 13:14
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:45</font></td>
		    </tr>
	    </table>
    </body>
</html>