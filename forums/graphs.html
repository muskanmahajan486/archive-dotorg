<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : graphs</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : graphs
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on May 31, 2012 by <font color="#0050B2">tom</font>.
				    </div>

				    <p>Hi everybody,</p>

<p>I am completely new to OR forum, so probably this topic is already covered elsewhere but I have not be able to find it.</p>

<p>I am planning to deploy a Home Automation system based on KNX / EIB bus in my new home, focusing particularly on energy saving. A KNX/IP interface should connect the KNX network to the intranet.</p>

<p>Primarily   14 temperature sensors and actuators for floor heating, AC load monitoring, HVAC monitoring (only mechanical ventilation)will be installed.</p>

<p>I'd like to set up an OpenRemote controller in a Synology NAS to reduce power consumption.</p>

<p>I am wondering how to setup/program the controller in order to save temperature/status data in time and create graphs necessary for optimize home climate management.      </p>

<p>Thanks in advance,</p>

<p>Tom</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152333.png">Temp_log.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152338.png">Temp_log.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152336.xls">Temp_log.xls</a> (application/vnd.ms-excel)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152337.jar">poi-3.8-20120326.jar</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152334.xls">Temp_log.xls</a> (application/vnd.ms-excel)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152335.jar">poi-3.8-20120326.jar</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152340.png">Temp_log.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152339.drl">modeler_rules.drl</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19988923/20152332.png">Temp_log.PNG</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-19988931"></a>
                                    <font class="smallfont"><p>We are working on a version which allows collecting of data and visualize with graphs.<br/>
A How-To is just beeing written and something is already there, but not finished: <a href="http://www.openremote.org/pages/viewpage.action?pageId=19988490">http://www.openremote.org/pages/viewpage.action?pageId=19988490</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jun 01, 2012 08:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19988933"></a>
                                    <font class="smallfont"><p>Thank you Marcus for your answer.</p>

<p>As long as my setup will be functional I will strongly contribute to debugging of this feature.</p>

<p>Cheers,</p>

<p>Tom</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tom at Jun 01, 2012 09:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989014"></a>
                                    <font class="smallfont"><p>I have solved my temperature logging with a rule that saves my temperature readings every hour and half hour to an Excel file. Then I made a chart, where I can choose what temperatures and between which dates I want the graph to appear. I must say it works very well. My only problem is that I haven't found any good way to show the Excel chart in OpenRemote. So the information about the upcoming RRD4J implementation was good news.</p>

<p><img src="attachments/19988923/20152332.png" align="absmiddle" border="0"/></p>

<p>If anyone is interested, I attach the rule (modeler_rules.drl).<br/>
<a href="attachments/19988923/20152339.drl">modeler_rules.drl</a></p>

<p>I've had some problems with that the rule sometimes want to save the values several times on each occasion. That's why I added the time check, if you don't get any such problems, just remove that part.</p>

<p>You must save the "poi-3.8-20120326.jar" in your "\OpenRemote\webapps\Controller\WEB-INF\lib" library and the Excel file in your "\OpenRemote\bin" library.</p>

<p><a href="attachments/19988923/20152334.xls">Temp_log.xls</a><br/>
<a href="attachments/19988923/20152335.jar">poi-3.8-20120326.jar</a></p>

<p>/Kenneth</p>



</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kenta at Jun 04, 2012 10:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989015"></a>
                                    <font class="smallfont"><p>Hi Kenneth,</p>

<p>thanks for sharing  this with us. A really nice alternative solution <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/><br/>
If you can have POI save your graph as PNG into a folder which is served from the controller e.g "openremote/webapps/controller/charts" you can use the web UI element (not in the designer yet, but the console can already display) to display your chart.</p>

<p>--Marcus</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jun 04, 2012 10:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989016"></a>
                                    <font class="smallfont"><p>Thank you Marcus.</p>

<p>I will check if I can get poi to save the graph as a PNG.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kenta at Jun 04, 2012 10:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20451469"></a>
                                    <font class="smallfont"><p>Marcus,<br/>
When i was thinking about graphs for openremote, HighCharts came to mind.<br/>
Would you have any suggestion for me to first store sensor data from OpenRemote to an external database (say mySQL on the same Synology NAS where OpenRemote Controller is running on) <br/>
and then maybe on how to include HighCharts in OpenRemote do the graphs?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by reesen at Oct 07, 2012 15:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20451471"></a>
                                    <font class="smallfont"><p>The EvenProcessorChain and the EvenProcessor interface are there for a task like this.<br/>
You can create an EvenProcessorImpl that takes the senso values and saves them into a local database.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 07, 2012 15:30
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:45</font></td>
		    </tr>
	    </table>
    </body>
</html>