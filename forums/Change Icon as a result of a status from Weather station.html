<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Change Icon as a result of a status from Weather station</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Change Icon as a result of a status from Weather station
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 30, 2013 by <font color="#0050B2">niraviry</font>.
				    </div>

				    <p>Hi.</p>

<p>I am looking for a method to change an icon/image as a result of the status wof my weather station (Rain/No Rain).</p>

<p>Any ideas of who to do that.</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/21859371/23035914.png">Three Images.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-21859372"></a>
                                    <font class="smallfont"><p>Create a switch with different ON and OFF images. Connect it to Rain and No Rain sensors.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Mar 30, 2013 11:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21859377"></a>
                                    <font class="smallfont"><p>Thanks. It is clear to me that a swich has 2 icons but these is currentrly nothing to switch. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Mar 30, 2013 12:05
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21859378"></a>
                                    <font class="smallfont"><p>Nothing to switch yet (I think in the future we will be able to do it anyway) so the switch command does nothing. You will use only sensory part of the switch.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Mar 30, 2013 12:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21859381"></a>
                                    <font class="smallfont"><p>Then just use an image and link it to a sensor</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Mar 30, 2013 13:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21859388"></a>
                                    <font class="smallfont"><p>Using an image will not work as it only has one image to be used. I have used a switch with no command but just a sensor.<br/>
In need rain now as ir is almost summer here in Israel and chances of rain are very low and the weather station is on the roof....</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Mar 30, 2013 18:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21859389"></a>
                                    <font class="smallfont"><p>An image by default defines one image.<br/>
If you link a sensor, then you can link 1 image per sensor state (in addition to the default image, which will be used until the sensor has provided a value).<br/>
If you link a switch sensor, you'll get the possibility to define on and off images.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Mar 30, 2013 18:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21859392"></a>
                                    <font class="smallfont"><p>Thanks Eric.<br/>
Looks like it is OK. <br/>
I have to dance the rain dance to save me the truble of going to the roof and have some water over the sensor...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Mar 30, 2013 18:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22872382"></a>
                                    <font class="smallfont"><p><a class="confluence-thumbnail-link 340x327" href='http://www.openremote.org/download/attachments/21859371/Three Images.png'><img src="attachments/thumbnails/21859371/23035914" align="right" border="0"/></a><br/>
Somehow I don't get this to work. The images do not appear on the screen. Must be something trivial that I overlooked.</p>

<p>In my system I have a ThermostatMode sensor that reads one of the values: "Off", "Heat", "Energy Saving Heat", and a fourth that I do not use yet. The values are retrieved with an http call, that strips off the quotes. (I also tried without stripping)<br/>
I made a custom sensor that just passes these values through. That sensor works OK as can be seen from a text label on my test screen.</p>

<p>To select the appropriate icon for each of these screens, I have made an additional sensor on this same http call.  In that custom sensor I did the following mapping:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
Name     Value
0        Off
1        Heat
11       Energy Save Heat
</pre>
</div></div>
<p>Is it because there are two sensors on one command?</p>

<p><b>EDIT:</b> Got it working with the following mapping</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
Name                Value
Off                 Off
Heat                Heat
Energy Save Heat    Energy Save Heat
</pre>
</div></div>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jun 07, 2013 13:05
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:40</font></td>
		    </tr>
	    </table>
    </body>
</html>