<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Problem With OpenRemote Boss</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Problem With OpenRemote Boss
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 21, 2009 by <font color="#0050B2">key</font>.
				    </div>

				    <p>Hello,<br/>
I have installed OpenRemote Boss™ 1.0 Controller on Windows XP.<br/>
Step 1. Install Java 6 Runtime &#45;-&gt; OK<br/>
Step 2. Set Up Your Environment &#45;-&gt; OK<br/>
Step 3. Install OpenRemote Boss™ &#45;-&gt; OK<br/>
Step 4. Customize your iPhone Interface &#45;-&gt; OK<br/>
But when I click on a button on my iphone, I have the following message :</p>
<blockquote>
<p>Send request error - Error in controller. Invalid controller.xml. Please check controller log for errors.</p></blockquote>
<p>And in the log file i have :</p>
<blockquote>
<p>2009-12-21 20:28:53,218 ERROR [HTTP-Thread-3] org.openremote.controller.rest.ButtonCommandRESTServlet.doPost(92) &#124; ButtonCommandException occurs<br/>
org.openremote.controller.exception.InvalidControllerXMLException: check the version of schema or structure of controller.xml with /controller-1.0.xsd<br/>
&nbsp;at org.openremote.controller.event.RemoteActionXMLParser.queryElementFromXML(RemoteActionXMLParser.java:135)<br/>
&nbsp;at org.openremote.controller.event.RemoteActionXMLParser.queryElementFromXMLById(RemoteActionXMLParser.java:102)<br/>
&nbsp;at org.openremote.controller.event.RemoteActionXMLParser.findEventsByButtonID(RemoteActionXMLParser.java:71)<br/>
&nbsp;at org.openremote.controller.service.impl.ButtonCommandServiceImpl.trigger(ButtonCommandServiceImpl.java:62)<br/>
&nbsp;at org.openremote.controller.rest.ButtonCommandRESTServlet.doPost(ButtonCommandRESTServlet.java:84)<br/>
&nbsp;at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)<br/>
&nbsp;at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)<br/>
&nbsp;at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)<br/>
&nbsp;at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
&nbsp;at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:78)<br/>
&nbsp;at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:77)<br/>
&nbsp;at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
&nbsp;at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
&nbsp;at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)<br/>
&nbsp;at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)<br/>
&nbsp;at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)<br/>
&nbsp;at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)<br/>
&nbsp;at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)<br/>
&nbsp;at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)<br/>
&nbsp;at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)<br/>
&nbsp;at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)<br/>
&nbsp;at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:354)<br/>
&nbsp;at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)<br/>
&nbsp;at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)<br/>
&nbsp;at java.lang.Thread.run(Unknown Source)</p></blockquote>
<p>What can i do for resolve this problem ?<br/>
Thank you for your help</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-7405639"></a>
                                    <font class="smallfont"><p>Can you please attach your controller.xml file, thanks <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 21, 2009 20:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405643"></a>
                                    <font class="smallfont"><p>Please find my controller.xml file. (if i managed to attack the file <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>)</p>

<p>Thank you</p>

<p><span class="error">&#91;\^controller.xml|^controller.xml&#93;</span></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by key at Dec 21, 2009 20:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405672"></a>
                                    <font class="smallfont"><p>Nope, didn't work.</p>

<p>Try copy &amp; paste instead...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 21, 2009 22:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405673"></a>
                                    <font class="smallfont"><p>My file controller.xml :</p>

<p><blockquote>
<p>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>
&lt;openremote xmlns="http://www.openremote.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" <br/>
xsi:schemaLocation="http://www.openremote.org <a href="http://www.openremote.org/schemas/controller-1.0-M3.xsd">http://www.openremote.org/schemas/controller-1.0-M3.xsd</a>"&gt;</p>

<p>&lt;buttons&gt;</p>


<p>&lt;button id="3"&gt;</p>


<p>&lt;event&gt;2&lt;/event&gt;</p>


<p>&lt;/button&gt;</p>


<p>&lt;button id="5"&gt;</p>


<p>&lt;event&gt;4&lt;/event&gt;</p>


<p>&lt;/button&gt;</p>

<p>&lt;/buttons&gt;</p>

<p>&lt;events&gt;</p>

<p>&lt;irEvents&gt;</p>

<p>&lt;/irEvents&gt;</p>

<p>&lt;knxEvents&gt;</p>


<p>&lt;knxEvent id="4" label="G" groupAddress="0/0/3" command="OFF"/&gt;</p>


<p>&lt;knxEvent id="2" label="Salon" groupAddress="0/0/8" command="ON"/&gt;</p>

<p>&lt;/knxEvents&gt;</p>

<p>&lt;x10Events&gt;</p>

<p>&lt;/x10Events&gt;</p>

<p>&lt;httpEvents&gt;</p>

<p>&lt;/httpEvents&gt;</p>

<p>&lt;socketEvents&gt;</p>

<p>&lt;/socketEvents&gt;</p>

<p>&lt;telnetEvents&gt;</p>

<p>&lt;/telnetEvents&gt;</p>

<p>&lt;/events&gt;<br/>
&lt;/openremote&gt;</p></blockquote><br clear="all" /></p>

<p>Thanks for help</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by key at Dec 21, 2009 22:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405676"></a>
                                    <font class="smallfont"><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml">
<span class="code-tag">&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span>?&gt;</span>
&lt;openremote xmlns=<span class="code-quote">"http://www.openremote.org"</span> <span class="code-keyword">xmlns:xsi</span>=<span class="code-quote">"http://www.w3.org/2001/XMLSchema-instance"</span>
 xsi:schemaLocation=<span class="code-quote">"http://www.openremote.org http://www.openremote.org/schemas/controller-1.0-M3.xsd"</span>&gt;
</pre>
</div></div>

<p>Hmm, that's my bad again. Let me fix it. In the meantime, try removing the "-M3" from the schema name in schemaLocation attribute.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 21, 2009 23:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405677"></a>
                                    <font class="smallfont"><p>Actually I can't reproduce the schema issue you were reporting, even though the M3 prefix is clearly not correct in the XML.</p>

<p>However, there's another embarrassing bug in the KNX code (actually piece of code missing I forgot to commit) which makes the whole thing broken so wait until I make 1.0.2 available for download before using KNX.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 22, 2009 01:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405686"></a>
                                    <font class="smallfont"><p>Controller 1.0.2 is available for download. It fixes my brainfart in the KNX code which means trying to use KNX prior to 1.0.2 is not worth the effort.</p>

<p>There's a couple of other things I'm going to fix wrt KNX but you should at least update to this latest.</p>

<p>As I said, I was unable to reproduce your controller XML exception (even when trying the controller.xml you copied here), let me know if 1.0.2 persists on showing that issue.</p>

<p><a href="http://download.openremote.org">http://download.openremote.org</a></p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 22, 2009 13:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405694"></a>
                                    <font class="smallfont"><p>I have removing the "-M3" from the schema name.</p>

<p>I have installed the 1.0.2.</p>

<p>And the problem is the same ...</p>

<p><ins>My controller.xml :</ins>
<blockquote>
<p>&nbsp;&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>
&lt;openremote xmlns="<a href="http://www.openremote.org/">http://www.openremote.org</a>" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:schemaLocation="<a href="http://www.openremote.org/">http://www.openremote.org</a> <a href="http://www.openremote.org/schemas/controller-1.0.xsd">http://www.openremote.org/schemas/controller-1.0.xsd</a>"&gt;</p>

<p>&nbsp; &lt;buttons&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;button id="3"&gt;</p>

<p>&nbsp;&nbsp;&lt;event&gt;2&lt;/event&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;/button&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;button id="5"&gt;</p>

<p>&nbsp;&nbsp;&lt;event&gt;4&lt;/event&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;/button&gt;</p>

<p>&nbsp; &lt;/buttons&gt;</p>

<p>&nbsp; &lt;events&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;irEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;/irEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;knxEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;knxEvent id="2" label="Salon" groupAddress="0/0/8" command="ON"/&gt;</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;knxEvent id="4" label="G" groupAddress="0/0/3" command="OFF"/&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;/knxEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;x10Events&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;/x10Events&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;httpEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;/httpEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;socketEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;/socketEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;telnetEvents&gt;</p>

<p>&nbsp;&nbsp;&nbsp; &lt;/telnetEvents&gt;</p>

<p>&nbsp; &lt;/events&gt;<br/>
&lt;/openremote&gt;</p></blockquote><ins>My catalina.log :</ins>
<blockquote>
<p>22 déc. 2009 22:12:14 org.apache.catalina.core.AprLifecycleListener init<br/>
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\Documents and Settings\PC1\Bureau\OpenRemote-Controller-1.0.2\webapps\controller\WEB-INF\lib\native<br/>
22 déc. 2009 22:12:14 org.apache.coyote.http11.Http11Protocol init<br/>
INFO: Initialisation de Coyote HTTP/1.1 sur http-8080<br/>
22 déc. 2009 22:12:14 org.apache.catalina.startup.Catalina load<br/>
INFO: Initialization processed in 731 ms<br/>
22 déc. 2009 22:12:14 org.apache.catalina.core.StandardService start<br/>
INFO: Dï¿½marrage du service Catalina<br/>
22 déc. 2009 22:12:14 org.apache.catalina.core.StandardEngine start<br/>
INFO: Starting Servlet Engine: Apache Tomcat/6.0.18<br/>
22 déc. 2009 22:12:17 org.apache.coyote.http11.Http11Protocol start<br/>
INFO: Dï¿½marrage de Coyote HTTP/1.1 sur http-8080<br/>
22 déc. 2009 22:12:17 org.apache.catalina.startup.Catalina start<br/>
INFO: Server startup in 2778 ms</p></blockquote><br clear="all" /></p>

<p><ins>My controller.log :</ins>
<blockquote>
<p><br clear="all" /></p>

<p>2009-12-22 22:16:56,281 ERROR [HTTP-Thread-3] org.openremote.controller.rest.ButtonCommandRESTServlet.doPost(92) &#124; ButtonCommandException occurs<br/>
org.openremote.controller.exception.InvalidControllerXMLException: check the version of schema or structure of controller.xml with /controller-1.0.xsd<br/>
&nbsp;at org.openremote.controller.event.RemoteActionXMLParser.queryElementFromXML(RemoteActionXMLParser.java:135)<br/>
&nbsp;at org.openremote.controller.event.RemoteActionXMLParser.queryElementFromXMLById(RemoteActionXMLParser.java:102)<br/>
&nbsp;at org.openremote.controller.event.RemoteActionXMLParser.findEventsByButtonID(RemoteActionXMLParser.java:71)<br/>
&nbsp;at org.openremote.controller.service.impl.ButtonCommandServiceImpl.trigger(ButtonCommandServiceImpl.java:62)<br/>
&nbsp;at org.openremote.controller.rest.ButtonCommandRESTServlet.doPost(ButtonCommandRESTServlet.java:84)<br/>
&nbsp;at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)<br/>
&nbsp;at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)<br/>
&nbsp;at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)<br/>
&nbsp;at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
&nbsp;at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:78)<br/>
&nbsp;at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:77)<br/>
&nbsp;at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
&nbsp;at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
&nbsp;at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)<br/>
&nbsp;at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)<br/>
&nbsp;at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)<br/>
&nbsp;at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)<br/>
&nbsp;at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)<br/>
&nbsp;at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)<br/>
&nbsp;at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)<br/>
&nbsp;at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)<br/>
&nbsp;at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:354)<br/>
&nbsp;at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)<br/>
&nbsp;at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)<br/>
&nbsp;at java.lang.Thread.run(Unknown Source)</p></blockquote><br clear="all" /></p>

<p>Thanks<br clear="all" /></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by key at Dec 22, 2009 21:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405695"></a>
                                    <font class="smallfont"><p>Ok, thanks for trying and sorry it still didn't work. I will try to investigate more. I guess I need to switch over to WinXP machine next to see if I am able to reproduce it then.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 22, 2009 21:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405710"></a>
                                    <font class="smallfont"><p>I was able to at least reproduce the issue on WinXP. Still looking for the cause.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Dec 27, 2009 01:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405712"></a>
                                    <font class="smallfont"><p>Appears the issue is with the white space in the pathname, try placing your controller to a directory other than "Documents and Settings".</p>

<p>The root exception in the stack should be something similar to:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>org.xml.sax.SAXParseException: schema_reference.4: Failed to read schema document 
'C:\Documents%20and%20Settings\Juha\Desktop\OpenRemote-Controller-1.0.2\webapps\controller\WEB-INF\classes\controller-1.0.xsd',
because 1) could not find the document; 2) the document could not be read; 
3) the root element of the document is not &lt;xsd:schema&gt;.
</pre>
</div></div>

<p>This could be due to poor (not cross-platform) handling of file paths in the codebase. I'll test a fix later.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by admin at Dec 27, 2009 01:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-7405936"></a>
                                    <font class="smallfont"><p>Yes,<br/>
It's working.<br/>
Thanks for your help.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by key at Dec 30, 2009 12:25
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 11:01</font></td>
		    </tr>
	    </table>
    </body>
</html>