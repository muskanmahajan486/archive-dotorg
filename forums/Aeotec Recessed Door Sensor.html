<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Aeotec Recessed Door Sensor</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Aeotec Recessed Door Sensor
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 02, 2015 by <font color="#0050B2">c.steele</font>.
				    </div>

				    <p>I've had the Aeotec Recessed Door Sensor Gen 5 for 5-6 months now, waiting for it to be functional. Yet it does not seem to function as a door sensor. I've added to my Z-Stick and if I push the tiny button on top, I can see zwave-debug logs. However, moving the magnet over the device does nothing. I've created a sensor for Custom and for switch. Neither seems to get debug output.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span>?&gt;
&lt;node id=<span class="code-quote">"35"</span>&gt;
  &lt;manufacturer id=<span class="code-quote">"134"</span>&gt;AEON Labs&lt;/manufacturer&gt;
  &lt;basic-device-class id=<span class="code-quote">"0x04"</span>&gt;BASIC_TYPE_ROUTING_SLAVE&lt;/basic-device-class&gt;
  &lt;<span class="code-keyword">generic</span>-device-class id=<span class="code-quote">"0x07"</span>&gt;GENERIC_TYPE_SENSOR_NOTIFICATION&lt;/<span class="code-keyword">generic</span>-device-class&gt;
  &lt;specific-device-class id=<span class="code-quote">"0x01"</span>&gt;SPECIFIC_TYPE_NOTIFICATION_SENSOR&lt;/specific-device-class&gt;
  &lt;product-type id=<span class="code-quote">"0x0102"</span> /&gt;
  &lt;product id=<span class="code-quote">"0x0059"</span> /&gt;
  &lt;listening&gt;<span class="code-keyword">false</span>&lt;/listening&gt;
  &lt;routing&gt;<span class="code-keyword">true</span>&lt;/routing&gt;
  &lt;command-classes&gt;
    &lt;command-class id=<span class="code-quote">"0x72"</span> version=<span class="code-quote">"1"</span> name=<span class="code-quote">"COMMAND_CLASS_MANUFACTURER_SPECIFIC"</span> type=<span class="code-quote">"supported"</span> /&gt;
    &lt;command-class id=<span class="code-quote">"0x30"</span> version=<span class="code-quote">"1"</span> name=<span class="code-quote">"COMMAND_CLASS_SENSOR_BINARY"</span> type=<span class="code-quote">"supported"</span> /&gt;
    &lt;command-class id=<span class="code-quote">"0x80"</span> version=<span class="code-quote">"1"</span> name=<span class="code-quote">"COMMAND_CLASS_BATTERY"</span> type=<span class="code-quote">"supported"</span> /&gt;
    &lt;command-class id=<span class="code-quote">"0x86"</span> version=<span class="code-quote">"1"</span> name=<span class="code-quote">"COMMAND_CLASS_VERSION"</span> type=<span class="code-quote">"supported"</span> /&gt;
    &lt;command-class id=<span class="code-quote">"0x85"</span> version=<span class="code-quote">"2"</span> name=<span class="code-quote">"COMMAND_CLASS_ASSOCIATION_V2"</span> type=<span class="code-quote">"supported"</span> /&gt;
    &lt;command-class id=<span class="code-quote">"0x84"</span> version=<span class="code-quote">"2"</span> name=<span class="code-quote">"COMMAND_CLASS_WAKE_UP_V2"</span> type=<span class="code-quote">"supported"</span>&gt;
      &lt;wake-up-interval&gt;0&lt;/wake-up-interval&gt;
      &lt;notification-node-id&gt;1&lt;/notification-node-id&gt;
      &lt;wake-up-interval-capabilities&gt;
        &lt;min&gt;240&lt;/min&gt;
        &lt;max&gt;16777215&lt;/max&gt;
        &lt;<span class="code-keyword">default</span>&gt;0&lt;/<span class="code-keyword">default</span>&gt;
        &lt;step&gt;240&lt;/step&gt;
      &lt;/wake-up-interval-capabilities&gt;
    &lt;/command-class&gt;
    &lt;command-class id=<span class="code-quote">"0x70"</span> version=<span class="code-quote">"1"</span> name=<span class="code-quote">"COMMAND_CLASS_CONFIGURATION"</span> type=<span class="code-quote">"supported"</span> /&gt;
    &lt;command-class id=<span class="code-quote">"0x20"</span> version=<span class="code-quote">"1"</span> name=<span class="code-quote">"COMMAND_CLASS_BASIC"</span> type=<span class="code-quote">"supported"</span> /&gt;
    &lt;command-class id=<span class="code-quote">"0x82"</span> version=<span class="code-quote">"1"</span> name=<span class="code-quote">"COMMAND_CLASS_HAIL"</span> type=<span class="code-quote">"controlled"</span> /&gt;
    &lt;command-class id=<span class="code-quote">"0x00"</span> version=<span class="code-quote">"1"</span> name=<span class="code-quote">"COMMAND_CLASS_NO_OPERATION"</span> type=<span class="code-quote">"controlled"</span> /&gt;
  &lt;/command-classes&gt;
  &lt;configuration hash=<span class="code-quote">"5F0A939B0A572CC36A1EE4CC7A021BEE"</span>&gt;
    &lt;associations&gt;
      &lt;association-group id=<span class="code-quote">"1"</span> capacity=<span class="code-quote">"5"</span>&gt;
        &lt;association&gt;
          &lt;node&gt;15&lt;/node&gt;
        &lt;/association&gt;
      &lt;/association-group&gt;
      &lt;association-group id=<span class="code-quote">"2"</span> capacity=<span class="code-quote">"5"</span> /&gt;
    &lt;/associations&gt;
    &lt;parameters /&gt;
    &lt;wake-up interval=<span class="code-quote">"0"</span> /&gt;
  &lt;/configuration&gt;
&lt;/node&gt;
</pre>
</div></div>

<p>Clicking the button on top of the DoorSensor, what one might call the "include button" yields the following debug output:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
DEBUG 2015-09-01 20:42:28,365 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x01]
DEBUG 2015-09-01 20:42:28,366 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x1A, 0x00, 0x49, 0x84, 0x23, 0x14]
DEBUG 2015-09-01 20:42:28,366 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x04]
DEBUG 2015-09-01 20:42:28,366 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x07, 0x01, 0x5E, 0x30, 0x80, 0x84, 0x70]
DEBUG 2015-09-01 20:42:28,367 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x85]
DEBUG 2015-09-01 20:42:28,367 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x59, 0x71, 0x86, 0x72, 0x73, 0x7A, 0x98, 0xEF, 0x5A, 0x82, 0x00, 0xF8]
DEBUG 2015-09-01 20:42:28,368 (Z-Wave): RX_Frame_Layer              : Data frame [0x01, 0x1A, 0x00, 0x49, 0x84, 0x23, 0x14, 0x04, 0x07, 0x01, 0x5E, 0x30, 0x80, 0x84, 0x70, 0x85, 0x59, 0x71, 0x86, 0x72, 0x73, 0x7A, 0x98, 0xEF, 0x5A, 0x82, 0x00, 0xF8] has been received.
DEBUG 2015-09-01 20:42:28,369 (Z-Wave): RX_Session_Layer            : 'Application Controller Update' frame [Status: UPDATE_STATE_NODE_INFO_RECEIVED, Node ID: 35, Device Classes: [Basic: BASIC_TYPE_ROUTING_SLAVE, Generic: GENERIC_TYPE_SENSOR_NOTIFICATION, Specific: SPECIFIC_TYPE_NOTIFICATION_SENSOR], Command Classes: [Supported: [COMMAND_CLASS_ZWAVEPLUS_INFO, COMMAND_CLASS_SENSOR_BINARY, COMMAND_CLASS_BATTERY, COMMAND_CLASS_WAKE_UP, COMMAND_CLASS_CONFIGURATION, COMMAND_CLASS_ASSOCIATION, COMMAND_CLASS_ASSOCIATION_GRP_INFO, COMMAND_CLASS_ALARM, COMMAND_CLASS_VERSION, COMMAND_CLASS_MANUFACTURER_SPECIFIC, COMMAND_CLASS_POWERLEVEL, COMMAND_CLASS_FIRMWARE_UPDATE_MD, COMMAND_CLASS_SECURITY], Controlled: [COMMAND_CLASS_DEVICE_RESET_LOCALLY, COMMAND_CLASS_HAIL, COMMAND_CLASS_NO_OPERATION]]] has been received.
DEBUG 2015-09-01 20:42:28,369 (Z-Wave): Controller_API_WakeUp_Queue : Node '35' : [COMMAND_CLASS_WAKEUP::WAKE_UP_NO_MORE_INFORMATION].
DEBUG 2015-09-01 20:42:28,369 (Z-Wave): Controller_API              : Enqueue (queue count=1) Z-Wave function call 'ZW_SendData(NodeID=35, Payload=[0x84, 0x08], TxOptions=[TRANSMIT_OPTION_AUTO_ROUTE, TRANSMIT_EXPLORE_OPTION_ACK], CallbackID=0x00)'.
DEBUG 2015-09-01 20:42:28,369 (Z-Wave): Controller_API              : Dequeue (queue count=0) Z-Wave function call 'ZW_SendData(NodeID=35, Payload=[0x84, 0x08], TxOptions=[TRANSMIT_OPTION_AUTO_ROUTE, TRANSMIT_EXPLORE_OPTION_ACK], CallbackID=0x00)'.
DEBUG 2015-09-01 20:42:28,370 (Z-Wave): TX_Session_Layer            : Executing Z-Wave function call 'ZW_SendData(NodeID=35, Payload=[0x84, 0x08], TxOptions=[TRANSMIT_OPTION_AUTO_ROUTE, TRANSMIT_EXPLORE_OPTION_ACK], CallbackID=0x00)'...
DEBUG 2015-09-01 20:42:28,370 (Z-Wave): TX_Session_Layer            : Send (repeat count=1) Z-Wave function 'ZW_SendData(NodeID=35, Payload=[0x84, 0x08], TxOptions=[TRANSMIT_OPTION_AUTO_ROUTE, TRANSMIT_EXPLORE_OPTION_ACK], CallbackID=0x5D)' request (callback ID=0x5D).
DEBUG 2015-09-01 20:42:28,370 (Z-Wave): TX_Frame_Layer              : Send data frame [0x01, 0x09, 0x00, 0x13, 0x23, 0x02, 0x84, 0x08, 0x05, 0x5D, 0x10].
DEBUG 2015-09-01 20:42:28,381 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x06]
DEBUG 2015-09-01 20:42:28,382 (Z-Wave): RX_Frame_Layer              : ACK -&gt; Data frame [0x01, 0x09, 0x00, 0x13, 0x23, 0x02, 0x84, 0x08, 0x05, 0x5D, 0x10] transmission OK.
DEBUG 2015-09-01 20:42:28,382 (Z-Wave): RX_Session_Layer            : ACK -&gt; Z-Wave function 'ZW_SendData(NodeID=35, Payload=[0x84, 0x08], TxOptions=[TRANSMIT_OPTION_AUTO_ROUTE, TRANSMIT_EXPLORE_OPTION_ACK], CallbackID=0x5D)' has been successfully sent - waiting 5,000 [ms] <span class="code-keyword">for</span> response frame.
DEBUG 2015-09-01 20:42:28,386 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x01]
DEBUG 2015-09-01 20:42:28,387 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x04, 0x01, 0x13, 0x01, 0xE8]
DEBUG 2015-09-01 20:42:28,387 (Z-Wave): RX_Frame_Layer              : Data frame [0x01, 0x04, 0x01, 0x13, 0x01, 0xE8] has been received.
DEBUG 2015-09-01 20:42:28,387 (Z-Wave): RX_Session_Layer            : 'ZW_SendData' response [0x01, 0x04, 0x01, 0x13, 0x01, 0xE8] with status 'RETURN_VALUE_TRUE' received (callback ID=0x5D).
DEBUG 2015-09-01 20:42:28,387 (Z-Wave): RX_Session_Layer            : Waiting 64,983 [ms] <span class="code-keyword">for</span> 'ZW_SendData' callback frame (callback ID=0x5D).
DEBUG 2015-09-01 20:42:28,402 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x01]
DEBUG 2015-09-01 20:42:28,403 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0x07, 0x00, 0x13, 0x5D, 0x00, 0x00, 0x02]
DEBUG 2015-09-01 20:42:28,403 (Z-Wave): RX_Serial_Port_RXTX         : Data bytes read : [0xB4]
DEBUG 2015-09-01 20:42:28,403 (Z-Wave): RX_Frame_Layer              : Data frame [0x01, 0x07, 0x00, 0x13, 0x5D, 0x00, 0x00, 0x02, 0xB4] has been received.
DEBUG 2015-09-01 20:42:28,404 (Z-Wave): RX_Session_Layer            : Callback [0x01, 0x07, 0x00, 0x13, 0x5D, 0x00, 0x00, 0x02, 0xB4] (callback ID=0x5D) with state 'TRANSMIT_COMPLETE_OK' received -&gt; Z-Wave function 'ZW_SendData(NodeID=35, Payload=[0x84, 0x08], TxOptions=[TRANSMIT_OPTION_AUTO_ROUTE, TRANSMIT_EXPLORE_OPTION_ACK], CallbackID=0x5D)' successfully executed.
DEBUG 2015-09-01 20:42:28,404 (Z-Wave): Controller_API_WakeUp_Queue : Node '35' : [COMMAND_CLASS_WAKEUP::WAKE_UP_NO_MORE_INFORMATION] succeeded.
</pre>
</div></div>


<p>For such a "dumb device" it sure seems to be FAR down the list of supported devices by the majority of the Community.</p>

<p>Is there anything I can add to make it's &lt;command-class id="0x30" version="1" name="COMMAND_CLASS_SENSOR_BINARY" type="supported" /&gt; to act like a simple door sensor?</p>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:32</font></td>
		    </tr>
	    </table>
    </body>
</html>