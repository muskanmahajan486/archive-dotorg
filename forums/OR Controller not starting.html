<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : OR Controller not starting</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : OR Controller not starting
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 04, 2011 by <font color="#0050B2">scalmes</font>.
				    </div>

				    <p>Hello,</p>

<p>I have tried to install OR Controller on two Windows 7 machines, but was unable to get it to start consistently (it worked once for a few minutes); what could be wrong? Here is the log:</p>

<p>PSHOT_20110611\bin&gt;openremote run<br/>
Using CATALINA_BASE:   C:\OpenRemote-Controller-2.0.0_SNAPSHOT_20110611\OpenRemo<br/>
te-Controller-2.0.0_SNAPSHOT_20110611<br/>
Using CATALINA_HOME:   C:\OpenRemote-Controller-2.0.0_SNAPSHOT_20110611\OpenRemo<br/>
te-Controller-2.0.0_SNAPSHOT_20110611<br/>
Using CATALINA_TMPDIR: C:\OpenRemote-Controller-2.0.0_SNAPSHOT_20110611\OpenRemo<br/>
te-Controller-2.0.0_SNAPSHOT_20110611\temp<br/>
Using JRE_HOME:        C:\Program Files\Java\jdk1.6.0_27<br/>
Dec 4, 2011 7:05:42 PM org.apache.catalina.core.AprLifecycleListener init<br/>
INFO: The APR based Apache Tomcat Native library which allows optimal performanc<br/>
e in production environments was not found on the java.library.path: C:\OpenRemo<br/>
te-Controller-2.0.0_SNAPSHOT_20110611\OpenRemote-Controller-2.0.0_SNAPSHOT_20110<br/>
611\webapps\controller\WEB-INF\lib\native<br/>
Dec 4, 2011 7:05:42 PM org.apache.coyote.http11.Http11Protocol init<br/>
INFO: Initializing Coyote HTTP/1.1 on http-8080<br/>
Dec 4, 2011 7:05:42 PM org.apache.catalina.startup.Catalina load<br/>
INFO: Initialization processed in 308 ms<br/>
Dec 4, 2011 7:05:43 PM org.apache.catalina.core.StandardService start<br/>
INFO: Starting service Catalina<br/>
Dec 4, 2011 7:05:43 PM org.apache.catalina.core.StandardEngine start<br/>
INFO: Starting Servlet Engine: Apache Tomcat/6.0.18<br/>
Dec 4, 2011 7:05:43 PM org.openremote.controller.bootstrap.Startup redirectJULto<br/>
Log4j<br/>
INFO: Initialized JUL to LOG4J Redirector.<br/>
Dec 4, 2011 7:05:44 PM org.apache.catalina.core.StandardContext start<br/>
SEVERE: Error listenerStart<br/>
Dec 4, 2011 7:05:44 PM org.apache.catalina.core.StandardContext start<br/>
SEVERE: Context <span class="error">&#91;/controller&#93;</span> startup failed due to previous errors<br/>
Dec 4, 2011 7:05:45 PM org.apache.coyote.http11.Http11Protocol start<br/>
INFO: Starting Coyote HTTP/1.1 on http-8080<br/>
Dec 4, 2011 7:05:45 PM org.apache.catalina.startup.Catalina start<br/>
INFO: Server startup in 2101 ms<br/>
Exception in thread "Timer-0" java.lang.NullPointerException<br/>
        at org.apache.log4j.LogManager.getLogger(LogManager.java:188)<br/>
        at org.apache.log4j.Logger.getLogger(Logger.java:103)<br/>
        at org.apache.commons.logging.impl.Log4JLogger.getLogger(Log4JLogger.jav<br/>
a:283)<br/>
        at org.apache.commons.logging.impl.Log4JLogger.debug(Log4JLogger.java:17<br/>
1)<br/>
        at org.quartz.utils.UpdateChecker.checkForUpdate(UpdateChecker.java:51)<br/>
        at org.quartz.utils.UpdateChecker.run(UpdateChecker.java:39)<br/>
        at java.util.TimerThread.mainLoop(Timer.java:512)<br/>
        at java.util.TimerThread.run(Timer.java:462)</p>


<p>Thanks,</p>

<p>Sam</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-19433991"></a>
                                    <font class="smallfont"><p>Have you tried running it with admin rights? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by fuijtdewilligen at Dec 04, 2011 19:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19433997"></a>
                                    <font class="smallfont"><p>Yes, I am administrator on both computers.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by scalmes at Dec 04, 2011 22:35
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434015"></a>
                                    <font class="smallfont"><p>I'm wondering if it's not related to missing log folders for the Log4j module.<br/>
Please, could you check if all log folders and subfolders are created?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by yannph at Dec 05, 2011 17:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434016"></a>
                                    <font class="smallfont"><p>I do have logs in the Controller 'logs' folder: catalina, controller, host-manager, localhost, .svn folder, dev folder, knx folder, onewire folder... Which one is of interest?</p>

<p>Thanks,</p>

<p>Sam</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by scalmes at Dec 05, 2011 18:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434017"></a>
                                    <font class="smallfont"><p>My thought was that it might not have the rights to write the logs. This can occur when an application is placed in for example the Program Files folder, where the application usually can't write the data (following Windows 7 policy, an application should write in the App Data folder in the user's folder). </p>

<p>If you right-click on the batch file (openremote.bat) and then choose "Run as Administrator", the application runs with admin rights, which gives it right to write to those folders.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by fuijtdewilligen at Dec 05, 2011 18:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434059"></a>
                                    <font class="smallfont"><p>I have the openremote folder on the top level of my c: drive. I tried your suggestion, I see a brief cmd window pop up and disappear immediately but OR controller still does not seem to start. Any other ideas?</p>

<p>Thanks for your help.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by scalmes at Dec 06, 2011 22:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434765"></a>
                                    <font class="smallfont"><p>Anyone allready found a solution?...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mbog at Jan 05, 2012 10:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434805"></a>
                                    <font class="smallfont"><p>No, I have not been able to make it work on my 2 Windows 7 computers. I have installed and run it successfully on an XP machine, but this is not a permanent solution for me. Any help would be appreciated.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by scalmes at Jan 07, 2012 18:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434806"></a>
                                    <font class="smallfont"><p>I have it running on my machine (for quite a while now) which is Windows 7 Home Premium. I followed the install instructions in the user guide faithfully, including the JRE installation instructions.</p>

<p>I have placed a folder in the root of the C drive and created a bat file to run on boot. </p>

<p>I don't know what I did and you haven't done though. Sorry I can't help more than that.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by shelby67 at Jan 08, 2012 05:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19434808"></a>
                                    <font class="smallfont"><p>catalina.out is of interest &#8211; the web application fails to start, which is indicated by this line on your output:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>SEVERE: Error listenerStart
SEVERE: Context [/controller] startup failed due to previous errors
</pre>
</div></div>

<p>catalina.out and/or localhost-xxx.log should have longer stack traces that indicate more about what the issue might be.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jan 08, 2012 06:24
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 11:01</font></td>
		    </tr>
	    </table>
    </body>
</html>