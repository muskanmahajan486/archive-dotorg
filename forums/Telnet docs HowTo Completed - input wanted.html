<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Telnet docs HowTo Completed - input wanted</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Telnet docs HowTo Completed - input wanted
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 28, 2011 by <font color="#0050B2">kide</font>.
				    </div>

				    <p>All,</p>

<p>The Telnet documentation for sensor readings etc. draft has been completed and i would like to get some comments on review.</p>

<p><a href="http://openremote.org/display/docs/OpenRemote+2.0+HowTo+-+Telnet+Interfaces">OpenRemote 2.0 HowTo - Telnet Interfaces</a></p>

<p>Please shoot if anything seems off</p>

<p>Ernst</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-15532913"></a>
                                    <font class="smallfont"><p>Hey Ernst,</p>

<p>Great job on the Telnet docs; it will be nice to see a complete set of similar guides for the other protocols eventually just to make it easier for the newbies to get going.</p>

<p>Rich</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Mar 10, 2011 18:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15532917"></a>
                                    <font class="smallfont"><p>Good to hear that we are getting somewhere <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Rich: if you do your socket thing like you did with telnet i'll be more than happy to document it&#33;</p>

<p>Ernst</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kide at Mar 11, 2011 10:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533090"></a>
                                    <font class="smallfont"><p>Hi</p>

<p>I have looked at the telnet Documentation and have the following question.</p>

<p>Using Telnet I want to&nbsp; sends a request to the server and the server responds.  There are no client messages sent to the server that do not generate a reply from the server. These messages confirm</p>

<p>that the message has been received corectly and that the command has been caried out. In the case of an "ON" command the return message confirmes that the switch has been turned on.</p>

<p>In the Documentation you show 2 methods for receiving Status Feedback. I would presume that</p>

<p>the return response from the server should use one of thes methods.</p>

<p>Do I have to send a request status command after I send an on command?</p>

<p>Pierce</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pjmm at Mar 18, 2011 16:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533092"></a>
                                    <font class="smallfont"><p>My two corrections have not been done.<br/>
There is at least one more typo-spelling error.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by filipc at Mar 18, 2011 17:35
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533098"></a>
                                    <font class="smallfont"><p>Hi Pierce,</p>

<p>I think i get the picture here let me draw a sitation and tell me if this is correct</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">set volume 50%
volume set to 50% &lt;--------- This would be your feedback directly
</pre>
</div></div>
<p>So there is no way to request what the value of "volume" is without issuing a command?</p>

<p>Could you explain your application why and how you would want to use this?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kide at Mar 19, 2011 07:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533101"></a>
                                    <font class="smallfont"><p>thank you for pointing out the typo's, they have been corrected.&nbsp; </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kide at Mar 19, 2011 07:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533106"></a>
                                    <font class="smallfont"><p>Hi Ernst</p>


<p>I currently use  Home Control Assistant (HCA) which is a Windows based home automation program</p>

<p>this program has an interface which works over Telnet/TCPIP.</p>

<p>All communication is in text format over a standard IP connection the first message you need to send is</p>

<p>HCA0002010000001 the HCA server validates this message and send back HCA0102010000001.</p>

<p>If the HCA server has a problem with the message bit 4 will be 1 instead of 0.</p>

<p>Once the connection has been successful you can then start sending commands to HCA which are in the following format all messages receive a reply from the server</p>

<p>Client sends</p>


<p>&lt;!-- 		@page <div class="error"><span class="error">Unknown macro: { margin}</span> </div> 		P <div class="error"><span class="error">Unknown macro: { margin-bottom}</span> </div> 	--&gt;</p>

<p>&lt;preamble&gt;&lt;4 spaces&gt;&lt;data&gt;</p>



<p>The preamble tels HCA the length and number of parameters in the message</p>

<p>003700550076007700780079&nbsp;&nbsp;&nbsp; HCAObjectDevice.RockerPressBedroom - Bath Lights000</p>

<p>Each command sent to the server generates a reply.  This could be a short error if the command can't be processed because of the format etc,</p>

<p>0012    &#45;100</p>

<p>(there are 5 different types of errors represented by &#45;100.-102,-103,-104  and &#45;105)</p>

<p>or if the message can be processed, then the server returns:</p>


<p>An example:</p>

<p>0 HCAObject HCADevice.RockerPress 0</p>

<p>This is the return message reporting that the command worked.</p>

<p>If the command did not work it would not start with a "0"</p>

<p>This is how I would like to&nbsp; use OpenRemote using Telnet to comunicate.</p>

<p>Any help you can give me would be appriciated.</p>

<p>One other question when I make a telnet connection to HCA Openremote closes it after sending a command How do I keep the connrction Active?</p>

<p>Pierce</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pjmm at Mar 19, 2011 13:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533120"></a>
                                    <font class="smallfont"><p>Hi</p>

<p>I have tried to use the telnet function trying to connect to 2 different applications.</p>

<p>I can conect and send one command the telnet sesion then disconects I can reconect</p>

<p>again and send one command.</p>

<p>I tested on 2 different aplications which use telnet and the both disconect after sending the command from</p>

<p>OpenRemote.</p>

<p>I tested both aplications using Putty and both work without disconecting.</p>

<p>Any Help would be appriciated</p>

<p>Pierce</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pjmm at Mar 20, 2011 19:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533121"></a>
                                    <font class="smallfont"><p>Pierce,</p>

<p>That is the way OpenRemote works at present; it connects -&gt; send/read command -&gt; and disconnects.</p>

<p>I have developed a Connection Manager for OpenRemote that allows a permanent connection to be made but this isn't in the main trunk as of yet and is still in development.</p>

<p>Do you need the connection to stay alive for your application?</p>

<p>Rich</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Mar 20, 2011 20:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533122"></a>
                                    <font class="smallfont"><p>Hi Rich</p>

<p>yes i need the conection to stay open.</p>

<p>Is it possable to get a copy of your development</p>


<p>If you look at my post above you will see what I am trying to do</p>

<p>Pierce</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pjmm at Mar 20, 2011 20:23
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533124"></a>
                                    <font class="smallfont"><p>There are quite a few differences in how my branch works from the current controller, you need to manually change the controller.xml, which would need some explanation/documentation that I haven't yet written. The details of how/if my code makes it into the main branch need to be ironed out with Juha.</p>

<p>Hopefully over the next few weeks a more usable version of my branch will become available for you to try out.</p>

<p>I will keep you posted.</p>

<p>Rich</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Mar 20, 2011 21:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533125"></a>
                                    <font class="smallfont"><p>Hi Rich</p>

<p>many thanks for that info I look forward to receiving your update when it is available</p>

<p>Pierce</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pjmm at Mar 20, 2011 21:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-15533261"></a>
                                    <font class="smallfont"><p>Pierce,</p>

<p>If you still have a need for a permanent connection to your telnet server then I have a made my connection manager branch available and you shouldn't have to make any changes to the controller.xml (unless you want to); have a look at this post I have written: -</p>

<p><a href="http://openremote.org/display/forums/Connection+Manager+Code+Branch">http://openremote.org/display/forums/Connection+Manager+Code+Branch</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Mar 27, 2011 23:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-16023947"></a>
                                    <font class="smallfont"><p>Hi Richard</p>

<p>have you any update on when your code will make it into the main branch</p>

<p>Pierce</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pjmm at Apr 18, 2011 21:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-16023948"></a>
                                    <font class="smallfont"><p>Hi Pierce,</p>

<p>I'm a bit out of the loop as to what the plans are with Open Remote and last I heard from Juha he was doing some heavy changes to the controller model and I can't really work on code until I know what the state of play is.</p>

<p>The work I have done was simply to help me get Open Remote working for my requirements and there's still lots to be done, just need to make sure everyone is pulling in the same direction.</p>

<p>I don't know what the next major release of Open Remote has in store but there is talk of event handling and scripting (I have implemented a basic form of command scripting into my branch but a more general solution is needed)....Like any open source project, communication is key, maybe Juha would be willing to put a road map on the forums....</p>

<p>In the meantime if you have a particular requirement that my code can help with then I'd be happy to help you with that; my code now supports HTTP (GET and POST requests), UDP and of course telnet.</p>

<p>Rich</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Apr 18, 2011 21:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-16023949"></a>
                                    <font class="smallfont"><p>Hi Richard</p>

<p>mamy thanks for your prompt responce. I note from your post that your code supports  HTTP get requests.<br/>
Is it possable that your code can talk to Yamaha RX-V3900 over TCPIP.</p>

<p>It would realy help if this was the case. <br/>
If you Google "RX-V3900_Z7_ETHERNET_IF_Spec_e_1.0" you can download the documentation</p>

<p>Regards </p>

<p>Pierce</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pjmm at Apr 18, 2011 22:14
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:32</font></td>
		    </tr>
	    </table>
    </body>
</html>