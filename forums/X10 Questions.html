<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : X10 Questions</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : X10 Questions
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 03, 2014 by <font color="#0050B2">lee3521</font>.
				    </div>

				    <p>I am attempting to get a CM11A X10 transcever working with OR 2.0 running on ubuntu server 12.40 64 bit.  I have used OR designer and assigned an On and an Off command to the device.  I have created a panel with two buttons (One for On, and one for Off)  I have verified my com.port is set to /dev/ttyS4.  I have also successfully tested communications between the PC and the CM11A device using a cm11A_test script that watches for the time sync commands from the CM11A device.  When I first start the OpenRemote Controller, everything appears normal in the logs, however, when I try to send a command using the buttons I created in designer, I get an error telling me to check my log files.  I have pasted my dev.log file below.  Can anyone tell me how to begin to troubleshoot this?  I have tried both the 64bit and the 32bit versions of the JDK.  Also I plan on getting a Z-wave stick soon, but I just wanted to use my existing pile of X10 devices to get a feel for the OR interface.</p>

<p>Log File:--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>2014-03-02 20:55:32,284 INFO main: No rule definitions found in '/opt/OpenRemote-Controller/webapps/controller/rules'.<br/>
2014-03-02 20:55:32,284 INFO main: Initialized event processor : Drools Rule Engine<br/>
2014-03-02 20:55:32,490 INFO main: Initialized event processor : RRD4J Data Logger<br/>
2014-03-02 20:55:32,490 INFO main: Initialized event processor : EmonCMS Data Logger<br/>
2014-03-02 20:55:32,492 INFO main: Startup complete.<br/>
2014-03-02 20:55:32,492 INFO main: Controller Definition File Watcher for Default Deployer started.<br/>
2014-03-02 20:56:21,186 WARN HTTP\-Thread\-1: Unknown X10 property '&lt;property name = "name" value = "on"/&gt;'.<br/>
2014-03-02 20:56:21,325 ERROR HTTP\-Thread\-1: Error in handling REST API response: /opt/OpenRemote-Controller/webapps/controller/WEB-INF/lib/native/librxtxSerial.so: /opt/OpenRemote-Controller/webapps/controller/WEB-INF/lib/native/librxtxSerial.so: wrong ELF class: ELFCLASS32 (Possible cause: architecture word width mismatch)<br/>
java.lang.UnsatisfiedLinkError: /opt/OpenRemote-Controller/webapps/controller/WEB-INF/lib/native/librxtxSerial.so: /opt/OpenRemote-Controller/webapps/controller/WEB-INF/lib/native/librxtxSerial.so: wrong ELF class: ELFCLASS32 (Possible cause: architecture word width mismatch)<br/>
	at java.lang.ClassLoader$NativeLibrary.load(Native Method)<br/>
	at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1778)<br/>
	at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1703)<br/>
	at java.lang.Runtime.loadLibrary0(Runtime.java:844)<br/>
	at java.lang.System.loadLibrary(System.java:1051)<br/>
	at gnu.io.CommPortIdentifier.&lt;clinit&gt;(CommPortIdentifier.java:123)<br/>
	at com.jpeterson.x10.module.CM11A.allocate(CM11A.java:1180)<br/>
	at org.openremote.controller.protocol.x10.X10ControllerManager$SerialX10Controller.send(X10ControllerManager.java:174)<br/>
	at org.openremote.controller.protocol.x10.X10Command.send(X10Command.java:77)<br/>
	at org.openremote.controller.service.impl.ControlCommandServiceImpl.trigger(ControlCommandServiceImpl.java:95)<br/>
	at org.openremote.controller.rest.ControlCommandRESTServlet.handleRequest(ControlCommandRESTServlet.java:77)<br/>
	at org.openremote.controller.rest.RESTAPI.doPost(RESTAPI.java:159)<br/>
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)<br/>
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.openremote.controller.rest.support.json.JSONCallbackFilter.doFilter(JSONCallbackFilter.java:63)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:78)<br/>
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:77)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)<br/>
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)<br/>
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)<br/>
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)<br/>
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)<br/>
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)<br/>
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)<br/>
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)<br/>
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)<br/>
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)<br/>
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:354)<br/>
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)<br/>
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)<br/>
	at java.lang.Thread.run(Thread.java:701)</p>

<p>Any help would be GREATLY appreciated.</p>

<p>Lee</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22884985"></a>
                                    <font class="smallfont"><p>Just figured it out!!  If anyone else happens to have this same problem, it appears that the version of librxtxSerial.so that installed with OpenRemote was a 32 bit version and didn't play nice with ubuntu server 12.04 64 bit.  The fix was to replace the 32 bit version of librxtxSerial.so with the 64 bit version by getting the libs via "apt-get install librxtx-java" and copying the new 64 bit version of librxtxSerial.so from /usr/lib/jni/ to /opt/OpenRemote-Controller/webapps/controller/WEB-INF/lib/native/ (If you installed OpenRemote in /opt)</p>

<p>Hope this helps someone else, as it has been beating me down all day.</p>

<p>Lee</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by lee3521 at Mar 03, 2014 03:14
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:39</font></td>
		    </tr>
	    </table>
    </body>
</html>