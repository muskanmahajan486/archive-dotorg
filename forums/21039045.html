<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Send Login and Password via OpenRemote generic TCP IP protocol?</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Send Login and Password via OpenRemote generic TCP IP protocol?
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 24, 2012 by <font color="#0050B2">yoggi</font>.
				    </div>

				    <p>Hi OpenRemote forum,</p>

<p>I am trying to send power on and power off commands to my Sharp TV (LC-46LE831S has IP control) but first I must log in to the TV. I found no way of sending this information when creating "New command" in OpenRemote Designer.</p>

<p>It appears that sending commands from buttons tied to commands(via the TCP/IP protocol) works as I can see them using Wireshark (and thy look correct, with the correct padding etc.).</p>

<p>From PuTTY if I send IP address and port (eg. 192.168.1.95 10002) to the TV it asks for Login: and after entering login info and hitting return it asks for password.</p>

<p>After this I can send commands like 'POWR1   ' and 'POWR0   ' from PuTTYs command line. It works the way it should. I tried to log-in using PuTTY and then use Openremote to send on or off commands but this doesn't work since only one connection can be made to the TV at one time (port 10002 in my case).</p>

<p>My question;<br/>
Is there a way of building a string with commands (Sharps) and control characters like CR etc. (that waits for log-in, sends log-in word then waits for password and the sends password)?</p>

<p>Or is my only chance build my own protocol (which I intend to when I have acquired enough skills to do so)?</p>

<p>I would appreciate any pointers you might have on this subject!</p>

<p>Joachim</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-21039089"></a>
                                    <font class="smallfont"><p>You can try the telnet protocol: <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Telnet+Interfaces">http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Telnet+Interfaces</a><br/>
That allows to look for a prompt and send a response.<br/>
The prompt in your case would be something like "login:" and "password:".<br/>
See here: <a href="http://www.openremote.org/display/forums/Openremote+Telnet+protocol+user+pwd">http://www.openremote.org/display/forums/Openremote+Telnet+protocol+user+pwd</a><br/>
or here: <a href="http://www.openremote.org/display/forums/telenet+user">http://www.openremote.org/display/forums/telenet+user</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Dec 26, 2012 20:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21039154"></a>
                                    <font class="smallfont"><p>Marcus, Thanks for replying!</p>

<p>I could't get telnet to work, neither from PuTTY or OpenRemote. After entering login info at the Login: prompt it just ran past the password entry. Answering Login or Password mismatch, connection closed.</p>

<p>What I found is that I don't need to login to the TV if I leave the Login ID and Password fields empty on the TV (Menu; Setup -&gt; Network setup -&gt; IP Control setup). So now I can conntrol my Sharp TV using raw TCP/IP <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by yoggi at Dec 28, 2012 19:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21039155"></a>
                                    <font class="smallfont"><p>Great, thanks for the info.<br/>
Another device successfully integrated <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Dec 28, 2012 19:16
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:45</font></td>
		    </tr>
	    </table>
    </body>
</html>