<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Difficulty with first install</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Difficulty with first install
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 06, 2010 by <font color="#0050B2">jon_sutton</font>.
				    </div>

				    <p>Hi,</p>

<p>I now have my server set up and running, my com port configured (I think) and a new Iphone...</p>

<p>I'm getting error messages when I try to send x10 button commands:</p>

<p>'Error in controller - invalid controller.xml Please check controller log for errors'</p>

<p>the log reveals:</p>

<p>&lt;paste&gt;</p>


<p>2010-02-06 16:48:15,453 ERROR [HTTP-Thread-3] org.openremote.controller.rest.ButtonCommandRESTServlet.doPost(92) &#124; ButtonCommandException occurs<br/>
org.openremote.controller.exception.InvalidControllerXMLException: check the version of schema or structure of controller.xml with /controller-1.0.xsd<br/>
&lt;/paste&gt;</p>

<p>I've looked at the xsd file, but I don't know what I'm looking for &lt;<img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Has the format been changed since I downloaded my installation?</p>

<p>How do I update the xsd?</p>

<p>Regards,</p>

<p>&nbsp; Jon</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-9601037"></a>
                                    <font class="smallfont"><p>Can you please do a copy &amp; paste of your controller.xml file here and will take a look at it.</p>

<p>Thanks.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 06, 2010 17:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-9601038"></a>
                                    <font class="smallfont"><p>Hi Juha,</p>

<p>Controller.xml:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml">
<span class="code-tag">&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span> ?&gt;</span> 
&lt;openremote xmlns=<span class="code-quote">"http://www.openremote.org"</span> 
<span class="code-keyword">xmlns:xsi</span>=<span class="code-quote">"http://www.w3.org/2001/XMLSchema-instance"</span> xsi:schemaLocation="http://www.openremote.org  
http://www.openremote.org/schemas/controller-1.0-M3.xsd"&gt;
<span class="code-tag">&lt;buttons&gt;</span>
<span class="code-tag">&lt;button id=<span class="code-quote">"6"</span>&gt;</span>
<span class="code-tag">&lt;event&gt;</span>4<span class="code-tag">&lt;/event&gt;</span>
<span class="code-tag">&lt;/button&gt;</span>
 <span class="code-tag">&lt;button id=<span class="code-quote">"7"</span>&gt;</span>
<span class="code-tag">&lt;event&gt;</span>5<span class="code-tag">&lt;/event&gt;</span>
<span class="code-tag">&lt;/button&gt;</span>
 <span class="code-tag">&lt;button id=<span class="code-quote">"8"</span>&gt;</span>
<span class="code-tag">&lt;event&gt;</span>2<span class="code-tag">&lt;/event&gt;</span>
<span class="code-tag">&lt;/button&gt;</span>
<span class="code-tag">&lt;button id=<span class="code-quote">"9"</span>&gt;</span>
<span class="code-tag">&lt;event&gt;</span>3<span class="code-tag">&lt;/event&gt;</span>
<span class="code-tag">&lt;/button&gt;</span>
<span class="code-tag">&lt;/buttons&gt;</span>
 <span class="code-tag">&lt;events&gt;</span>
<span class="code-tag">&lt;irEvents /&gt;</span>
<span class="code-tag">&lt;knxEvents /&gt;</span> 
<span class="code-tag">&lt;x10Events&gt;</span>
<span class="code-tag">&lt;x10Event id=<span class="code-quote">"5"</span> label=<span class="code-quote">"Lamp Off"</span> address=<span class="code-quote">"A2"</span> command=<span class="code-quote">"off"</span> /&gt;</span>
<span class="code-tag">&lt;x10Event id=<span class="code-quote">"4"</span> label=<span class="code-quote">"Lamp On"</span> address=<span class="code-quote">"A2"</span> command=<span class="code-quote">"on"</span> /&gt;</span>
<span class="code-tag">&lt;x10Event id=<span class="code-quote">"3"</span> label=<span class="code-quote">"Light Off"</span> address=<span class="code-quote">"A1"</span> command=<span class="code-quote">"off"</span> /&gt;</span>
<span class="code-tag">&lt;x10Event id=<span class="code-quote">"2"</span> label=<span class="code-quote">"Light On"</span> address=<span class="code-quote">"A1"</span> command=<span class="code-quote">"on"</span> /&gt;</span>
<span class="code-tag">&lt;/x10Events&gt;</span>
<span class="code-tag">&lt;httpEvents /&gt;</span>
<span class="code-tag">&lt;socketEvents /&gt;</span>
<span class="code-tag">&lt;telnetEvents /&gt;</span>
<span class="code-tag">&lt;/events&gt;</span>
&lt;/openremote
</pre>
</div></div>

<p>Cheers,</p>

<p>JS</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jon_sutton at Feb 06, 2010 17:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-9601059"></a>
                                    <font class="smallfont"><p>Sorry for the delay in responding.</p>

<p>The XML looks fine. I was able to reproduce the same error message on WinXP when the controller is installed to a path with spaces in the name (such as 'Documents and Settings' directory leading to your desktop).</p>

<p>Any chance this is the case for you as well?</p>

<p>The root cause is the XML schema path is not being decoded correctly.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Feb 09, 2010 15:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-9601157"></a>
                                    <font class="smallfont"><p>Thanks Juha,</p>

<p>And sorry for the delay from me too - I Have been away from the PC for a while...</p>

<p>Yes, I had installed it into 'c:\program files\'</p>

<p>I've now moved it and that error has gone away.</p>

<p>I now seem to be getting com port in use errors. I'll look into that one.</p>

<p>Thanks,</p>

<p>&nbsp;&nbsp; Jon</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jon_sutton at Mar 01, 2010 14:46
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:47</font></td>
		    </tr>
	    </table>
    </body>
</html>