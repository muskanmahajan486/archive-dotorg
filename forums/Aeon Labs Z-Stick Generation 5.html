<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Aeon Labs Z-Stick Generation 5</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Aeon Labs Z-Stick Generation 5
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Nov 05, 2015 by <font color="#0050B2">woter324</font>.
				    </div>

				    <p>Hi,</p>

<p>Not wanting to buy old hardware, does anyone know if the new Gen 5 z-stick will work with openRemote?</p>

<p>If it has any bearing, it uses <span class="error">&#91;UZB|aeotec.com/z-wave-usb-stick/1358-z-wave-drivers.html&#93;</span> drivers.</p>

<p>Thanks</p>

<p>W.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23602042"></a>
                                    <font class="smallfont"><p>Yes, works with new Z-Wave 2 stack at least.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Nov 06, 2015 16:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602923"></a>
                                    <font class="smallfont"><p>Just added Aeon Z-Stick Gen 5 to my OR 1.4 installation.<br/>
Download zwave.jar file that can be found on the Z-Wave 2.0 forums thread and replaced the dummy file that came with 1.4 zip file.<br/>
How can I tell that the stick is working with OR?<br/>
In zwave.log this is written out to the log during start:</p>

<p>INFO 2015-12-31 11:51:21,084 (Z-Wave): </p>

<p>--------------------------------------------------------------------</p>

<p>  OpenRemote Z-Wave protocol version : '2.0.0'</p>

<p>--------------------------------------------------------------------</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gw400 at Dec 31, 2015 10:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602984"></a>
                                    <font class="smallfont"><p>Is there any information in the Z-Wave specific log file ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jan 04, 2016 13:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23602989"></a>
                                    <font class="smallfont"><p>Hi,<br/>
Unfortunately not. The zwave.log file contains only entries shown at the end of my previous post.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gw400 at Jan 04, 2016 16:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23603006"></a>
                                    <font class="smallfont"><p>Z-Stick is using UZB driver on Windows 10<br/>
I have gone through Inclusion and Excluding mode with the stick detached from computer. LED confirms successful inclusion.<br/>
When inserting the stick into the USB port I can see that the stick is mounted on COM5.</p>

<p>In Professional Designer z-wave device config:<br/>
zwave.comPort = COM5<br/>
zwave.commLayer = RTX<br/>
protocol.zwave.classname = org.openremote.controller.protocol.zwave.ZWaveCommandBuilder</p>

<p>In Controller Management the correct MAC address is linked to my account.<br/>
I have synchronized with Online Designer many times. No errors in boot.log.</p>

<p>z-wave.log does ONLY show entries similar to this:</p>

<p>INFO 2016-01-05 16:17:58,262 (Z-Wave): </p>

<p>--------------------------------------------------------------------</p>

<p>  OpenRemote Z-Wave protocol version : '2.0.0'</p>

<p>--------------------------------------------------------------------</p>

<p>Nothing else is logged.</p>

<p>Any suggestions about what can be wrong?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gw400 at Jan 05, 2016 15:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23603010"></a>
                                    <font class="smallfont"><p>Try the Free version. I've been down this path too and only the Free version works for me, with the same symptoms for my Pro purchase. (On a Mac Mini.)</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by c.steele at Jan 06, 2016 02:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23603013"></a>
                                    <font class="smallfont"><p>The Z-Wave protocol is currently not initialized if there is no Z-Wave command or more precisely no sensor with a linked Z-Wave command. You could add the following Z-Wave command in OpenRemote Designer and in addition a related switch sensor in order to trigger the initialization of the Z-Wave interface.</p>

<p>Protocol: Z-Wave<br/>
Command: INCLUSION_MODE_STATUS<br/>
Z-Wave nodeID: 1 </p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rhitz at Jan 06, 2016 08:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23607167"></a>
                                    <font class="smallfont"><p>hi </p>

<p>i am having trouble with the Zstick Gen 5. When i use it with Homegenie (on this same ubuntu computer) it seems to recognize the port and z-stick and get messages back from my garage door sensor. log files show the following error</p>

<p>INFO 2016-06-02 11:28:14,527 (Z-Wave): </p>

<p>--------------------------------------------------------------------</p>

<p>  OpenRemote Z-Wave protocol version : '2.0.0'</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2016-06-02 11:28:14,690 (Z-Wave):  Serial_Port                 : Opening the serial port <span class="error">&#91;COM port: /dev/ttyACM0, Communication Layer: RXTX&#93;</span>...<br/>
ERROR 2016-06-02 11:28:14,707 (Z-Wave): Serial_Port_RXTX            : Failed to configure the serial port <span class="error">&#91;Name: &#39;/dev/ttyACM0&#39;, Communication Layer: RXTX&#93;</span> because it does not exist.<br/>
ERROR 2016-06-02 11:28:14,708 (Z-Wave): Serial_Port                 : Failed to open the serial port <span class="error">&#91;COM port: /dev/ttyACM0, Communication Layer: RXTX&#93;</span>.</p>

<p>INFO 2016-06-02 11:28:14,527 (Z-Wave): </p>

<p>--------------------------------------------------------------------</p>

<p>  OpenRemote Z-Wave protocol version : '2.0.0'</p>

<p>--------------------------------------------------------------------</p>

<p>DEBUG 2016-06-02 11:28:14,654 (Z-Wave): Connection_Manager          : Adding shutdown hook to manage unclosed Z-Wave connections in case of controller exit.<br/>
INFO 2016-06-02 11:28:14,690 (Z-Wave):  Serial_Port                 : Opening the serial port <span class="error">&#91;COM port: /dev/ttyACM0, Communication Layer: RXTX&#93;</span>...<br/>
ERROR 2016-06-02 11:28:14,707 (Z-Wave): Serial_Port_RXTX            : Failed to configure the serial port <span class="error">&#91;Name: &#39;/dev/ttyACM0&#39;, Communication Layer: RXTX&#93;</span> because it does not exist.<br/>
ERROR 2016-06-02 11:28:14,708 (Z-Wave): Serial_Port                 : Failed to open the serial port <span class="error">&#91;COM port: /dev/ttyACM0, Communication Layer: RXTX&#93;</span>.<br/>
DEBUG 2016-06-02 11:28:14,708 (Z-Wave): Command_Builder             : Building Z-Wave command<br/>
DEBUG 2016-06-02 11:28:14,709 (Z-Wave): Command_Builder             : Z-Wave command: nodeId = '1', endPoint = '1'<br/>
DEBUG 2016-06-02 11:28:14,709 (Z-Wave): Command_Builder             : Z-Wave command: command =  INCLUSION_MODE_STATUS<br/>
DEBUG 2016-06-02 11:37:47,019 (Z-Wave): Command_Builder             : Building Z-Wave command<br/>
DEBUG 2016-06-02 11:37:47,020 (Z-Wave): Command_Builder             : Z-Wave command: nodeId = '1', endPoint = '1'<br/>
DEBUG 2016-06-02 11:37:47,020 (Z-Wave): Command_Builder             : Z-Wave command: command =  INCLUSION_MODE_STATUS</p>


<p>further in the terminal window log, it shows the following:<br/>
DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>INFO 2016-06-02 11:37:47,011 : No rule definitions found in '/home/s/openremote/OpenRemote-Controller-2.1.0/webapps/controller/rules'.<br/>
INFO 2016-06-02 11:37:47,011 : Initialized event processor : Drools Rule Engine<br/>
INFO 2016-06-02 11:37:47,017 : Initialized event processor : RRD4J Data Logger<br/>
INFO 2016-06-02 11:37:47,017 : Initialized event processor : EmonCMS Data Logger<br/>
ERROR 2016-06-02 11:37:47,020 : Creating sensor failed. Error : The node '1' is not known by the Z-Wave controller <br/>
 XML Element : &lt;sensor xmlns="http://www.openremote.org" id="107972992" name="garage" type="switch"&gt;<br/>
      &lt;include type="command" ref="17" /&gt;<br/>
      &lt;state name="on" /&gt;<br/>
      &lt;state name="off" /&gt;<br/>
    &lt;/sensor&gt;<br/>
org.openremote.controller.exception.NoSuchCommandException: The node '1' is not known by the Z-Wave controller<br/>
	at org.openremote.controller.protocol.zwave.ZWaveCommandBuilder.build(ZWaveCommandBuilder.java:207)<br/>
	at org.openremote.controller.command.CommandFactory.getCommand(CommandFactory.java:164)<br/>
	at org.openremote.controller.model.xml.Version20SensorBuilder.parseSensorEventProducer(Version20SensorBuilder.java:420)<br/>
	at org.openremote.controller.model.xml.Version20SensorBuilder.build(Version20SensorBuilder.java:287)<br/>
	at org.openremote.controller.deployer.Version20ModelBuilder.buildSensorObjectModelFromXML(Version20ModelBuilder.java:817)<br/>
	at org.openremote.controller.deployer.Version20ModelBuilder.buildSensorModel(Version20ModelBuilder.java:663)<br/>
	at org.openremote.controller.deployer.Version20ModelBuilder.build(Version20ModelBuilder.java:557)<br/>
	at org.openremote.controller.deployer.AbstractModelBuilder.buildModel(AbstractModelBuilder.java:154)<br/>
	at org.openremote.controller.service.Deployer.startup(Deployer.java:872)<br/>
	at org.openremote.controller.service.Deployer.softRestart(Deployer.java:454)<br/>
	at org.openremote.controller.service.Deployer$ControllerDefinitionWatch.run(Deployer.java:1411)<br/>
	at java.lang.Thread.run(Thread.java:745)<br/>
ERROR Controller Definition File Watcher for Default Deployer: Creating sensor failed. Error : The node '1' is not known by the Z-Wave controller <br/>
 XML Element : &lt;sensor xmlns="http://www.openremote.org" id="107972992" name="garage" type="switch"&gt;<br/>
      &lt;include type="command" ref="17" /&gt;<br/>
      &lt;state name="on" /&gt;<br/>
      &lt;state name="off" /&gt;<br/>
    &lt;/sensor&gt;<br/>
org.openremote.controller.exception.NoSuchCommandException: The node '1' is not known by the Z-Wave controller<br/>
	at org.openremote.controller.protocol.zwave.ZWaveCommandBuilder.build(ZWaveCommandBuilder.java:207)<br/>
	at org.openremote.controller.command.CommandFactory.getCommand(CommandFactory.java:164)<br/>
	at org.openremote.controller.model.xml.Version20SensorBuilder.parseSensorEventProducer(Version20SensorBuilder.java:420)<br/>
	at org.openremote.controller.model.xml.Version20SensorBuilder.build(Version20SensorBuilder.java:287)<br/>
	at org.openremote.controller.deployer.Version20ModelBuilder.buildSensorObjectModelFromXML(Version20ModelBuilder.java:817)<br/>
	at org.openremote.controller.deployer.Version20ModelBuilder.buildSensorModel(Version20ModelBuilder.java:663)<br/>
	at org.openremote.controller.deployer.Version20ModelBuilder.build(Version20ModelBuilder.java:557)<br/>
	at org.openremote.controller.deployer.AbstractModelBuilder.buildModel(AbstractModelBuilder.java:154)<br/>
	at org.openremote.controller.service.Deployer.startup(Deployer.java:872)<br/>
	at org.openremote.controller.service.Deployer.softRestart(Deployer.java:454)<br/>
	at org.openremote.controller.service.Deployer$ControllerDefinitionWatch.run(Deployer.java:1411)<br/>
	at java.lang.Thread.run(Thread.java:745)<br/>
INFO 2016-06-02 11:37:47,021 : Startup complete.<br/>
ERROR HTTP\-Thread\-3: Requested sensor id '107,972,992' was not found. Defaulting to 'N/A'.<br/>
ERROR HTTP\-Thread\-3: Requested sensor id '107,972,992' was not found. Defaulting to 'N/A'.<br/>
ERROR HTTP\-Thread\-4: Requested sensor id '107,972,992' was not found. Defaulting to 'N/A'.<br/>
ERROR HTTP\-Thread\-4: Requested sensor id '107,972,992' was not found. Defaulting to 'N/A'.<br/>
ERROR HTTP\-Thread\-2: Requested sensor id '107,972,992' was not found. Defaulting to 'N/A'.<br/>
ERROR HTTP\-Thread\-2: Requested sensor id '107,972,992' was not found. Defaulting to 'N/A'.<br/>
ERROR HTTP\-Thread\-5: Requested sensor id '107,972,992' was not found. Defaulting to 'N/A'.<br/>
ERROR HTTP\-Thread\-5: Requested sensor id '107,972,992' was not found. Defaulting to 'N/A'.</p>


<p>output from the dmesg on terminal shows<br/>
12128.392322 usb 6-2: new full-speed USB device number 3 using uhci_hcd<br/>
12128.558415 usb 6-2: New USB device found, idVendor=0658, idProduct=0200<br/>
12128.558427 usb 6-2: New USB device strings: Mfr=0, Product=0, SerialNumber=0<br/>
12128.561482 cdc_acm 6-2:1.0: This device cannot do calls on its own. It is not a modem.<br/>
12128.561538 cdc_acm 6-2:1.0: ttyACM0: USB ACM device</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desktopspecialist at Jun 02, 2016 16:53
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:32</font></td>
		    </tr>
	    </table>
    </body>
</html>