<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : i o Modules That work well with Openremote</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : i o Modules That work well with Openremote
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 30, 2013 by <font color="#0050B2">drewscm</font>.
				    </div>

				    <p>I am looking for input on general I/O modules that work well with open remote. I like the modbus and bacnet modules but I know they are not native to open remote. What have you guys used for general purpose I/O??</p>

<p>Thanks</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22879125/23036228.png">product56.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22879395"></a>
                                    <font class="smallfont"><p>if you are looking for simple status devices or relay boards, have a look to the ADAM interfaces from Advantech on</p>

<p><a href="http://www.advantech.com.tw/ia/popcorn/eDM/2013/ADAM-6200/index.html">http://www.advantech.com.tw/ia/popcorn/eDM/2013/ADAM-6200/index.html</a></p>

<p>Those devices you can control via TCP/IP commands.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hennemarc at Nov 04, 2013 20:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879398"></a>
                                    <font class="smallfont"><p>Also you may want to check with the original authors of this thread if they have feedback: <a href="Ethernet Controller IO Board - Hard wired devices.html" title="Ethernet Controller IO Board - Hard wired devices">Ethernet Controller IO Board &#45; Hard wired devices</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Nov 04, 2013 20:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879416"></a>
                                    <font class="smallfont"><p>I use a custom RF module communicating with PC via USB. The USB communication uses serial protocol through FTDI drivers.<a class="confluence-thumbnail-link 500x650" href='http://www.openremote.org/download/attachments/22879125/product56.png'><img src="attachments/thumbnails/22879125/23036228" align="absmiddle" border="0"/></a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by atamariya at Nov 05, 2013 04:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882571"></a>
                                    <font class="smallfont"><p>Have you done any work with the Adam-6000 units? I've been trying to figure out how to integrate with openremote</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Jan 11, 2014 04:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882662"></a>
                                    <font class="smallfont"><p>Hi Scott,</p>

<p>yes, I did. Have a look on the manual of an ADAM Interface:</p>

<p><a href="http://advantech.vo.llnwd.net/o35/ProductFile/1-NXTDWV/ADAM-6200%20Series%20User%20Manual%20Ed.1.pdf">http://advantech.vo.llnwd.net/o35/ProductFile/1-NXTDWV/ADAM-6200%20Series%20User%20Manual%20Ed.1.pdf</a></p>

<p>In section B1 "ASCII Commands for ADAM-6200 modules" (page 148) there is a description how to communicate with ASCII commands to the ADAM module.</p>

<p>An example is this:</p>

<p>Create a TCP command in OR with the following command: $01M (fyi, '01' is the address of the ADAM interface.<br/>
Next create a sensor with that command and the OR response will be "!016250".<br/>
This string is the default module name.</p>

<p>All other commands are done in the same way.</p>

<p>Marc</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hennemarc at Jan 12, 2014 18:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882664"></a>
                                    <font class="smallfont"><p>hi anand I am looking for a low cost RF or wireless actuator that works with OR - where did you find that one?  What is the range like?</p>

<p>Regards</p>

<p>Julian</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Jan 12, 2014 19:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882665"></a>
                                    <font class="smallfont"><p>hi anand I am looking for a low cost RF or wireless actuator that works with OR - where did you find that one?  What is the range like?</p>

<p>Regards</p>

<p>Julian</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Jan 12, 2014 19:02
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882676"></a>
                                    <font class="smallfont"><p>Hi Julian, I got it custom built from a local manufacturer in Bangalore, India. You can find more details <a href="http://www.forbixindia.com/hace.html">here</a>. I've personally tested it for close to 50m range.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by atamariya at Jan 13, 2014 04:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882967"></a>
                                    <font class="smallfont"><p>Marc</p>

<p>I cannot seem to get this to work. Which port do the Adams use for The commands? I've tried using both. </p>

<p>Is there a command to read the status of one Digital Out status (on/off)?</p>


<p>I don't know why I can't get this figured out, frustrating because I know it's going to be a simple mistake. </p>

<p>Any further explanation would be much appreciated.</p>

<p>Thanks</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Jan 17, 2014 03:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883082"></a>
                                    <font class="smallfont"><p>Hi Scott,</p>

<p>try the following:</p>

<p>The port for the ASCII commands is 1025, but this is not a TCP, but a UDP port (see page 57 in the manual for what I sent you the link).<br/>
The "Digital Input/Output Command Set" is described on page 176. In case you want to check a status of the digital inputs create a UDP command in OR designer with the following content:</p>

<p>NAME: chose a name<br/>
PROTOCOL: UDP<br/>
IP ADDRESS: put in your IP address<br/>
PORT: 1025<br/>
COMMAND: $016<br/>
Line Endings: CR</p>

<p>Next create a custom sensor with that command, so that you can display the response string in a label. Now you should at least see the response from the Adam interface. To present only the payload of that answer, you need a regular expression.<br/>
With that response you have to work now a bit, because the response is a hex value (in ascii text), which you have to interpret as shown in the example on page 177. I can not give you a common explanation, because the bits are differently allocated in different models of the ADAM modules (see table on page 177).<br/>
In short you have to convert the hex string to binary (0 and 1) by using a rule. 0 means the digital input is off and 1 means it is on.</p>

<p>I hope that helps you a bit.</p>

<p>Marc</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hennemarc at Jan 19, 2014 17:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883528"></a>
                                    <font class="smallfont"><p>Marc</p>

<p>I had time tonight to play with this, been swamped at work and the new house is consuming my time. Still not working, I wish I had more time to mess with it to figure out. </p>

<p>I tried your TCP $01M</p>

<p>Name:         Adam name<br/>
Protocol:     TCP/IP<br/>
IP Address:   192.168.1.10<br/>
Port:         502<br/>
Command:      $01M</p>

<p>The response I am getting with my sensor is "$01M..?"</p>

<p>Any idea why? Does it need a polling interval?</p>



</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Jan 28, 2014 04:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887714"></a>
                                    <font class="smallfont"><p>Hi Marc.</p>

<p>I own ADAM-6050 which are older models then the ADAM-6200 series. As per the manual this series do work with hex as well as ASCII. The table you fine in page 57 of the 6200 is not available in the 6000 series but I assume it is the same. With Wireshark I get the full packet syntax.<br/>
If I understand you correctly, when using TCP/IP I can use the hex format with port 502 while with UDP I can use the ASCII with port 1025.<br/>
For the ADAM-6050 I am expected to send an ASCII $016 to read all channels (both DI and DO I guess) while in hex format (TCP) I need to send 0x01010000000c to read the DI and 0x010100100006 to read the coils status.<br/>
This hex format is only the Modbus protocol (function code and data along with the Unit Identifier). The ModbusTCP layer is not sent except for the Unit Identifier. This layer contains transaction ID which is a counter I can't generate.<br/>
I am not sure what exactly to do. Tried the hex / TCP but the label response is N/A.</p>

<p>Please let me know what is the correct syntax.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Jul 26, 2014 19:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887754"></a>
                                    <font class="smallfont"><p>I am not so familiar with MODBUS, which is not easy to implement, so the best way is to communicate with the ADAM-6050 via TCP/IP (ASCII) protocol.</p>

<p>I had a look into the manual at
<a href="http://downloadt.advantech.com/ProductFile/Downloadfile1/1-QJSSTZ/ADAM-6000-Ed6-0-2-EN.pdf">http://downloadt.advantech.com/ProductFile/Downloadfile1/1-QJSSTZ/ADAM-6000-Ed6-0-2-EN.pdf</a></p>

<p>From page 146 onwards you see the commands how they have to look. Don't forget to add the CR at the end.</p>

<p>I recommend to use a small terminal program (e.g. putty) to do some testing without OpenRemote. That simplifies the testing. Just connect as RAW TCP connection to your ADAM IP and Port and send an ASCII command. If you get a response via putty you are at least sure that the ADAM module replies correctly. After this you should do the OR implementation.</p>

<p>Marc</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hennemarc at Jul 29, 2014 05:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887762"></a>
                                    <font class="smallfont"><p>Hi Marc.</p>

<p>I have a ping to the ADAM. I set up the PuTTy in its default configuration except for IP, Port (502) and raw mode. The log shows:</p>

<p>Event Log: Writing new session log (SSH raw data mode) to file: putty.log<br/>
Event Log: Looking up host "10.0.0.42" (IPv4)<br/>
Event Log: Connecting to 10.0.0.42 port 502</p>

<p>When I type in the firmware command which is common to alll models - $01F I see nothing in the log nor any respond in the terminal.<br/>
I have no idea what is wrong except for the CR issue. I did not figure out how to the CR when pressing the Enter.</p>


<p>BTW, i have managed to do the job with a utility called UniGo under Android, which is independent from the OR, and just controls the Alarm and the air condition units.<br/>
The UniGo is a ModBus application.<br/>
For now its fine but I would like it in one application.</p>

<p>Need your advice to understand why I can't control the ADAM through PuTTy.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Jul 29, 2014 15:58
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887769"></a>
                                    <font class="smallfont"><p>I am beginning to look at my new system again when I have time. </p>

<p>I never was able to get Openremote to communicate with the Adam-6052. I'm glad someone else is trying to get one working as well. The Adam line provides a lot of options so it would be nice to be able to get it working. </p>

<p>I will do some tinkering and let you know if I come up with anything. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Jul 29, 2014 23:31
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887770"></a>
                                    <font class="smallfont"><p>sorry, my mistake.</p>

<p>Putty does not allow UPD connections. Try a terminal program which allows UPP</p>

<p>--&gt; <a href="http://new.hwg.cz/files/download/sw/version/hercules_3-2-8.exe">http://new.hwg.cz/files/download/sw/version/hercules_3-2-8.exe</a><br/>
--&gt; <a href="http://sourceforge.net/projects/multiterminal/">http://sourceforge.net/projects/multiterminal/</a><br/>
--&gt; <a href="http://www.cinetix.de/interface/tiptrix/udpterm.htm">http://www.cinetix.de/interface/tiptrix/udpterm.htm</a></p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hennemarc at Jul 30, 2014 06:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887773"></a>
                                    <font class="smallfont"><p>Hi.</p>

<p>Tested all 3. Herculas seems to be configured OK but when I send $01F I see only F being echoed as sent.<br/>
In UDPTerm I did not find a way to type ASCII or any type. No Response.<br/>
The Multiterminal is too old and does not work well with some Win7 dll files.<br/>
I will try to fine a similar solution.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Jul 30, 2014 19:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22888067"></a>
                                    <font class="smallfont"><p>Hi again. <br/>
When setting the a UDP device with its IP, port 1025, the proper ASCII comand and CR as a delimiter, get the following error:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
ERROR [Polling Sensor <span class="code-object">Thread</span> ID = 5122897, Name ='Read DI Sensor']: could not perform UDP Event
java.net.SocketTimeoutException: Receive timed out
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.PlainDatagramSocketImpl.receive(PlainDatagramSocketImpl.java:145)
	at java.net.DatagramSocket.receive(DatagramSocket.java:725)
	at org.openremote.controller.protocol.socket.UDPSocketCommand.send(UDPSocketCommand.java:277)
	at org.openremote.controller.protocol.socket.UDPSocketCommand.read(UDPSocketCommand.java:293)
	at org.openremote.controller.model.sensor.Sensor$DeviceReader.read(Sensor.java:682)
	at org.openremote.controller.model.sensor.Sensor$DeviceReader.run(Sensor.java:608)
	at java.lang.<span class="code-object">Thread</span>.run(<span class="code-object">Thread</span>.java:662)
Exception in thread <span class="code-quote">"Polling Sensor <span class="code-object">Thread</span> ID = 5122897, Name ='Read DI Sensor'"</span> java.lang.NullPointerException
	at org.openremote.controller.model.sensor.StateSensor.processEvent(StateSensor.java:233)
	at org.openremote.controller.model.sensor.Sensor.update(Sensor.java:338)
	at org.openremote.controller.model.sensor.Sensor$DeviceReader.run(Sensor.java:608)
	at java.lang.<span class="code-object">Thread</span>.run(<span class="code-object">Thread</span>.java:662)
</pre>
</div></div>
<p>Need help.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by niraviry at Aug 17, 2014 17:18
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:41</font></td>
		    </tr>
	    </table>
    </body>
</html>