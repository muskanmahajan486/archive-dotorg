<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Trane Zwave Thermostat Integration</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Trane Zwave Thermostat Integration
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 01, 2014 by <font color="#0050B2">dalemontoya</font>.
				    </div>

				    <p>I could not pass up a deal on a Trane TZEMT400BB3 Remote Energy Management Thermostat.  I would like to integrate this into my OR controller and it does recognize it and assigns it a node, but I do not know how to sent it commands or how to display it's status on my UI.  There are very few form discussions on commands for thermostats and none for zwave and Trane.  There is some information on Mi Casa Verde forums and it sounds like they can control it without the Trane Nexia controller using zwave Command Class below, but I do not know how to create a OR zwave command using these Command Class and Variables.  Can anyone direct me on how to integrate this device in my system?</p>

<p>Zwave Command Class Comments <br/>
COMMAND_CLASS_THERMOSTAT_MODE The operating mode of the TZ43 thermostat <br/>
COMMAND_CLASS_THERMOSTAT_OPERATING_STATE Returns the operating state of the HVAC system <br/>
COMMAND_CLASS_THERMOSTAT_SETPOINT The TZ43 Setpoint (heat or cool) <br/>
COMMAND_CLASS_THERMOSTAT_FAN_MODE The Fan Mode <br/>
COMMAND_CLASS_THERMOSTAT_FAN_STATE The HVAC system mechanical fan state <br/>
COMMAND_CLASS_SENSOR_MULTILEVEL Returns the temperature as displayed by the TZ43. Note this temperature is the TZ43's working temperature and includes any averaging sensors <br/>
COMMAND_CLASS_VERSION Returns various Zwave version information <br/>
COMMAND_CLASS_CLOCK Used to set the TZ43's real-time clock <br/>
COMMAND_CLASS_MANUFACTURER_SPECIFIC Returns Manufacture and Product information <br/>
COMMAND_CLASS_CONFIGURATION Used to read/write internal TZ43 variables. The majority of the variables are accessable via the on-screen menu, the CONFIGURATION command class is used to remotely set the <br/>
variables. It is recommended that you have a thourough understanding of the variables before making any changes. See variable table below <br/>
COMMAND_CLASS_LOCK Used to implement the Display Lock, locking the thermostat keys </p>


<p>TZ43 Variable Table <br/>
Variable <br/>
Number <br/>
Description Minimum <br/>
Value <br/>
Maximum <br/>
Value <br/>
Notes <br/>
1 System Type 0 1 0 = Gas/Elec, 1 = HeatPump <br/>
2 Fan Type 0 1 0 = Gas, 1 = Elec <br/>
3 Change Over Type 0 1 0 = w/Cool, 1 = w/Heat <br/>
4 C/F Type 0 1 0 = C, 1 = F <br/>
9 Display Lock 0 1 0 = Unlocked, 1 = Locked <br/>
10 MOT 5 9 Minimum OFF Time <br/>
11 MRT 1 9 Minimum Run Time <br/>
12 H Delta Stage 1 On 1 8 Stage Timers <br/>
13 H Delta Stage 1 Off 0 8 <br/>
14 H Delta Stage 2 On 1 8 <br/>
15 H Delta Stage 2 Off 0 8 <br/>
16 H Delta Stage 3 On 1 8 <br/>
17 H Delta Stage 3 Off 0 8 <br/>
18 C Delta Stage 1 On 1 8 <br/>
19 C Delta Stage 1 Off 0 8 <br/>
20 C Delta Stage 2 On 1 8 <br/>
21 C Delta Stage 2 Off 0 8 <br/>
25 SB Mode 0 1 Setback mode, 0 = No Setback, 1 = Setback <br/>
69 Service Mode (Test) 0 1 0 = No Service Mode, 1 = Service Mode enabled <br/>
75 Fan Cycler ON Time 0 120 On duration of Fan Cycler <br/>
76 Fan Cycler OFF Time 0 120 Off duration of Fan Cycler <br/>
77 2nd Stage Heat Enable 0 1 0 = No 2nd Stage Heat, 1 = 2nd Stage Heat <br/>
78 Aux Heat Enable 0 1 0 = No Aux Heat, 1 = Aux Heat enabled <br/>
79 2nd Stage Cool Enable 0 1 0 = No 2nd Stage Cool, 1 = 2nd Stage Cool</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22886908"></a>
                                    <font class="smallfont"><p>See: <a href="http://www.openremote.org/display/docs/Designer+2.0+-+Available+Z-Wave+Commands">Designer 2.0 - Available Z-Wave Commands</a></p>

<p>Did you already play around with the 'temp' and 'status' commands ?  I'm curious because I've never tested a thermostat device with the OpenRemote Z-Wave protocol.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rhitz at Jun 04, 2014 20:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22886950"></a>
                                    <font class="smallfont"><p>I have tried making read &amp; temp &amp; on &amp; off &amp; status commands, a switch, a slider, labels, and buttons to try and get some response, but I can't get anything to work.  I tried the read and temp sensors as range and level types as well.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dalemontoya at Jun 09, 2014 04:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887313"></a>
                                    <font class="smallfont"><p>Did you ever get this figured out?  I have the same thermostat and some of the functions work automatically with Domoticz but it doesn't seem to want to accept any commands from OpenRemote.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nrblock at Jun 27, 2014 02:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887315"></a>
                                    <font class="smallfont"><p>I started to do some research on OpenZWave to see if that could help, but haven't installed it yet.  Since I wasn't having any luck with the thermostat, I turned my attention to trying to get my Openremote system to have a integrated music server/player to play music to some bluetooth speakers in different rooms in my house, but cannot get a stable system with a web frontend that will play correctly on my raspberry pi.  I would like very much to contribute to the Openremote community by getting the thermostat to work, but I really don't know where to start.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dalemontoya at Jun 27, 2014 05:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887316"></a>
                                    <font class="smallfont"><p>I think you better invest in MiCasa Verde, or if you are a bit more daring, in RaZberry to integrate with OpenRemote. Developments in OpenRemote have become very slow lately to be honest.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jun 27, 2014 09:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887360"></a>
                                    <font class="smallfont"><p>I got COMMAND_CLASS_THERMOSTAT_SETPOINT to work once.  However, it only worked one time when the thermostat happened to change the setpoint (based on an internal program).  When I exited out and went back in the sensor now is only reading "N/A".  I'm trying to figure out how to force the sensor to update...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nrblock at Jun 30, 2014 01:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887381"></a>
                                    <font class="smallfont"><p>Where do you input the COMMAND_CLASS statement?  Do you make a custom sensor with "COMMAND_CLASS_THERMOSTAT_SETPOINT" as the Name and the temp you want as the value?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dalemontoya at Jul 01, 2014 04:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887382"></a>
                                    <font class="smallfont"><p>I wasn't able to get it to accept a change to the value... only got it to show me the setpoint. I created a Z-Wave command with "COMMAND_CLASS_THERMOSTAT_SETPOINT" and created a Range sensor from 40 (min) to 90 (max) with the previously created command.  I can then associate this with a label in the panel designer.</p>

<p>I think you have to create a HTTP command to change the value, but I'm not completely sure.  The documentation isn't really clear and I've yet to find any tutorials.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nrblock at Jul 01, 2014 04:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887395"></a>
                                    <font class="smallfont"><p>Thanks for the suggestion, I have thought of this many times, but I have a couple of more things I would like to try to keep learning.  I am working on a PC with a digital power supply and SD hard drive.  I am going to try some other open systems, including Windows to see how they compare.  Trying to do this on a Raspberry Pi is slow and I want to keep the OR system I have running.  I also do plan to go back to school to take Java programming and Network Security classes.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dalemontoya at Jul 02, 2014 04:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887397"></a>
                                    <font class="smallfont"><p>I don't think it is a good idea to use RasPi for running OR with a substantial number of devices. That's why I have OR controller installed on Synology DS212+ and use RaZberry as a Z-Wave Gateway, just as you can do with the Vera. No need to give up on your existing OR installation. On the contrary!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jul 02, 2014 13:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887499"></a>
                                    <font class="smallfont"><p>I tried creating commands and range sensors, but couldn't get them to work.  I got the same impression about HTTP, but I don't see how that would work since the thermostat is not connected to my pc network.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dalemontoya at Jul 10, 2014 04:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887502"></a>
                                    <font class="smallfont"><p>AFAIK using an OpenRemote http command is only relevant if you have connected the Trane to a Vera or a RaZberry.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jul 10, 2014 09:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22887547"></a>
                                    <font class="smallfont"><p>I'm far from an expert, but I agree, I can't get Openremote to do anything other than run sensors and light switches with the Pi.  That is the other reason I was wanting to build a quiet PC.  I can do this cheaper than Vera so I will give it a try first.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dalemontoya at Jul 14, 2014 05:06
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:39</font></td>
		    </tr>
	    </table>
    </body>
</html>