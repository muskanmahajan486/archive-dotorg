<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Can't get RRD4J to work</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Can't get RRD4J to work
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 28, 2014 by <font color="#0050B2">pz1</font>.
				    </div>

				    <p>I am at my wits' end with the RRD4J. I implemented the eavample from the <a href="http://www.openremote.org/pages/viewpage.action?pageId=19988490">RRD4J tutorial</a>. On my webconsole I do get an image, but the data points are missing. I have gone through the forums and found several similar reports. I described the <a href="http://www.openremote.org/display/~pz1/My_RRD4J">case here in my private space</a> in more detail.<br/>
I would appreciate if someone more experienced with RRD4J would have a look at it. It is likely something stupid, but after more than a day I still don't see it.<br/>
Thanks<br/>
Pieter</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22883577/23036432.png">temperatures.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22883577/23036433.png">kWhkW.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22883577/23036434.png">tempkWh.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22883609"></a>
                                    <font class="smallfont"><p>Hi Pieter, </p>

<p>Just a basic question. Have you verified that your temperature sensors are returning a value?? If you link then to a label you can see the temperature readings?</p>

<p>Regards</p>

<p>Stavros</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by stavroschar at Jan 29, 2014 09:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883611"></a>
                                    <font class="smallfont"><p><img src="attachments/22883577/23036432.png" align="right" border="0"/> Thanks for the response Stavros</p>

<p>Yes the temperatures do show the correct values. What puzzles me at the moment is the vertical temperature axis. It presently is from 0.0 - 1.0. How can I influence that scale? Or is it automatic.<br/>
With the command I can change the horizontal scale.</p>

<p>edit: I am logging the 19.5 and 7.3 sensors from the image</p>

<p>Pieter</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 29, 2014 09:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883615"></a>
                                    <font class="smallfont"><p>Hi Pieter again,</p>

<p>From my experience the temperature scale changes automaticaly. If you are getting a range from 0.0 to 1.0 it may be because you do not have any readings loged durring the period that you have specified in the RRD4J command. Change the "end time" to 20140227-23-00" and see if you get any readings. If you do then the best way is to complete the how to RRD4J and use the comands for dynamically changing the graphic timeframe. Try it out and let me know if this helps.</p>

<p>Stavros</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by stavroschar at Jan 29, 2014 10:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883616"></a>
                                    <font class="smallfont"><p>Earlier this morning I already had changed.<br/>
start: 20140129-01-00<br/>
end: 20140206-23-00<br/>
edit: Nothing changed even after a restart of the controller on my Synology</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 29, 2014 10:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883620"></a>
                                    <font class="smallfont"><p><a class="confluence-thumbnail-link 319x363" href='http://www.openremote.org/download/attachments/22883577/kWhkW.png'><img src="attachments/thumbnails/22883577/23036433" align="right" border="0"/></a> Made a little progress here. I did replace the 7.3 degrees C sensor with a virtual in memory command based sensor that represents my solar power level. After a while I did notice two short traces one for the temperature the other for the power. Gave a nice scale from 0 - 20. No units IIRC.<br/>
Next I added a kWh sensor to the kW sensor as well. Sensors had resp values of 0.6 and 0.237. I now have a vertical axis from <b>0-600m</b>. </p>

<p>I'll investigate the temp sensors a bit more to see what could be bugging me there.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 29, 2014 12:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883638"></a>
                                    <font class="smallfont"><p>I noticed that the verical axis has changed during the day. It now shows values from 0.0-1.7 <b>without the m!</b>. That is what I expected.</p>

<p>My next step is to define a second graph. I therefore copied the <em>rrd_graph_def</em> in which I adapted the parameters. I don't know if that is allowed. It is very unprofessional that the official XML schemas still are not in their proper place:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">xsi:schemaLocation=<span class="code-quote">"http:<span class="code-comment">//www.openremote.org http://www.openremote.org/schemas/rrd4j.xsd"</span>&gt;</span></pre>
</div></div>
<p>So I can not formally check what is allowed.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 29, 2014 16:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883685"></a>
                                    <font class="smallfont"><p><a class="confluence-thumbnail-link 568x408" href='http://www.openremote.org/download/attachments/22883577/tempkWh.png'><img src="attachments/thumbnails/22883577/23036434" align="right" border="0"/></a> I now understand a bit more why I did not see data appearing in my graph. With the example graph the RRDtool apparantly only displays data points when the signal changes.<br/>
So in the sample graph at the right you can see from top tom bottom</p>
<ul class="alternate" type="square">
	<li>1. Temperature as read from a <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Control+Radiator+-+Stella+Z+with+RazBerry">StellaZ radiator thermostat</a> (blue) every 15 minutes</li>
	<li>2. Temperature as read from a <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Sense+rain+-+Hydreon+RG-11+Rain+Sensor+using+Fibaro+Universal+Sensor">Fibaro Universal Sensor</a> (red) every 20 seconds</li>
	<li>3. Electrical Power as read from <a href="http://www.openremote.org/display/docs/OpenRemote+2.0+How+To+-+Monitor+Solar+Power+-+FuturePower4All+PVlogger">PVlogger</a> (green) every minute</li>
</ul>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 30, 2014 13:03
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:34</font></td>
		    </tr>
	    </table>
    </body>
</html>