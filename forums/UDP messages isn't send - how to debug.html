<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : UDP messages isn't send - how to debug</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : UDP messages isn't send - how to debug
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jul 10, 2012 by <font color="#0050B2">mekri</font>.
				    </div>

				    <p>Hi,</p>

<p>I'm using OR to control a device via UDP messages. The message that need to be send is e.g. 09000A200100FFFFFF (in HEX).<br/>
I've created an device with a command using the UDP protocol, configured with the IP address, port and command that need to be used.<br/>
IP address: 192.168.0.222<br/>
Port: 50120<br/>
Command: 09000A200100FFFFFF  (I also tried with 0x in front of the message)</p>

<p>In the UI designer, a button is configured to use this command.</p>

<p>When I look to the panel.xml and controller.xml, all ID's are looking good set.</p>

<p>During test, the device doesn't received the UDP messages.</p>

<p>With netcast, I monitor the UDP port and I don't see any message passing by. When I use sendip (sudo sendip -p ipv4 -is 192.168.0.100 -p udp -us 50121 -ud 50120 -d 0x09000A200100FFFFFF -v 192.168.0.222), my device received the UDP messages well and I see the message with netcast.</p>

<p>I'm wondering why I don't see any message passing by with netcast</p>

<p>What can be the problem?<br/>
How to debug? In the log files, I can't find any error or debug information.</p>

<p>Thanks in advance for any feedback !</p>

<p>Regards,<br/>
Kris</p>


				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-20448657"></a>
                                    <font class="smallfont"><p>The UDP protocol does not support HEX values in the moment. The command you entered will be send as character data.<br/>
You should see something when monitoring the traffic though.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jul 13, 2012 19:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20448677"></a>
                                    <font class="smallfont"><p>Will it be possible to send hex values?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mekri at Jul 14, 2012 06:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20448723"></a>
                                    <font class="smallfont"><p>It's on our todo list. <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jul 16, 2012 19:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20448971"></a>
                                    <font class="smallfont"><p>I just created a quick developer snapshot image where I integrated hex values.<br/>
If you start the command string with "0x" the rest is interpreted as hex values.<br/>
Maybe you can give it a try and let me know if this works.<br/>
You can find this version here: <a href="http://www.redeker-consulting.de/openremote/OpenRemote-Controller-2.0.0.zip">http://www.redeker-consulting.de/openremote/OpenRemote-Controller-2.0.0.zip</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jul 19, 2012 16:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20449325"></a>
                                    <font class="smallfont"><p>Thanks a lot, Marcus!<br/>
Next 2 weeks I'm not in the possibility to check this, but after that, I sure will check it and let you know!</p>

<p>Kind regards,<br/>
Kris</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mekri at Jul 24, 2012 08:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20449651"></a>
                                    <font class="smallfont"><p>Hi Marcus,</p>

<p>I've tested your build, and it works fine!<br/>
I can send UDP hex messages to my device.</p>

<p>Does this controller build contain all released features or is a test build with a lot of changes?<br/>
When will this be included in a next released version?</p>

<p>Thanks!</p>

<p>Kind regards,<br/>
Kris</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mekri at Aug 07, 2012 12:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20449665"></a>
                                    <font class="smallfont"><p>Thanks for testing it. I also added this to the TCPSocketCommand.<br/>
The next version or maybe the version after of the controller should have it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 07, 2012 17:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20449691"></a>
                                    <font class="smallfont">
<p>Tnx Marcus,</p>

<p>I think, I'm running in a next issue:<br/>
The UDP device sends acknowledgments with additional info back in HEX format.</p>

<p>I'm not succeeding to make a sensor with type custom to translate this to an on/off value.<br/>
Do I have the same problem (no support of HEX values)?</p>

<p>Thanks for the feedback!</p>

<p>Kris</p>

<p>Note: Next step is to make a slider, where the set value needs to be concatenated (8 bits) to a UDP HEX message. <br/>
Not sure how I can do this....</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mekri at Aug 08, 2012 13:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20449692"></a>
                                    <font class="smallfont"><p>In general it sounds like it makes more sense to create a protocol which can speak to your device.<br/>
Maybe the rule engine can be of some help but that would probably involve almost as much coding as creating your own protocol.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 08, 2012 13:37
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:46</font></td>
		    </tr>
	    </table>
    </body>
</html>