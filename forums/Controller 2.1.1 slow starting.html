<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Controller 2.1.1 slow starting</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Controller 2.1.1 slow starting
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jul 29, 2015 by <font color="#0050B2">gheinert</font>.
				    </div>

				    <p>Hello there,</p>

<p>It seems that the controller 2.1.1 takes much longer to start.<br/>
I previously used Controller-2.1.0_SNAPSHOT-2013-06-17. This took about 10 seconds to start. When I change to controller 2.1.1 the controller takes about 5 minutes to start. It seems that the sensor registration during startup takes a lot longer.<br/>
Do you know why this?<br/>
Is there a way to change this?</p>

<p>Thanks</p>

<p>Gideon</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23600329"></a>
                                    <font class="smallfont"><p>Hi.<br/>
I use: Synology DS3615; OpenRemote 2.1.1 + AeonLabs Z-Wave Stick 2.<br/>
Problems have not noticed, it starts just as quickly.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aleksey_z at Jul 30, 2015 10:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23600331"></a>
                                    <font class="smallfont"><p>Interesting,</p>

<p>I have seen on Windows 8.1, but also on Debian running as a virtual machine on a QNAP NAS.<br/>
But I have a lot of sensors as my design is quite a large Home Automation project. And it seems that it is the sensor registration at start up that is slower.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gheinert at Jul 30, 2015 14:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23600332"></a>
                                    <font class="smallfont"><p>Maybe. I do not have a lot of sensors in my test project.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
INFO 2015-07-21 13:01:00,502 : Registered sensor : Range Sensor (Name = 'TS.SPTemp.RangeSensor', ID = '6727762', Min: 4, Max: 30)
INFO 2015-07-21 13:01:00,505 : Registered sensor : Level Sensor (Name = 'SS.Temp.Sensor', ID = '6729274', Min: 0, Max: 100)
INFO 2015-07-21 13:01:01,349 : Registered sensor : Switch Sensor (Name = 'Send Mail Test1 Sensor', ID = '7003424')
INFO 2015-07-21 13:01:01,359 : Registered sensor : Switch Sensor (Name = 'Send Mail Test2 Sensor', ID = '7003669')
INFO 2015-07-21 13:01:01,360 : Registered sensor : Sensor (Name = 'WWiconurlSensor', ID = '5783517', State Mappings: {})
INFO 2015-07-21 13:01:01,362 : Registered sensor : Switch Sensor (Name = 'SS.TamperAlarm.Sensor', ID = '7076621')
INFO 2015-07-21 13:01:01,375 : Registered sensor : Switch Sensor (Name = 'SS.SmokeAlarm.Sensor', ID = '7076623')
INFO 2015-07-21 13:01:01,377 : Registered sensor : Switch Sensor (Name = 'Dimmer2 -on/off sensor-', ID = '5783369')
INFO 2015-07-21 13:01:01,383 : Registered sensor : Switch Sensor (Name = 'SS.HeatAlarm.Sensor', ID = '7076622')
INFO 2015-07-21 13:01:01,386 : Registered sensor : Range Sensor (Name = 'Dimmer2 -range sensor-', ID = '5783368', Min: 0, Max: 99)
INFO 2015-07-21 13:01:01,388 : Registered sensor : Switch Sensor (Name = 'Switch3.1 -sensor-', ID = '5783367')
INFO 2015-07-21 13:01:01,392 : Registered sensor : Switch Sensor (Name = 'MS.TamperAlarm.Sensor', ID = '6729426')
INFO 2015-07-21 13:01:01,393 : Registered sensor : Range Sensor (Name = 'sensor_pingsensor_range', ID = '7079955', Min: 0, Max: 200000)
INFO 2015-07-21 13:01:01,394 : Registered sensor : Sensor (Name = 'WWtempoutSensor', ID = '5783357', State Mappings: {})
INFO 2015-07-21 13:01:01,395 : Registered sensor : Switch Sensor (Name = 'MS.MotionAlarm.Sensor', ID = '6729424')
INFO 2015-07-21 13:01:01,396 : Registered sensor : Sensor (Name = 'sensor_pingsensor_custom', ID = '7079953', State Mappings: {})
INFO 2015-07-21 13:01:01,397 : Registered sensor : Level Sensor (Name = 'TS.Temp.Sensor', ID = '6276292', Min: 0, Max: 100)
INFO 2015-07-21 13:01:01,400 : Registered sensor : Sensor (Name = 'WWpressureSensor', ID = '5783409', State Mappings: {})
INFO 2015-07-21 13:01:01,401 : Registered sensor : Sensor (Name = 'DisplaySunsetTime.Sensor', ID = '7004582', State Mappings: {})
INFO 2015-07-21 13:01:01,408 : Registered sensor : Switch Sensor (Name = 'Switch3.2 -sensor-', ID = '6271817')
INFO 2015-07-21 13:01:01,412 : Registered sensor : Switch Sensor (Name = 'ExclusionSwitchSensor', ID = '6276417')
INFO 2015-07-21 13:01:01,413 : Registered sensor : Sensor (Name = 'WWhumiditySensor', ID = '5783407', State Mappings: {})
INFO 2015-07-21 13:01:01,414 : Registered sensor : Sensor (Name = 'DisplaySunriseTime.Sensor', ID = '7004581', State Mappings: {})
INFO 2015-07-21 13:01:01,418 : Registered sensor : Switch Sensor (Name = 'InclusionSwitchSensor', ID = '6276416')
INFO 2015-07-21 13:01:01,420 : Registered sensor : Sensor (Name = 'WWwindSensor', ID = '5783406', State Mappings: {})
INFO 2015-07-21 13:01:01,422 : Registered sensor : Level Sensor (Name = 'MS.Temp.Sensor', ID = '6729412', Min: 0, Max: 100)
INFO 2015-07-21 13:01:01,423 : Registered sensor : Level Sensor (Name = 'MS.LightIntensity.Sensor', ID = '6729411', Min: 0, Max: 100)
INFO 2015-07-21 13:01:01,424 : Registered sensor : Sensor (Name = 'WWwinddirSensor', ID = '5783520', State Mappings: {})
INFO 2015-07-21 13:01:01,445 : Registered sensor : Sensor (Name = 'WWtextSensor', ID = '5784813', State Mappings: {})
INFO 2015-07-21 13:01:01,455 : Registered sensor : Sensor (Name = 'sensor_android_custom', ID = '7079950', State Mappings: {})
INFO 2015-07-21 13:01:01,456 : Registered sensor : Sensor (Name = 'DisplayTime.Sensor', ID = '7003421', State Mappings: {})
INFO 2015-07-21 13:01:01,459 : Registered sensor : Level Sensor (Name = 'MS.BatteryStatus.Sensor', ID = '6729420', Min: 0, Max: 100)
INFO 2015-07-21 13:01:01,460 : Registered sensor : Sensor (Name = 'DateTime isDay.Sensor', ID = '7003419', State Mappings: {<span class="code-keyword">true</span>=on, <span class="code-keyword">false</span>=off})
INFO 2015-07-21 13:01:01,464 : Registered sensor : Sensor (Name = 'DisplayDate.Sensor', ID = '7003418', State Mappings: {})
INFO 2015-07-21 13:01:01,465 : Registered sensor : Sensor (Name = 'WUpressuretrend.Sensor', ID = '7004585', State Mappings: {})
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aleksey_z at Jul 30, 2015 15:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23606541"></a>
                                    <font class="smallfont"><p>I am experiencing the same issue.<br/>
Did you solve it?<br/>
I have tried both my Synology and Mac and on both it takes almost 5 min.<br/>
I was also running 2.1.0_SNAPSHOT-2013-06-17 before....</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by istian at Apr 21, 2016 11:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23606583"></a>
                                    <font class="smallfont"><p>Hi<br/>
I do not have such problems. The controller 2.1.1 will start quickly. 10-15 sec.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aleksey_z at Apr 24, 2016 11:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23606588"></a>
                                    <font class="smallfont"><p>Hi Aleksey,<br/>
I am also running it on Synology (DS412+). How did you install it on your Synology? What version of Java are you running? I have a lot more sensors than you have, but i doubt that numbers of sensors is the issue. Loading one sensor takes more than 10 seconds.....<br/>
For now i am running the 2.1.0_SNAPSHOT-2013-06-17, since it works fine for my use.</p>

<p>I regards to Synology DS i just updated the software to DSM 6, and I can no longer install OpenRemote with PCLoadLetter package, have you installed yours with a tomcat server and so on? If so, how did you do it?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by istian at Apr 24, 2016 11:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23606601"></a>
                                    <font class="smallfont"><p>Hi Istian,</p>

<p>I eventually found out what the problem is.  The way knx is handled was changed after this snapshot.There is a separate thread on this somewhere in the forum. You see the slow starting when you have a lot of knx sensors. For some reason during the startup there is now a delay of a few seconds  after registering a knx sensors. Do you have quite a few knx sensors? I managed to speed up starting significantly when I reduced the delay setting in the source code and recompiled. I can't remember from the top of my head where the setting was but if you are interested I can look it up when I am at home again. <br/>
But I then found the newer versions didn't seem to handle knx commands as reliably as the older versions. So I then changed back to the old snapshot as it is more stable in my setup. </p>

<p>Best wishes</p>

<p>Gideon</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by gheinert at Apr 24, 2016 19:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23606617"></a>
                                    <font class="smallfont"><p>Hi.<br/>
Synology with DSM 5.1, OR Controller 2.1.1, Java 6.</p>

<p>I tried to upgrade to DSM 5.2, but also could not install PCLoadLetter package.<br/>
I also wonder how to install and run the PCLoadLetter package on Synology with DSM 5.2 or 6.0.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aleksey_z at Apr 25, 2016 10:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23606621"></a>
                                    <font class="smallfont"><p>Hi Gideon,</p>

<p>Thanks for your reply. I have more than 150 KNX sensors.... So no wonder it takes long to load. Since the Old snapshot seems to be working well for me, I am not bothered to upgrade the controller. Thanks for giving me an explanation <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> There is no need for you to look into it any further.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by istian at Apr 25, 2016 10:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23606622"></a>
                                    <font class="smallfont"><p>Hi, Aleksey,<br/>
I have so far found no way to install OR with the PCLoadletter package on DSM 6.<br/>
I will post back if i find a solution with or without the package.</p>

<p>I know its possible to install it by using TomCat and so on, but unfortunately I do not have the know how to do so.<br/>
If someone have the know how, please share! I would be ever so thankful</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by istian at Apr 25, 2016 10:58
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:30</font></td>
		    </tr>
	    </table>
    </body>
</html>