<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : designer or controller bug for command params?</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : designer or controller bug for command params?
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 14, 2013 by <font color="#0050B2">jmspooner</font>.
				    </div>

				    <p>Hi,</p>

<p>Just thought I'd mention, I created a standard protocol shell command in the designer which runs a bash script of mine.  The script simply determines if a host is "up" and returns on/off.</p>

<p>While testing I purposely changed the ip address of the command under the params box to an ip on my network that had no host.  I wanted to see the nice green indicator on my mobile phone turn red <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>The problem occurred when the icon did not turn red.  I checked the dev.log and saw that the test was returning "on".  I checked the controller.xml file and could see my changes including the invalid ip address were present...  so out of desperation I kept doing ps -ax in my linux shell looking out for my script when openremote executed it (every 30s).  Sure enough the IP address had not changed!! it was still pinging the original valid IP address that I used!</p>

<p>This is a strange one so if any openremote devs want me to provide any other specific info or tests then let me know... just thought I'd mention this as it all made no sense.</p>

<p>FYI I'm using version 2.0.2 build.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22872764"></a>
                                    <font class="smallfont"><p>hmm... later I noticed other similar bugs, such as a sensor receiving "off" but the switch on the UI still showing on.  Then I noticed in the dev.log the controller was polling commands every second when I had clearly set them to poll every 30s.  So I restarted the controller on my server and all is well again.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jmspooner at Jun 14, 2013 13:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22872768"></a>
                                    <font class="smallfont"><p> I also noticed that after a sync with designer, were I removed the call to a script, the controller.xml was correctly updated, but the script continued running. I had to do a full restart of the controller.<br/>
I did find a clue why it happened.<a href="http://www.openremote.org/pages/viewpage.action?pageId=22415119">ref</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jun 14, 2013 14:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22872772"></a>
                                    <font class="smallfont"><p>yes think I've seen that too.  Just noticed I was using jre 1.7 ooof!  changed to 1.6 thinking that might help.  I really should check these things before posting <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jmspooner at Jun 14, 2013 14:49
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:30</font></td>
		    </tr>
	    </table>
    </body>
</html>