<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : OR + QNAP + Zwave</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : OR + QNAP + Zwave
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 08, 2015 by <font color="#0050B2">dirandad</font>.
				    </div>

				    <p>Hello,</p>

<p>I just past the last weekends trying to make working Openremote on my qnap with zwave device but without results...</p>

<p>My NAS : QNAP HS-210<br/>
My Zwave Dongle : Aeon Z Stick 2E (tested on a windows platform : working well)</p>

<p>The tutorial i Have follow :
<a href="http://www.openremote.org/pages/viewpage.action?pageId=23592977&amp;focusedCommentId=23593011#comment-23593011">http://www.openremote.org/pages/viewpage.action?pageId=23592977&amp;focusedCommentId=23593011#comment-23593011</a></p>

<p>and also this one :</p>

<p><a href="http://forum.qnap.com/viewtopic.php?f=306&amp;t=80225&amp;sid=45322821fa5c480da71739eb0f77b90f">http://forum.qnap.com/viewtopic.php?f=306&amp;t=80225&amp;sid=45322821fa5c480da71739eb0f77b90f</a></p>

<p>Result :</p>

<p>Everythings seems to be good execpt that i haven't any log in zwave.log ! (of course, I'm in debug mode)</p>

<p>dmesg :</p>

<p>[  239.357184] usbcore: registered new interface driver dvb_usb_af9015<br/>
[  243.756967] usbcore: registered new interface driver dvb_usb_dib0700<br/>
[  244.139048] usbcore: registered new interface driver dvb_usb_rtl2832u<br/>
[  244.702160] usbcore: registered new interface driver dvb_usb_rtl28xxu<br/>
[  245.475029] usbcore: registered new interface driver it913x<br/>
[  246.265458] usbcore: registered new interface driver dvb_usb_af9035<br/>
[  246.667475] usbcore: registered new interface driver dvb_usb_dtt200u<br/>
[  267.917827] usbcore: registered new interface driver usbserial<br/>
[  267.923686] usbserial: USB Serial Driver core<br/>
[  268.028777] usbcore: registered new interface driver ftdi_sio<br/>
[  268.085886] USB Serial support registered for FTDI USB Serial Device<br/>
[  268.092480] ftdi_sio: v1.6.0:USB FTDI Serial Converters Driver<br/>
[  268.217196] usbcore: registered new interface driver pl2303<br/>
[  268.258448] USB Serial support registered for pl2303<br/>
[  268.371086] usbcore: registered new interface driver cp210x<br/>
[  268.392230] USB Serial support registered for cp210x<br/>
[  268.397301] cp210x 1-1.3:1.0: cp210x converter detected<br/>
[  268.537314] usb 1-1.3: reset full-speed USB device number 3 using orion-ehci<br/>
[  268.736585] usb 1-1.3: cp210x converter now attached to ttyUSB0</p>

<p>Particularity on HS-210, usb are in /etc/usb/ttyUSB0 (I have then adapt openremote.sh and zwave configuration in OR)<br/>
Except this point, the zwave dongle seems to be installed correctly at linux level ? (How can we try it ?)</p>

<p>boot.log :</p>

<p>DEBUG 2015-03-08 18:47:56,871 : Deployer 'Default Deployer' initialized.<br/>
DEBUG 2015-03-08 18:47:57,735 : Runtime object model has not been initialized. Using default configuration only.<br/>
DEBUG 2015-03-08 18:47:57,783 : Runtime object model has not been initialized. Using default configuration only.<br/>
DEBUG 2015-03-08 18:47:57,784 : Runtime object model has not been initialized. Using default configuration only.<br/>
DEBUG 2015-03-08 18:47:57,819 : Runtime object model has not been initialized. Using default configuration only.<br/>
INFO 2015-03-08 18:47:57,846 :</p>

<p>--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>DEBUG 2015-03-08 18:48:09,064 : Initializing event processor: Drools Rule Engine<br/>
INFO 2015-03-08 18:48:09,075 : No rule definitions found in '/share/MD0_DATA/.qpkg/OpenRemote/OpenRemote/webapps/controller/rules'.<br/>
INFO 2015-03-08 18:48:09,076 : Initialized event processor : Drools Rule Engine<br/>
DEBUG 2015-03-08 18:48:09,077 : Initializing event processor: RRD4J Data Logger<br/>
INFO 2015-03-08 18:48:09,857 : Initialized event processor : RRD4J Data Logger<br/>
DEBUG 2015-03-08 18:48:09,858 : Initializing event processor: EmonCMS Data Logger<br/>
INFO 2015-03-08 18:48:09,858 : Initialized event processor : EmonCMS Data Logger<br/>
INFO 2015-03-08 18:48:09,880 : Startup complete.<br/>
INFO 2015-03-08 18:48:09,905 : Controller Definition File Watcher for Default Deployer started.</p>

<p>dev.log</p>

<p>2015-03-08 18:47:49,594 INFO main: Initialized JUL to LOG4J Redirector.<br/>
2015-03-08 18:47:49,624 INFO main: Programmatically set 'useParentHandlers=false' in 'OpenRemote.Controller' log category.<br/>
2015-03-08 18:47:56,469 DEBUG main: Adding shutdown hook to manage unclosed DSC connections in case of controller exit.<br/>
2015-03-08 18:47:56,871 DEBUG main: Deployer 'Default Deployer' initialized.<br/>
2015-03-08 18:47:57,735 DEBUG main: Runtime object model has not been initialized. Using default configuration only.<br/>
2015-03-08 18:47:57,764 INFO Controller Auto\-Discovery: Created IP discover multicast server !<br/>
2015-03-08 18:47:57,769 INFO Controller Auto\-Discovery: Joined a group : 224.0.1.100:3333<br/>
2015-03-08 18:47:57,780 INFO Controller Auto\-Discovery: Listening on  224.0.1.100:3333<br/>
2015-03-08 18:47:57,783 DEBUG main: Runtime object model has not been initialized. Using default configuration only.<br/>
2015-03-08 18:47:57,784 DEBUG main: Runtime object model has not been initialized. Using default configuration only.<br/>
2015-03-08 18:47:57,785 INFO Cluster UDP: UDP Server : Starting UDP server...<br/>
2015-03-08 18:47:57,787 INFO Cluster UDP: UDP Server : Started UDP server successfully.<br/>
2015-03-08 18:47:57,819 DEBUG main: Runtime object model has not been initialized. Using default configuration only.<br/>
2015-03-08 18:47:57,820 INFO Cluster TCP: TCP Server : starting for receiving groupmember urls...<br/>
2015-03-08 18:47:57,821 INFO Cluster TCP: TCP Server : started successfully for receiving groupmember urls...<br/>
2015-03-08 18:47:57,821 INFO Cluster TCP: TCP Server : Waiting for groupmember response...<br/>
2015-03-08 18:47:57,846 INFO main:</p>

<p>--------------------------------------------------------------------</p>

<p>  DEPLOYING NEW CONTROLLER RUNTIME...</p>

<p>--------------------------------------------------------------------</p>

<p>2015-03-08 18:48:09,037 ERROR main: Could not start VeraClient:<br/>
java.lang.IllegalArgumentException: Host name may not be null<br/>
        at org.apache.http.HttpHost.&lt;init&gt;(HttpHost.java:83)<br/>
        at org.apache.http.impl.client.AbstractHttpClient.determineTarget(AbstractHttpClient.java:586)<br/>
        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:708)<br/>
        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:700)<br/>
        at org.openremote.controller.protocol.vera.VeraClient.requestStatus(VeraClient.java:244)<br/>
        at org.openremote.controller.protocol.vera.VeraClient.startVeraClient(VeraClient.java:79)<br/>
        at org.openremote.controller.protocol.vera.VeraCommandBuilder.startVeraClient(VeraCommandBuilder.java:155)<br/>
        at org.openremote.controller.protocol.vera.VeraCommandBuilder.&lt;init&gt;(VeraCommandBuilder.java:68)<br/>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)<br/>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)<br/>
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)<br/>
        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)<br/>
        at org.openremote.controller.command.CommandFactory.updateCommandBuilders(CommandFactory.java:104)<br/>
        at org.openremote.controller.deployer.Version20ModelBuilder.build(Version20ModelBuilder.java:552)<br/>
        at org.openremote.controller.deployer.AbstractModelBuilder.buildModel(AbstractModelBuilder.java:154)<br/>
        at org.openremote.controller.service.Deployer.startup(Deployer.java:858)<br/>
        at org.openremote.controller.service.Deployer.startController(Deployer.java:336)<br/>
        at org.openremote.controller.spring.SpringContext.initializeController(SpringContext.java:109)<br/>
        at org.openremote.controller.service.ServiceContext.init(ServiceContext.java:383)<br/>
        at org.openremote.controller.bootstrap.Startup.loadServiceContext(Startup.java:85)<br/>
        at org.openremote.controller.bootstrap.servlet.ServletStartup.initializeServiceContext(ServletStartup.java:190)<br/>
        at org.openremote.controller.bootstrap.servlet.ServletStartup.contextInitialized(ServletStartup.java:109)<br/>
        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3843)<br/>
        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4342)<br/>
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:791)<br/>
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:771)<br/>
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)<br/>
        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:926)<br/>
        at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:889)<br/>
        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:492)<br/>
        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1149)<br/>
        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)<br/>
        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)<br/>
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)<br/>
        at org.apache.catalina.core.StandardHost.start(StandardHost.java:719)<br/>
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)<br/>
        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)<br/>
        at org.apache.catalina.core.StandardService.start(StandardService.java:516)<br/>
        at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)<br/>
        at org.apache.catalina.startup.Catalina.start(Catalina.java:578)<br/>
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)<br/>
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br/>
        at java.lang.reflect.Method.invoke(Method.java:606)<br/>
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)<br/>
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)<br/>
2015-03-08 18:48:09,064 DEBUG main: Initializing event processor: Drools Rule Engine<br/>
2015-03-08 18:48:09,075 INFO main: No rule definitions found in '/share/MD0_DATA/.qpkg/OpenRemote/OpenRemote/webapps/controller/rules'.<br/>
2015-03-08 18:48:09,076 INFO main: Initialized event processor : Drools Rule Engine<br/>
2015-03-08 18:48:09,077 DEBUG main: Initializing event processor: RRD4J Data Logger<br/>
2015-03-08 18:48:09,857 INFO main: Initialized event processor : RRD4J Data Logger<br/>
2015-03-08 18:48:09,858 DEBUG main: Initializing event processor: EmonCMS Data Logger<br/>
2015-03-08 18:48:09,858 INFO main: Initialized event processor : EmonCMS Data Logger<br/>
2015-03-08 18:48:09,880 INFO main: Startup complete.<br/>
2015-03-08 18:48:09,905 INFO main: Controller Definition File Watcher for Default Deployer started.</p>


<p>Here, the vera error seem to be a bug since I haven't configurate any vera parameters...</p>

<p>Any Idea ??</p>

<p>Thank you</p>








				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23597002"></a>
                                    <font class="smallfont"><p>Maybe the Z-Wave protocol is not initialized because there are no Z-Wave commands. So create a Z-Wave command (and also a sensor) in the OpenRemote Designer.</p>

<p>Also note that there is a <a href="http://www.openremote.org/display/forums/New+Z-Wave+2.0.0+Release">New Z-Wave 2.0.0+Release</a> (see known issues section).</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rhitz at Mar 09, 2015 20:25
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:33</font></td>
		    </tr>
	    </table>
    </body>
</html>