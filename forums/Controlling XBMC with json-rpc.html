<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Controlling XBMC with json-rpc</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Controlling XBMC with json-rpc
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on May 16, 2013 by <font color="#0050B2">juha</font>.
				    </div>

				    <p>I have been fighting to get this to work, bearing in mind i'm not that familiar with linux/java/etc but I think I have an idea on why things are not working. I think that recently, the xbmc implementation of the json-rpc api expects the content-type to be set to application/json and I can't find a way to add this via the designer.</p>

<p>My reasoning is this, if I send the correctly formatted string via the simple restful client in chrome, it returns 'unsupported media type', however if I add the content type to the header it return the correct result.</p>

<p>so I had a look in the dev.log file and sure enough it shows this</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> 2012-09-20 19:28:08,105 ERROR [HTTP-Thread-15]: ClientProtocolException when executing HTTP method
 org.apache.http.client.HttpResponseException: Unsupported Media Type
</pre>
</div></div>

<p>So my question is how can I add the correct header info to the http command?</p>

<p>or I have I got this totally wrong </p>

<p>btw  -  I have the controller running on a raspberry pi with the openelec version of xbmc running on another raspberry pi and the plan is once XBMX is all controlled via OpenRemote, i'll get an Itach and start on the other devices</p>

<p>Thanks</p>

<p>Mark</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/20450846/20742306.class">HttpGetCommand.class</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/20450846/20742307.class">HttpGetCommandBuilder.class</a> (application/octet-stream)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-20450878"></a>
                                    <font class="smallfont"><p>Hi Mark,</p>

<p>Unfortunately there is no way of specifying this in the current HTTP protocol but I am in the process of re-factoring the protocol code so I will make sure this functionality is available.</p>

<p>Rich</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Sep 23, 2012 10:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450893"></a>
                                    <font class="smallfont"><p>Which version of XBMC are you using?<br/>
I have no problems with "Eden".<br/>
--Marcus</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 24, 2012 08:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450925"></a>
                                    <font class="smallfont"><p>Hi Marcus,</p>

<p>I'm using a recent build of the Openelec on a raspberry pi and according to this <a href="http://forum.xbmc.org/showthread.php?tid=98551&amp;pid=1055011#pid1055011" title="Link to XBMC Development Thread">link</a> the json-rpc api is being cleaned up so that it meets the formal specification and this is just one of the changes. I suspect that if you update your version to a recent nightly build you will see the same effect.</p>

<p>At present, until Rich updates the protcol, i'm looking to either use a telnet session the the localhost and kick of curl commands or use a proxy to modify the http header to include the content-type. Not sure which would be easiest with my limited knowledge <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Hope this clarifies the situation.</p>

<p>Btw keep up the good work, once this is cracked and I get my Itach all sorted, the next one to figure out for me is controlling my lightwaveRF stuff <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Mark</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by banditkd at Sep 24, 2012 21:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20450943"></a>
                                    <font class="smallfont"><p>Ok, I will update my version to be able to see this problem.</p>

<p>My Mac is dead in the moment and in the shop for repairs, but I should be able to create you a quick fixed version, once my system is back running.</p>

<p>Quite some people use Itach already (I have irtrans).</p>

<p>--Marcus</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 25, 2012 09:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20451706"></a>
                                    <font class="smallfont"><p>Hi Marcus, any news on your dead mac <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>, did you manage to replicate my problem?</p>

<p>regards</p>

<p>mark</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by banditkd at Oct 11, 2012 00:03
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452504"></a>
                                    <font class="smallfont"><p>My mac is alive again and I was able to reproduce the problem.<br/>
I created a fix for the HTTP protocol. <br/>
Copy these 2 files to your "Openremote-Controller/webapps/controller/WEB-INF/classes/org/openremote/controller/protocol/http" folder.<br/>
After that you have to manually add the needed attribute to the controller.xml file since this is not available in the designer yet.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
    &lt;command id=<span class="code-quote">"7"</span> protocol=<span class="code-quote">"http"</span>&gt;
      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"  {&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.Right&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;
      &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;
      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;
      &lt;property name=<span class="code-quote">"contentType"</span> value=<span class="code-quote">"application/json"</span> /&gt;
      &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;
      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.100.30:8888/jsonrpc"</span> /&gt;
</span>      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"right"</span> /&gt;
    &lt;/command&gt;

</pre>
</div></div>

<p><a href="attachments/20450846/20742307.class">HttpGetCommandBuilder.class</a><br/>
<a href="attachments/20450846/20742306.class">HttpGetCommand.class</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 19, 2012 23:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452522"></a>
                                    <font class="smallfont"><p>What about XML-RPC? I am using a domotica system called DomotiGa (build on gambas) that has a XML-RPC interface. would love to use that.</p>

<p><a href="http://www.domotiga.nl/projects/domotiga/wiki/XML-RPC">http://www.domotiga.nl/projects/domotiga/wiki/XML-RPC</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by daferra at Oct 20, 2012 16:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452530"></a>
                                    <font class="smallfont"><p>With the patch you can set any Content-Type you want.<br/>
Just give it a try.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 20, 2012 21:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452534"></a>
                                    <font class="smallfont"><p>can you tell me how i put a xml-rpc request in a http post workload?</p>

<p>I already figured out wich content type is need to use "text/xml" </p>

<p>for example I have a option "system.program_version" XML request needs to be</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;methodCall&gt;
-
&lt;methodName&gt;
system.program_version	
&lt;/methodName&gt;
-
&lt;params&gt;

&lt;/params&gt;
&lt;/methodCall&gt;
</pre>
</div></div>

<p>I tried to place these between quote's like this</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
 &lt;command id=<span class="code-quote">"117"</span> protocol=<span class="code-quote">"http"</span>&gt;
      &lt;property name=<span class="code-quote">"workload"</span> value="&lt;methodCall&gt;&lt;methodName&gt;system.program_version	&lt;/methodName&gt;&lt;params&gt;&lt;/params&gt;&lt;/methodCall&gt; /&gt;
      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;
      &lt;property name=<span class="code-quote">"contentType"</span> value=<span class="code-quote">"text/xml"</span> /&gt;
      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//172.16.31.238:9009"</span> /&gt;
</span>      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"xmlrpc"</span> /&gt;
    &lt;/command&gt;
</pre>
</div></div>


<p>Edit, can you tell me how I can put "code" into a message [code][/code] is not working?</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by daferra at Oct 21, 2012 07:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452537"></a>
                                    <font class="smallfont"><blockquote><p>Edit, can you tell me how I can put "code" into a message code[/code] is not working?</p></blockquote>
<p>The tags code should be between {}. That is WIKI mark up, not xml or html. Wiki end tags do not have a backslash "\"<br/>
(I got my mark up knowledge for this site from here: <a href="https://confluence.atlassian.com/display/DOC/Confluence+Wiki+Markup">https://confluence.atlassian.com/display/DOC/Confluence+Wiki+Markup</a>)<br/>
<b>Note</b>: This Wiki uses curly {} brackets for tags, others may use square [] brackets</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 21, 2012 10:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452549"></a>
                                    <font class="smallfont"><p>thanks Pieter!</p>

<p>@Marcus, can you help me out with the above xml-rpc call?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by daferra at Oct 21, 2012 12:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452579"></a>
                                    <font class="smallfont"><p>Did you use the designe to edit the http command?<br/>
The code you posted is not valid. There is a " mussing. <br/>
Also the &lt;&gt; have to be escaped which should be done by the designer.</p>

<p>In general this should work. I am missing the "-" you posted in your needed workload.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 21, 2012 20:33
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452651"></a>
                                    <font class="smallfont"><p>I used a text editor for that. did't know that the designer changed input.</p>

<p>When I create everything with the designer, I get this result.</p>

<div style="max-width: 800px;"><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
    &lt;command id=<span class="code-quote">"149"</span> protocol=<span class="code-quote">"http"</span>&gt;
      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"&amp;lt;methodCall&amp;gt; - &amp;lt;methodName&amp;gt; system.program_version  &amp;lt;/methodName&amp;gt; - &amp;lt;params&amp;gt;  &amp;lt;/params&amp;gt; &amp;lt;/methodCall&amp;gt;"</span> /&gt;
      &lt;property name=<span class="code-quote">"pollingInterval"</span> value=<span class="code-quote">"10s"</span> /&gt;
      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"GET"</span> /&gt;
      &lt;property name=<span class="code-quote">"contentType"</span> value=<span class="code-quote">"text/xml"</span> /&gt;
      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//172.16.31.238:9009"</span> /&gt;
</span>      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"xmlrpc"</span> /&gt;
    &lt;/command&gt;
</pre>
</div></div></div>


<p>I placed a extra line manually for the content type "text/xml"</p>

<p>This gives me the results underneed</p>

<div style="max-width: 800px;"><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
2012-10-24 12:08:35,211 ERROR [Polling thread <span class="code-keyword">for</span> sensor: xmlrpc]: ClientProtocolException when executing HTTP method
org.apache.http.client.HttpResponseException: Method Not Allowed
	at org.apache.http.impl.client.BasicResponseHandler.handleResponse(BasicResponseHandler.java:67)
	at org.apache.http.impl.client.BasicResponseHandler.handleResponse(BasicResponseHandler.java:54)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:735)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:709)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:700)
	at org.openremote.controller.protocol.http.HttpGetCommand.requestURL(HttpGetCommand.java:231)
	at org.openremote.controller.protocol.http.HttpGetCommand.run(HttpGetCommand.java:245)
	at java.lang.<span class="code-object">Thread</span>.run(<span class="code-object">Thread</span>.java:662)
</pre>
</div></div></div>

<p>EDIT: I used GET, so replaced it with POST</p>

<div style="max-width: 800px;"><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
    &lt;command id=<span class="code-quote">"149"</span> protocol=<span class="code-quote">"http"</span>&gt;
      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"&amp;lt;methodCall&amp;gt; - &amp;lt;methodName&amp;gt; system.program_version  &amp;lt;/methodName&amp;gt; - &amp;lt;params&amp;gt;  &amp;lt;/params&amp;gt; &amp;lt;/methodCall&amp;gt;"</span> /&gt;
      &lt;property name=<span class="code-quote">"pollingInterval"</span> value=<span class="code-quote">"10s"</span> /&gt;
      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;
      &lt;property name=<span class="code-quote">"contentType"</span> value=<span class="code-quote">"text/xml"</span> /&gt;
      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//172.16.31.238:9009"</span> /&gt;
</span>      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"xmlrpc"</span> /&gt;
    &lt;/command&gt;
</pre>
</div></div></div>

<p>then it gives me</p>

<div style="max-width: 800px;"><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
2012-10-24 12:24:28,953 ERROR [Polling thread <span class="code-keyword">for</span> sensor: xmlrpc]: ClientProtocolException when executing HTTP method
org.apache.http.client.HttpResponseException: Bad Request
	at org.apache.http.impl.client.BasicResponseHandler.handleResponse(BasicResponseHandler.java:67)
	at org.apache.http.impl.client.BasicResponseHandler.handleResponse(BasicResponseHandler.java:54)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:735)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:709)
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:700)
	at org.openremote.controller.protocol.http.HttpGetCommand.requestURL(HttpGetCommand.java:231)
	at org.openremote.controller.protocol.http.HttpGetCommand.run(HttpGetCommand.java:245)
	at java.lang.<span class="code-object">Thread</span>.run(<span class="code-object">Thread</span>.java:662)
</pre>
</div></div></div>

<p>EDIT: tested also without the "-" don't think they belong in the workload. gives me the same error as above</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by daferra at Oct 24, 2012 12:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452656"></a>
                                    <font class="smallfont"><p>Looks like something is still wrong and the server denies the request.<br/>
I don't see any example request on the DomotiGa website. Only the method names are mentioned.</p>

<p>Maybe the spaces before and after "system.program_version".<br/>
Try with a workload like this: &lt;methodCall&gt;&lt;methodName&gt;system.program_version&lt;/methodName&gt;&lt;params&gt;&lt;/params&gt;&lt;/methodCall&gt;</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 24, 2012 13:50
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452657"></a>
                                    <font class="smallfont"><p>Tried your example above. in code it looks like this.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;command id=<span class="code-quote">"149"</span> protocol=<span class="code-quote">"http"</span>&gt;
      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"&amp;lt;methodCall&amp;gt;&amp;lt;methodName&amp;gt;system.program_version&amp;lt;/methodName&amp;gt;&amp;lt;params&amp;gt;&amp;lt;/params&amp;gt;&amp;lt;/methodCall&amp;gt;"</span> /&gt;
      &lt;property name=<span class="code-quote">"pollingInterval"</span> value=<span class="code-quote">"10s"</span> /&gt;
      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;
      &lt;property name=<span class="code-quote">"contentType"</span> value=<span class="code-quote">"text/xml"</span> /&gt;
      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//172.16.31.238:9009"</span> /&gt;
</span>      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"xmlrpc"</span> /&gt;
    &lt;/command&gt;
</pre>
</div></div>

<p>gives me the exact same error</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by daferra at Oct 24, 2012 14:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452658"></a>
                                    <font class="smallfont"><p>I guess you have to ask somebody from Domotiga to find out why the reuest is not accepted.<br/>
Maybe you can see something in Domotiga log files.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 24, 2012 14:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452694"></a>
                                    <font class="smallfont"><p>After some tests with wireshark it look like OpenRemote is not sending a correct request to DomotiGa.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
No.     Time        Source                Destination           Protocol Info
  68519 189.464050  192.168.178.22        192.168.178.22        TCP      46180 &gt; pichat [PSH, ACK] Seq=1 Ack=1 Win=32896 Len=170 TSV=269326361 TSER=269326361

Frame 68519: 236 bytes on wire (1888 bits), 236 bytes captured (1888 bits)
Ethernet II, Src: 00:00:00_00:00:00 (00:00:00:00:00:00), Dst: 00:00:00_00:00:00 (00:00:00:00:00:00)
Internet Protocol, Src: 192.168.178.22 (192.168.178.22), Dst: 192.168.178.22 (192.168.178.22)
    Version: 4
    Header length: 20 bytes
    Differentiated Services Field: 0x00 (DSCP 0x00: Default; ECN: 0x00)
    Total Length: 222
    Identification: 0x0efb (3835)
    Flags: 0x02 (Don't Fragment)
    Fragment offset: 0
    Time to live: 64
    Protocol: TCP (6)
    Header checksum: 0x45a1 [correct]
    Source: 192.168.178.22 (192.168.178.22)
    Destination: 192.168.178.22 (192.168.178.22)
Transmission Control Protocol, Src Port: 46180 (46180), Dst Port: pichat (9009), Seq: 1, Ack: 1, Len: 170
    Source port: 46180 (46180)
    Destination port: pichat (9009)
    [Stream index: 24]
    Sequence number: 1    (relative sequence number)
    [Next sequence number: 171    (relative sequence number)]
    Acknowledgement number: 1    (relative ack number)
    Header length: 32 bytes
    Flags: 0x18 (PSH, ACK)
    Window size: 32896 (scaled)
    Checksum: 0xe64e [validation disabled]
        [Good Checksum: False]
        [Bad Checksum: False]
    Options: (12 bytes)
    [SEQ/ACK analysis]
Data (170 bytes)

0000  50 4f 53 54 20 2f 20 48 54 54 50 2f 31 2e 31 0d   POST / HTTP/1.1.
0010  0a 55 73 65 72 2d 41 67 65 6e 74 3a 20 4f 70 65   .User-Agent: Ope
0020  6e 52 65 6d 6f 74 65 43 6f 6e 74 72 6f 6c 6c 65   nRemoteControlle
0030  72 0d 0a 43 6f 6e 74 65 6e 74 2d 54 79 70 65 3a   r..Content-Type:
0040  20 74 65 78 74 2f 78 6d 6c 0d 0a 43 6f 6e 74 65    text/xml..Conte
0050  6e 74 2d 4c 65 6e 67 74 68 3a 20 38 39 0d 0a 48   nt-Length: 89..H
0060  6f 73 74 3a 20 31 39 32 2e 31 36 38 2e 31 37 38   ost: 192.168.178
0070  2e 32 32 3a 39 30 30 39 0d 0a 43 6f 6e 6e 65 63   .22:9009..Connec
0080  74 69 6f 6e 3a 20 4b 65 65 70 2d 41 6c 69 76 65   tion: Keep-Alive
0090  0d 0a 45 78 70 65 63 74 3a 20 31 30 30 2d 43 6f   ..Expect: 100-Co
00a0  6e 74 69 6e 75 65 0d 0a 0d 0a                     ntinue....
    Data: 504f5354202f20485454502f312e310d0a557365722d4167...
    [Length: 170]
</pre>
</div></div>

<p>When I do a rpc call from commandline the package looks like this.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
No.     Time        Source                Destination           Protocol Info
  69320 195.085257  127.0.0.1             127.0.0.1             TCP      54579 &gt; pichat [PSH, ACK] Seq=1 Ack=1 Win=32896 Len=242 TSV=269326923 TSER=269326923

Frame 69320: 308 bytes on wire (2464 bits), 308 bytes captured (2464 bits)
Ethernet II, Src: 00:00:00_00:00:00 (00:00:00:00:00:00), Dst: 00:00:00_00:00:00 (00:00:00:00:00:00)
Internet Protocol, Src: 127.0.0.1 (127.0.0.1), Dst: 127.0.0.1 (127.0.0.1)
    Version: 4
    Header length: 20 bytes
    Differentiated Services Field: 0x00 (DSCP 0x00: Default; ECN: 0x00)
    Total Length: 294
    Identification: 0xdbe5 (56293)
    Flags: 0x02 (Don't Fragment)
    Fragment offset: 0
    Time to live: 64
    Protocol: TCP (6)
    Header checksum: 0x5fea [correct]
    Source: 127.0.0.1 (127.0.0.1)
    Destination: 127.0.0.1 (127.0.0.1)
Transmission Control Protocol, Src Port: 54579 (54579), Dst Port: pichat (9009), Seq: 1, Ack: 1, Len: 242
    Source port: 54579 (54579)
    Destination port: pichat (9009)
    [Stream index: 25]
    Sequence number: 1    (relative sequence number)
    [Next sequence number: 243    (relative sequence number)]
    Acknowledgement number: 1    (relative ack number)
    Header length: 32 bytes
    Flags: 0x18 (PSH, ACK)
    Window size: 32896 (scaled)
    Checksum: 0xff1a [validation disabled]
        [Good Checksum: False]
        [Bad Checksum: False]
    Options: (12 bytes)
    [SEQ/ACK analysis]
Data (242 bytes)

0000  50 4f 53 54 20 2f 52 50 43 32 20 48 54 54 50 2f   POST /RPC2 HTTP/
0010  31 2e 31 0d 0a 48 6f 73 74 3a 20 6c 6f 63 61 6c   1.1..Host: local
0020  68 6f 73 74 3a 39 30 30 39 0d 0a 41 63 63 65 70   host:9009..Accep
0030  74 3a 20 2a 2f 2a 0d 0a 43 6f 6e 74 65 6e 74 2d   t: */*..Content-
0040  54 79 70 65 3a 20 74 65 78 74 2f 78 6d 6c 0d 0a   Type: text/xml..
0050  43 6f 6e 74 65 6e 74 2d 4c 65 6e 67 74 68 3a 20   Content-Length: 
0060  31 33 39 0d 0a 0d 0a 3c 3f 78 6d 6c 20 76 65 72   139....&lt;?xml ver
0070  73 69 6f 6e 3d 22 31 2e 30 22 20 65 6e 63 6f 64   sion=<span class="code-quote">"1.0"</span> encod
0080  69 6e 67 3d 22 55 54 46 2d 38 22 3f 3e 0d 0a 3c   ing=<span class="code-quote">"UTF-8"</span>?&gt;..&lt;
0090  6d 65 74 68 6f 64 43 61 6c 6c 3e 0d 0a 3c 6d 65   methodCall&gt;..&lt;me
00a0  74 68 6f 64 4e 61 6d 65 3e 73 79 73 74 65 6d 2e   thodName&gt;system.
00b0  70 72 6f 67 72 61 6d 5f 76 65 72 73 69 6f 6e 3c   program_version&lt;
00c0  2f 6d 65 74 68 6f 64 4e 61 6d 65 3e 0d 0a 3c 70   /methodName&gt;..&lt;p
00d0  61 72 61 6d 73 3e 0d 0a 3c 2f 70 61 72 61 6d 73   arams&gt;..&lt;/params
00e0  3e 0d 0a 3c 2f 6d 65 74 68 6f 64 43 61 6c 6c 3e   &gt;..&lt;/methodCall&gt;
00f0  0d 0a                                             ..
    Data: 504f5354202f5250433220485454502f312e310d0a486f73...
    [Length: 242]
</pre>
</div></div>

<p>so it seems to me OpenRemote (or at least my version) is not sending a good request. Can you check on your development machine?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by daferra at Oct 25, 2012 07:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452695"></a>
                                    <font class="smallfont"><p>Your command line makes a post against "localhost:9009/RPC2"<br/>
Your OpenRemote URL looks likes this: "localhost:9009/"</p>

<p>Also it looks like OpenRemote (we use appche http client) is sending a http status (Continue).<br/>
I had this issue on another forum thread and the server (in that case some arduino device) did not support the http status 100.<br/>
This could be the case with DomotiGa also.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 25, 2012 08:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452697"></a>
                                    <font class="smallfont"><p>When I placed <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/RPC2</pre>
</div></div> behind the url in OpenRemote the two sniffed packages are the same. So I guess this is nothing to worry about.</p>

<p>If there is no http status 100 replay from the server, does this mean that OpenRemote would not send further data? I will ask the developer if there are options</p>


</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by daferra at Oct 25, 2012 10:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-20452698"></a>
                                    <font class="smallfont"><p>Here you see a description of the problem: <a href="http://haacked.com/archive/2004/05/15/http-web-request-expect-100-continue.aspx">http://haacked.com/archive/2004/05/15/http-web-request-expect-100-continue.aspx</a><br/>
It's related to how apache HttpClient is handling POST requests.<br/>
This means your server does not understand the Expect: 100-Continue header.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Oct 25, 2012 10:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037263"></a>
                                    <font class="smallfont"><p>DomotiGa developer is going to look into this. When I have some news or changes, I will let you know.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by daferra at Nov 06, 2012 15:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037535"></a>
                                    <font class="smallfont"><p>what controller.xml file do i have to add the code to?</p>

<p>i have copied the files but it wont work.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mcfrojd at Nov 18, 2012 23:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037538"></a>
                                    <font class="smallfont"><p>The controller.xml should be in your "webapps/controller" folder after syncing with the designer.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 19, 2012 08:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037544"></a>
                                    <font class="smallfont"><p>I have these lines in there all ready.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
    &lt;command id=<span class="code-quote">"46"</span> protocol=<span class="code-quote">"http"</span>&gt;

      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.Select&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;

      &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;

      &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.1.28:8888/jsonrpc"</span> /&gt;
</span>
      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"select"</span> /&gt;

    &lt;/command&gt;

    &lt;command id=<span class="code-quote">"47"</span> protocol=<span class="code-quote">"http"</span>&gt;

      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.Back&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;

      &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;

      &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.1.28:8888/jsonrpc"</span> /&gt;
</span>
      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"back"</span> /&gt;

    &lt;/command&gt;

    &lt;command id=<span class="code-quote">"48"</span> protocol=<span class="code-quote">"http"</span>&gt;

      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.Home&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;

      &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;

      &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.1.28:8888/jsonrpc"</span> /&gt;
</span>
      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"home"</span> /&gt;

    &lt;/command&gt;

    &lt;command id=<span class="code-quote">"49"</span> protocol=<span class="code-quote">"http"</span>&gt;

      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.Down&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;

      &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;

      &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.1.28:8888/jsonrpc"</span> /&gt;
</span>
      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"down"</span> /&gt;

    &lt;/command&gt;

    &lt;command id=<span class="code-quote">"50"</span> protocol=<span class="code-quote">"http"</span>&gt;

      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.Left&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;

      &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;

      &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.1.28:8888/jsonrpc"</span> /&gt;
</span>
      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"left"</span> /&gt;

    &lt;/command&gt;

    &lt;command id=<span class="code-quote">"51"</span> protocol=<span class="code-quote">"http"</span>&gt;

      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.Right&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;

      &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;

      &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.1.28:8888/jsonrpc"</span> /&gt;
</span>
      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"Right"</span> /&gt;

    &lt;/command&gt;

    &lt;command id=<span class="code-quote">"52"</span> protocol=<span class="code-quote">"http"</span>&gt;

      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.Up&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;

      &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;

      &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;

      &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.1.28:8888/jsonrpc"</span> /&gt;
</span>
      &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"Up"</span> /&gt;

    &lt;/command&gt;
</pre>
</div></div>

<p>And i have copied the 2 files, but i cant make it work.</p>

<p>The xbmc log says</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
13:43:51 T:4564307968   DEBUG: webserver: request received <span class="code-keyword">for</span> /jsonrpc
13:43:51 T:4564307968   DEBUG: JSONRPC: Incoming request: [{<span class="code-quote">"id"</span>:0,<span class="code-quote">"jsonrpc"</span>:<span class="code-quote">"2.0"</span>,<span class="code-quote">"method"</span>:<span class="code-quote">"Player.GetActivePlayers"</span>},{<span class="code-quote">"id"</span>:1,<span class="code-quote">"jsonrpc"</span>:<span class="code-quote">"2.0"</span>,<span class="code-quote">"method"</span>:<span class="code-quote">"Application.GetProperties"</span>,<span class="code-quote">"params"</span>:{<span class="code-quote">"properties"</span>:[<span class="code-quote">"volume"</span>,<span class="code-quote">"muted"</span>]}}]
13:43:51 T:4564307968   DEBUG: JSONRPC: Calling player.getactiveplayers
13:43:51 T:4564307968   DEBUG: JSONRPC: Calling application.getproperties
</pre>
</div></div>

<p>and repets that 12 times when i press one button once.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mcfrojd at Nov 19, 2012 12:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037547"></a>
                                    <font class="smallfont"><p>If you use the latest XBMC you need the content-type. That's what the 2 files are made for.<br/>
You need to add</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">   &lt;property name=<span class="code-quote">"contentType"</span> value=<span class="code-quote">"application/json"</span> /&gt;</pre>
</div></div>
<p>to your commands.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 19, 2012 13:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037548"></a>
                                    <font class="smallfont"><p>Nice, thats what i missed, thanx..</p>

<p>I guess i have to add that line after every time i sync with online designer</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mcfrojd at Nov 19, 2012 13:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037552"></a>
                                    <font class="smallfont"><p>i tried to add the following commands ta buttons:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.AudioDelayMinus&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;
      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.AudioDelayPlus&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;
      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.SubtitleDelayMinus&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;
      &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;, &amp;quot;method&amp;quot;: &amp;quot;Input.SubtitleDelayPlus&amp;quot;, &amp;quot;id&amp;quot;: 1}"</span> /&gt;
</pre>
</div></div>

<p>But they dont seem to work?<br/>
I have mapped these to keyboard keys in xbmc's keyboard.xml and there the commands AudioDelayMinus, AudioDelayPlus, SubtitleDelayMinus and SubtitleDelayPlus works.<br/>
but not as buttons in openremote</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mcfrojd at Nov 19, 2012 13:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037553"></a>
                                    <font class="smallfont"><p>The next designer update will know about this attribute.<br/>
Once that is online you will not have to edit the file after each sync.<br/>
Until then, you will have to add manually <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 19, 2012 13:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037554"></a>
                                    <font class="smallfont"><p>I can't say anthing to that. The "Input.Up", etc. are documented in XBMC's JSON documentation.<br/>
You can find all available JSON RPC calls here: <a href="http://wiki.xbmc.org/index.php?title=JSON-RPC_API/v5">http://wiki.xbmc.org/index.php?title=JSON-RPC_API/v5</a></p>

<p>You probably have to call the Input.Action RPC function.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 19, 2012 13:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037558"></a>
                                    <font class="smallfont"><p>i've been trying out the Input.SendText, Input.ExecuteAction and Input.Action with the parameters<br/>
(keyboard key "q"), subtitledelayminus and ACTION_SUBTITLE_DELAY_MIN but with no luck..</p>

<p>Mabye im formating the commands wrong or something.<br/>
Anyone that can help me out here?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mcfrojd at Nov 19, 2012 15:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037912"></a>
                                    <font class="smallfont"><p>I have also a weird problem. I have the following definition in my controller.xml:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;command id=<span class="code-quote">"26"</span> protocol=<span class="code-quote">"http"</span>&gt;
  &lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"{&amp;quot;jsonrpc&amp;quot;:&amp;quot;2.0&amp;quot;,&amp;quot;method&amp;quot;:&amp;quot;Input.Up&amp;quot;,&amp;quot;id&amp;quot;:1}"</span> /&gt;
  &lt;property name=<span class="code-quote">"username"</span> value=<span class="code-quote">"xbmc"</span> /&gt;
  &lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span> /&gt;
  &lt;property name=<span class="code-quote">"password"</span> value=<span class="code-quote">"xbmc"</span> /&gt;
  &lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//192.168.0.126:8888/jsonrpc?SendRemoteKey"</span> /&gt;
</span>  &lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"up"</span> /&gt;
&lt;/command&gt;
</pre>
</div></div>

<p>When I reboot my xbmc machine to a SystemRescue CD and start netcat on the same port as the XBMC API is running, I see the following request coming into my XMBC machine when I press the up key on my iPhone (thus this request must be coming from OpenRemote):</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
GET /jsonrpc?SendRemoteKey HTTP/1.1
Host: 192.168.0.126:8888
Connection: Keep-Alive
User-Agent: Apache-HttpClient/4.0.1 (java 1.5)
</pre>
</div></div>

<p>That doesn't even remotly looks like what I defined or what it should be... :S. What am I doing wrong? I have Java JDK 1.7 release 9 running on my OpenRemote Controller machine, which is an fully updated CentOS 6.3 machine.</p>

<p>Can anybody tell me what I'm doing wrong? <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>. Because the rest of you in this topic do get something like a correct responce, but this is something completly different :S.</p>

<p>I followed the following instructions to set it up: <a href="http://openremote.org/display/docs/OpenRemote+2.0+How+To+-+Control+XBMC">http://openremote.org/display/docs/OpenRemote+2.0+How+To+-+Control+XBMC</a></p>

<p>Any help is appreciated <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cybertinus at Nov 28, 2012 20:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037914"></a>
                                    <font class="smallfont"><p>Which version of the controller are you using?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 28, 2012 21:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037915"></a>
                                    <font class="smallfont"><p>Hello Marcus,</p>

<p>First of all: thanks for your very fast reply! Really nice!</p>

<p>Then to answer your question: 2.0.1. Trying to control XBMC via OpenRemote is the first ever thing I do with OpenRemote. So I created 2 virtual machines in VirtualBox today: one for XBMC, one for OpenRemote <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>. I downloaded everything today too, so everything is the newest version. Because this is the first thing I do with OpenRemote: please don't be surprised if I make some n00b mistake <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cybertinus at Nov 28, 2012 21:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037917"></a>
                                    <font class="smallfont"><p>You probably need to install the 2 files I mentioned in the 7th post of this thread.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 28, 2012 21:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21037918"></a>
                                    <font class="smallfont"><p>Hello Marcus,</p>

<p>Thanks for the tip. I checked those files out already and I noticed they where at my OpenRemote server. And I thought it where those, because I have the latest and greatest version of the controller. But I was wrong <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> (assuption is the mother of all f***ups <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> ). I updated them nevertheless and now I can controll my XBMC from my iPhone via OpenRemote! Nice! Thanks for your quick and good help.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cybertinus at Nov 28, 2012 21:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038722"></a>
                                    <font class="smallfont"><p>I realize that you've solved the issue configuring the string sent to XBMC but I have a follow-up question. When I ran into this problem with XMBC (Frodo) and OR I started using a raw connection instead since JSON RPC is supported over that as well (as long as it's enabled by the host). Are there features specifically offered over http compared to raw, am I missing out? The reason for me choosing raw was that I didn't want to fiddle to much with the standard installation and I've gotten all the normal controls working.</p>

<p>I guess the two sides are as follows:</p>

<p>Pro: It "should" be more future proof to use raw as it doesn't care about the method as discussed in this thread.<br/>
Possible con: It might not have all the features of an http connection?</p>

<p>Just trying to figure out if people have missed the raw option or if I have work ahead of me to migrate towards http <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 18, 2012 13:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038723"></a>
                                    <font class="smallfont"><p>What exactly is the raw connection?<br/>
I guess I am one of the people who missed the raw option <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Dec 18, 2012 13:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038724"></a>
                                    <font class="smallfont"><p>I went into my designer to give you an example and realized I have "lied" a bit, it does care about the rpc version but that's just part of the raw string, easily changed at least <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Example of play/pause command for xmbc:</p>

<p>Protocol: TCP/IP<br/>
IP Address: &lt;xbmc host&gt;<br/>
Port: 9090<br/>
Command: <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">{<span class="code-quote">"jsonrpc"</span>: <span class="code-quote">"2.0"</span>, <span class="code-quote">"method"</span>: <span class="code-quote">"Player.PlayPause"</span>, <span class="code-quote">"params"</span> : {<span class="code-quote">"playerid"</span> : 1}, <span class="code-quote">"id"</span>: 1}</pre>
</div></div></p>

<p>9090 is enabled by the option named something like "enable other computers to control xbmc" or similar. Not in front of the XBMC install right now so the wording might differ a bit. The method works well for me and the only thing I'm missing (in general when it comes to TCP/IP and Telnet) is a connection manager so OR doesn't open a new connection and closes it unless needed. But that's a different discussion and on my wishlist for future OR improvements.</p>

<p>As mentioned though, don't know if this approach has any drawbacks compared to http, haven't found any yet but I'm just using vanilla commands (navigation, playback control, osd, back). In a perfect world I'd integrate fanart of now playing etc in the same way as the many xbmc remote apps do in a nice way but that's waaaay in the future for me at least <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 18, 2012 13:35
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038726"></a>
                                    <font class="smallfont"><p>I see the formating goes a bit bananas in the above example, can I enclose the "code" in some sort of brackets to make it look nicer? Not really a frequent wiki user.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 18, 2012 13:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038727"></a>
                                    <font class="smallfont"><p>I see, you mean plain TCP protocol instead of HTTP protocol <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> I don't know if there is an advantage for one or the other.<br/>
A connection manager is on the wishlist and Richard actually started already to work in this <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>PS: Please put the attributes between two {code}...{code} tags or else the wiki markup is screwing up the string.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Dec 18, 2012 13:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038729"></a>
                                    <font class="smallfont"><p>Thank you for that, I was trying to use &lt;&gt; brackets and that didn't do the trick <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 18, 2012 13:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038781"></a>
                                    <font class="smallfont"><p>And yes, I meant "raw" tcp/ip instead of http as connection method, less hassle imho.</p>

<p>Nice that a connection manager is in the works, I've read a couple of threads about it but couldn't really make head or tails of the current status. It seemed to be in testing a while back and then all the discussion i could find just sort of died out.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 18, 2012 17:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038782"></a>
                                    <font class="smallfont"><p>Hello Tobias,</p>

<p>I switched to the TCP option too, after I posted the questions above. A lot less to think about, when it comes to the easy commands.<br/>
I've looked it up on the XBMC Wiki and it looks like there are a few differences between the 2 protocols, but noting major. The API is set up in such a way that both methods work and keep working.</p>

<p>See <a href="http://wiki.xbmc.org/index.php?title=JSON-RPC_API">http://wiki.xbmc.org/index.php?title=JSON-RPC_API</a> for more info.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cybertinus at Dec 18, 2012 18:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038806"></a>
                                    <font class="smallfont"><p>Hi Cybertinus,</p>

<p>So I'm not alone in going that route at least, it wasn't mentioned in the thread that you switched though <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>How far have you gotten with your controls, at the moment my OR works as a "dummy remote" in terms of not quering for status or reacting to responses from commands sent. As I mentioned earlier, when I've gotten the basic functionality for things that need to be controlled via OR, time will be spent trying to improve the functionality of the different parts (xbmc/receiver/etc). I don't know if it's doable to show fanart of the currently playing movie/series etc in openremote but if someone has fiddled with this it would be highly interesting.</p>

<p>In a perfect world I'd like all the different open source developers for different control software (xbmc remote/OR/other KNX software etc) under one project to create one awesome interface for control but I know it's not doable and more of a pipe dream <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 19, 2012 07:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038807"></a>
                                    <font class="smallfont"><p>Marcus,</p>

<p>Is the connection manager scheduled to be included in the 2.1 release. In other words, if I try the 2.1 snapshot, is that included?</p>

<p>Tnx</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 19, 2012 07:37
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038813"></a>
                                    <font class="smallfont"><p>No. It' somewhere in Richard's branches. If you are willing to compile and test, I can ask him to post a comment here.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Dec 19, 2012 07:51
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038818"></a>
                                    <font class="smallfont"><p>I'll definetly give this a try later on, will post here when "ready". I have no problem compiling and testing, it's just that this is further down the list than other issues at the moment. Right now I'm not that far along making things working perfectly, they just have to work somewhat <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>That said, a connection manager would be very suitable in order to remove the need for doing a query every now and then. For example, my receiver sends the updated status off power/volume/source etc no matter how it's changed and with a connection manager the sensor update would be instant instead of at the next query. Basically, the tcp/telnet connections would work in similar way to that of KNX (which is working great btw).</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 19, 2012 09:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038839"></a>
                                    <font class="smallfont"><p>I implemented a Connection Manager version of the Controller over a year ago out of my own need; I had a lot of sensors that were connecting to a Telnet server and the Telnet protocol as it is tries to make a separate connection for each sensor every second or so, yet the telnet server I was using wouldn't accept more than a handful of concurrent connections so things just weren't working correctly for me.</p>

<p>As you say protocols that can maintain a two way connection should do so rather than connecting/disconnecting and polling the device every n seconds.</p>

<p>The controller code base has changed quite a bit since I created the connection manager branch and it doesn't really fit with the long term strategy of the controller but there is a definite need for this functionality and for it to be included in the released controller. I did start looking into implementing this a few months ago but got dragged back into the Web Console and now the Android Console but I definitely want to get back to this at some point in the New Year. We have to be careful about how this is implemented and ensure backwards compatibility is maintained also.</p>

<p>Rich</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Dec 19, 2012 17:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038840"></a>
                                    <font class="smallfont"><p>That sounds promising, hopefully next year then.</p>

<p>I'll start getting to telnet/tcp statuses and responses in due time (just looked at it briefly so far) since I need that for more advanced XBMC and especially receiver control. When I'm at that stage I'll be happy to help out with testing. This being worked on next year is not a problem since there are tons of others things to look into in the meantime.</p>

<p>Tnx</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 19, 2012 18:05
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038847"></a>
                                    <font class="smallfont"><p>Hello Tobias,</p>

<p>Indeed it wasn't mentioned. I made that switch a few days after my HTTP problem was fixed. I've got the basic functionality working too. That is: up, down, left, right, ok/enter, back, home, poweroff and contextmenu. The most advanced features I've got working are play/pause, stop, next and previous. Those last 4 are more advanced then the other ones, because officially you need to retrieve the player ID from XBMC and you must use that one in the actual command. The PlayerID is 1 99% of the time, but if you retrieve it first, then the remote works 100% of the time. To have those 2 stages I've created a little PHP-script and the command the button runs is that PHP script. In that PHP script I run the 2 TCP calls. It works really nice, I must say.</p>

<p>I haven't looked into displaying fanart or something on the remote. I'm also a beginner <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>. XBMC is at the moment all I controll with OpenRemote. I want to add KNX and stuff like that later on.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by cybertinus at Dec 19, 2012 20:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21038849"></a>
                                    <font class="smallfont"><p>I've so far managed to get basic stuff working, I actually didn't care about setting the movie player to anything other than 1, I just assumed that was always the case. Would you care to share your config with the php script with a fellow beginner?</p>

<p>I also have to figure out things that are working well on the Yatze remote (xmbc remote for Android) such as cycle subtitle. The way it works for Yatze is that each time I press the sub button it cycles one subtitle and displays the new subtitle on screen (on the xbmc host that is). When you've scrolled through all available subtitles it also includes "subtitles disabled" and then starts over if you press again. I'm guessing they've built some fancy logic themselves here, the only commands I can find in the JSON RPC are "next", "previous", "enable", "disable" or something like that at least. So this is a two-parter. Firstly, I haven't gotten the subtitle button to "include" disable subtitles, it just goes through the list again and again. Secondly, when I press the sub button it doesn't display the name of the newly selected subtitle, it's just quiet. I'm guessing writing little wrappers around the different buttons might be the solution here...</p>

<p>Same with navigation buttons in Yatze, when in menus they navigate, when in video they skip in video (even though you're on the identical page in the app) but these commands are separated in JSON RPC.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by tobo at Dec 19, 2012 20:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21039269"></a>
                                    <font class="smallfont"><p>Been following the thread @Tobo, very interesting and thanks to you and support from Marcus, I'm getting something useable.  </p>

<p>One problem I am having is creating volume up/down controls like on the Yatze remote.  The obvious alternative is just to have my receiver control the volume instead of XBMC but as I don't have an IR blaster at the moment, I am setting the volume on my receiver to a set amount and controlling via XBMC.  I have managed to create an attentuate button which when pressed sets the XBMC volume to a fixed amount but that's all it does.</p>

<p>I'm on XBMC Eden, apparently that has no 'increment' function in JSONRPC but Frodo does/will have.  Just curious if you'd managed to create volume buttons?</p>

<p>EDIT:  Just confirmed on the XBMC forums it's not possible on Eden without going to some effort to write a script to add 2% to the volume.  With Frodo being released very shorty, I'll wait as that has the increment command as part of its JSONRPC kit.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by latz at Jan 02, 2013 19:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21039286"></a>
                                    <font class="smallfont"><p>Maybe a slider can be used for the volume?<br/>
You need one command to read the current volume and one to set it.<br/>
Use a level sensor (0-100) and a slider object.</p>

<p>Just an idea, I did not test this yet.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jan 03, 2013 11:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21039307"></a>
                                    <font class="smallfont"><p>Hi Marcus!  I've tried to find a json command to read the volume but can't seem to find one <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>  </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by latz at Jan 03, 2013 22:48
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21528992"></a>
                                    <font class="smallfont"><p>Hi there,</p>

<p>I've just started looking at openremote to control xbmc, and have made some progress. I have the basic commands working &amp; also a volume slider.  I'm using xbmc Frodo rc3 - which seems quite stable &amp; syncs thumbnails well across copies of xbmc.</p>

<p>The read volume command I use is :</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"jsonrpc": "2.0", "method": "Application.GetProperties", "params":\{"properties":["volume"]},"id": "ReadVol"}
</pre>
</div></div>

<p>Understanding the json commands was a bit of an issue.  Also when you get the value back from xbmc you have to use a regular expression to get the number representing the volume out of the response - that was a nightmare &amp; still not sure if the one I've used is 100% correct - but it seems to work.</p>

<p>HTH   </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by stevehobbs at Jan 12, 2013 18:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414291"></a>
                                    <font class="smallfont"><p>Can you tell me what regex you used, because I am unable to work it out, whatever I try I cannot extract the number representing the volume value of the read volume command.</p>

<p>Thanks in advance</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by czruska at May 15, 2013 11:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414342"></a>
                                    <font class="smallfont"><p>I solved it in the meantime, it's [0-9][0-9][0-9], volume feedback works immediately!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by czruska at May 16, 2013 10:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414344"></a>
                                    <font class="smallfont"><p>Sorry that's only working for 100% volume, the real solution proved to be \d{2,3}</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by czruska at May 16, 2013 10:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414371"></a>
                                    <font class="smallfont"><p>OK, I have to correct myself again, but this time it is seems to be the final solution for all values (0-100)<br/>
So the regex is: (\d+)(?=})</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by czruska at May 16, 2013 17:32
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:44</font></td>
		    </tr>
	    </table>
    </body>
</html>