<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Using Scripts instead of Rules to implement a simple Thermostat</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Using Scripts instead of Rules to implement a simple Thermostat
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 15, 2014 by <font color="#0050B2">alexroche</font>.
				    </div>

				    <p>I find rules too complicated...</p>

<p>Is there any way to access OR commands and OR sensors from a script ?</p>

<p>I want to run a script in the background to implement a simple thermostat that can be Enabled or Disabled. If it is enabled it will periodically check if sensor current_temperature is &lt;= desired_temperature and depending on it it will issue the command heater_on or heater_off. The next step will be to add more capabilities to automatically enable or disable the thermostat at specific times of the day. I find this too difficult to implement through a rule.</p>

<p>I guess it´s possble through HTTP using this API:</p>

<p> 'http://localhost:8080/controller/rest/control/{control_id},{command_param}'<br/>
 'http://localhost:8080/controller/rest/status/{sensor_id},{sensor_id},...'</p>

<p>But then I don´t find an easy way to determine control_ids and sensor_ids. I assume I need to look for them in controller.xml, but then, will these IDs change when I am still adding and deleting commands and sensors from designer?</p>

<p>Is there a simpler way to access commands and sensors from a python script? </p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22885292"></a>
                                    <font class="smallfont"><blockquote>
<p> I find this too difficult to implement through a rule.</p></blockquote>
<p>In fact what you want to do is quite simple through rules. Perhaps in case that it is too difficult for you then you can consider hiring somebody who can do it for you?</p>

<p>On the other hand, the way you want to implement it is much more difficult and fragile - mind that sensor_id's are dynamic and can change with controller.xml update.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Mar 16, 2014 09:59
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:39</font></td>
		    </tr>
	    </table>
    </body>
</html>