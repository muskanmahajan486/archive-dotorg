<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : IPhone will not login</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : IPhone will not login
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 03, 2012 by <font color="#0050B2">mobileme</font>.
				    </div>

				    <p>I just setup a new controller and designed two panels, an iPad and iPhone. Everything works great with the iPad. The iPhone on the other hand is not even logging in. I just get the loading screen and it will sit there for hours. </p>

<p>Do I need to change anything in the controller to get it to work with the iPhone? </p>

<p>Thanks,<br/>
Mike</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-19989011"></a>
                                    <font class="smallfont"><p>Where exacly does the phone hang? Do you see the controller and can select the panel?<br/>
If auto-detect does not work you can try and enter controller URL manually.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jun 04, 2012 10:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989023"></a>
                                    <font class="smallfont"><p>I suppose you're using the iOS console 2.1 from the App Store, as you're mentioning iPad and iPhone.<br/>
There is no difference between iPad and iPhone, so nothing special is required to make the iPhone work.<br/>
When you say "not even logging in", what do you mean? Are you using security or just referring to the connection between iPhone and controller.<br/>
As Marcus asked, are you using auto-discovery ? If yes, does the controller appear in the Settings page ?<br/>
Does the green checkmark appear next to the controller in the Settings page ? The spinning wheel, red mark, lock ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jun 04, 2012 13:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989025"></a>
                                    <font class="smallfont"><p>Yes I am using iOS console 2.1 on my iPhone 4s.  The phone is communicating with the controller.  I can enter in the URL manually and I do get a green check mark.  I choose the iPhone panel, then I enter in the username and password that I have setup on the controller which is the same for the iPad.  After that the phone just sits on the openremote screen with "Loading... Please wait.".  The app will stay at this point and go no further just eating up battery.  </p>

<p>After about an hour, I close the app and kill it.  I open the app again and it asks for the username and password again and the same thing happens.  </p>

<p>Should I create a different username and password for the iPhone?  I also noticed that the screen resolution on the iPhone 4s is much higher than the default iPhone template in the designer.  Should I create a custom panel resolution?</p>

<p>Thanks,<br/>
Mike</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mobileme at Jun 04, 2012 13:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989026"></a>
                                    <font class="smallfont"><p>There should be no need to create specific login per device, you can use the same for both iPad and iPhone.<br/>
I'll do some more tests around authentication, as this should indeed work (+ as it's the same code, it's a bit strange it works on the iPad and not the iPhone).</p>

<p>Can you maybe post the extract for the security section of your web.xml so I can check which URL you're protecting and how ?</p>

<p>As for the template, we don't have any specific support for Retina devices yet, this is something I need to look at when I get the chance.<br/>
Creating a custom template with a higher resolution will not work, you would only be able to display a 1/4th of your template on the iPhone screen.</p>

<p>The pixel resolution on an iPhone 4S is 960 x 640 but the point resolution is still 480x320, so the template resolution still should be 480x320.<br/>
UI elements and text (e.g. when using a "plain" slider or a label) will already take advantage of the Retina display but we need to find a way to provide higher resolution images to Retina devices.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jun 04, 2012 13:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989027"></a>
                                    <font class="smallfont"><p>Here is the web.xml security part of the file.  I setup one user with the role of openremote.  Like I said the iPad works great everytime.  Its very strange that the iPhone is not logging in.</p>

<p>&lt;!--</p>

<p>  =================================================================================================</p>

<p>    Security Configuration</p>

<p>  =================================================================================================</p>

<p>  --&gt;</p>


<p>  &lt;!-- Constraint resource: /rest/control/* --&gt;</p>

<p>    &lt;security-constraint&gt;<br/>
      &lt;web-resource-collection&gt;<br/>
        &lt;web-resource-name&gt;Control command RESTful service of Openremote Controller&lt;/web-resource-name&gt;<br/>
        &lt;description&gt;Control command RESTful service of Openremote Controller&lt;/description&gt;<br/>
        &lt;url-pattern&gt;/rest/control/*&lt;/url-pattern&gt;<br/>
        &lt;http-method&gt;GET&lt;/http-method&gt;<br/>
        &lt;http-method&gt;POST&lt;/http-method&gt;<br/>
      &lt;/web-resource-collection&gt;<br/>
      &lt;auth-constraint&gt;<br/>
        &lt;role-name&gt;openremote&lt;/role-name&gt;<br/>
      &lt;/auth-constraint&gt;<br/>
    &lt;/security-constraint&gt;</p>


<p>  &lt;!-- Constraint resource: /rest/panel/* --&gt;</p>

<p>    &lt;security-constraint&gt;<br/>
      &lt;web-resource-collection&gt;<br/>
        &lt;web-resource-name&gt;Panel identity RESTful service of Openremote Controller&lt;/web-resource-name&gt;<br/>
        &lt;description&gt;Panel identity RESTful service of Openremote Controller&lt;/description&gt;<br/>
        &lt;url-pattern&gt;/rest/panel/*&lt;/url-pattern&gt;<br/>
        &lt;http-method&gt;GET&lt;/http-method&gt;<br/>
        &lt;http-method&gt;POST&lt;/http-method&gt;<br/>
      &lt;/web-resource-collection&gt;<br/>
      &lt;auth-constraint&gt;<br/>
        &lt;role-name&gt;openremote&lt;/role-name&gt;<br/>
      &lt;/auth-constraint&gt;<br/>
    &lt;/security-constraint&gt;</p>



<p>   &lt;security-constraint&gt;<br/>
     &lt;web-resource-collection&gt;<br/>
       &lt;web-resource-name&gt;Status command RESTful service of Openremote Controller&lt;/web-resource-name&gt;<br/>
       &lt;description&gt;Status command RESTful service of Openremote Controller&lt;/description&gt;<br/>
       &lt;url-pattern&gt;/rest/status/*&lt;/url-pattern&gt;<br/>
       &lt;http-method&gt;GET&lt;/http-method&gt;<br/>
       &lt;http-method&gt;POST&lt;/http-method&gt;<br/>
     &lt;/web-resource-collection&gt;<br/>
     &lt;auth-constraint&gt;<br/>
       &lt;role-name&gt;openremote&lt;/role-name&gt;<br/>
     &lt;/auth-constraint&gt;<br/>
   &lt;/security-constraint&gt;<br/>
   &lt;security-constraint&gt;<br/>
     &lt;web-resource-collection&gt;<br/>
       &lt;web-resource-name&gt;Polling command RESTful service of Openremote Controller&lt;/web-resource-name&gt;<br/>
       &lt;description&gt;Polling command RESTful service of Openremote Controller&lt;/description&gt;<br/>
       &lt;url-pattern&gt;/rest/polling/*&lt;/url-pattern&gt;<br/>
       &lt;http-method&gt;GET&lt;/http-method&gt;<br/>
       &lt;http-method&gt;POST&lt;/http-method&gt;<br/>
     &lt;/web-resource-collection&gt;<br/>
     &lt;auth-constraint&gt;<br/>
       &lt;role-name&gt;openremote&lt;/role-name&gt;<br/>
     &lt;/auth-constraint&gt;<br/>
   &lt;/security-constraint&gt;</p>



<p>    &lt;login-config&gt;<br/>
      &lt;auth-method&gt;BASIC&lt;/auth-method&gt;<br/>
      &lt;realm-name&gt;OPENREMOTE_Controller&lt;/realm-name&gt;<br/>
    &lt;/login-config&gt;<br/>
    &lt;security-role&gt;<br/>
      &lt;role-name&gt;openremote&lt;/role-name&gt;<br/>
    &lt;/security-role&gt;</p>

<p>P.S.</p>

<p>This is a new install on an XP machine.  I have not got the webconsole to work yet either.  This is my second console install and I have used a custom resolution for a Droid X that worked great.  The default res for android was no big enough for my screen, so I created a bigger one and it works.  I have not gotten the webconsole to work on both installs.  I'm not sure if that means anything, but I thought is was worth mentioning.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mobileme at Jun 04, 2012 13:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989078"></a>
                                    <font class="smallfont"><p>I made some head way on why the iphone will not work.  I removed the security and it seems to work with both the ipad and iphone.  I'm not sure why it would work with one and not the other.  For the time being, I can live with it, but I would really like to have some security on the controller.  I did change the port to a non standard one to prevent random people out.  Any ideas why security works for one and not the other?</p>

<p>Mike</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mobileme at Jun 05, 2012 16:43
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989080"></a>
                                    <font class="smallfont"><p>Are you using the same version of OpenRemote console on your iPhone and your iPad? (Just to make sure).<br/>
Also are both devices running the same version of iOS?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jun 05, 2012 16:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989083"></a>
                                    <font class="smallfont"><p>Yes, I am running the same version(5.1.1) on both and openremote version 2.1.  I have "The New iPad" and an iPhone 4s.  When I commented out the security in web.xml and restarted tomcat, the iphone worked. This is a weird one.  What could cause the security to work on the ipad and not the iphone? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mobileme at Jun 05, 2012 17:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989141"></a>
                                    <font class="smallfont"><p>No idea yet, nothing should cause this, it should work.<br/>
I'm going to do some more tests, I have an iPhone 4, not a 4s but I'll see how it goes.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jun 08, 2012 09:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19989149"></a>
                                    <font class="smallfont"><p>Thanks for your help with this.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mobileme at Jun 08, 2012 16:22
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:43</font></td>
		    </tr>
	    </table>
    </body>
</html>