<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Help with sensors Denon http protocol (Solved)</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Help with sensors Denon http protocol (Solved)
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 29, 2015 by <font color="#0050B2">desertdog</font>.
				    </div>

				    <p>I am trying to add IP control to my Denon X3000 using the unofficial port 80 HTTP protocol. This protocol is the one used by the Denon iphone app and on the device web interface. It is also available in Roomie and iRule. It allows multiple devices to control the AVR, while the TCP, port 23 protocol can only be used by one device. I have started a page on this device in my personal space and will move it to the documentation once I have it better refined.</p>

<p>I have tested many of the commands and most that I have tested work.</p>

<p>I would like to display on my iphone panel several feedbacks, which I believe is done in OpenRemote through sensors. I'd like to get status of these items: Power, Volume, Mute, Input source, Surround mode and Network function.</p>

<p>Below is what appears in my browser when I type</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
http:<span class="code-comment">//192.168.50.160/goform/formMainZone_MainZoneXml.xml</span>
</pre>
</div></div>

<p>How do I create a custom sensor with this to extract the 6 statuses that I want? Is there a way to parse this data? I think I have to set up 6 new commands with an Xpath expression, then set up 6 sensors. Then put 6 labels on my panel and link each label to the sensors. Can someone walk me through this process?</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
This XML file does not appear to have any style information associated with it. The document tree is shown below.
&lt;item&gt;
&lt;FriendlyName&gt;
&lt;value&gt;Denon AVR-X3000&lt;/value&gt;
&lt;/FriendlyName&gt;
&lt;Power&gt;
&lt;value&gt;ON&lt;/value&gt;
&lt;/Power&gt;
&lt;ZonePower&gt;
&lt;value&gt;ON&lt;/value&gt;
&lt;/ZonePower&gt;
&lt;RenameZone&gt;
&lt;value&gt;MAIN ZONE&lt;/value&gt;
&lt;/RenameZone&gt;
&lt;TopMenuLink&gt;
&lt;value&gt;ON&lt;/value&gt;
&lt;/TopMenuLink&gt;
&lt;VideoSelectDisp&gt;
&lt;value&gt;OFF&lt;/value&gt;
&lt;/VideoSelectDisp&gt;
&lt;VideoSelect&gt;
&lt;value/&gt;
&lt;/VideoSelect&gt;
&lt;VideoSelectOnOff&gt;
&lt;value&gt;OFF&lt;/value&gt;
&lt;/VideoSelectOnOff&gt;
&lt;VideoSelectLists&gt;
&lt;value index=<span class="code-quote">"ON"</span> table=<span class="code-quote">"On"</span> param=""/&gt;
&lt;value index=<span class="code-quote">"OFF"</span> table=<span class="code-quote">"Off"</span> param=""/&gt;
&lt;value index=<span class="code-quote">"SAT/CBL"</span> table=<span class="code-quote">"CBL/SAT"</span> param=""/&gt;
&lt;value index=<span class="code-quote">"DVD"</span> table=<span class="code-quote">"DVD"</span> param=""/&gt;
&lt;value index=<span class="code-quote">"BD"</span> table=<span class="code-quote">"Blu-ray"</span> param=""/&gt;
&lt;value index=<span class="code-quote">"GAME"</span> table=<span class="code-quote">"GAME"</span> param=""/&gt;
&lt;value index=<span class="code-quote">"AUX1"</span> table=<span class="code-quote">"AUX"</span> param=""/&gt;
&lt;value index=<span class="code-quote">"MPLAY"</span> table=<span class="code-quote">"MEDIA PLAYER"</span> param=""/&gt;
&lt;value index=<span class="code-quote">"TV"</span> table=<span class="code-quote">"TV AUDIO "</span> param=""/&gt;
&lt;value index=<span class="code-quote">"CD"</span> table=<span class="code-quote">"CD"</span> param=""/&gt;
&lt;/VideoSelectLists&gt;
&lt;ModelId&gt;
&lt;value&gt;5&lt;/value&gt;
&lt;/ModelId&gt;
&lt;BrandId&gt;
&lt;value&gt;DENON_MODEL&lt;/value&gt;
&lt;/BrandId&gt;
&lt;SalesArea&gt;
&lt;value&gt;0&lt;/value&gt;
&lt;/SalesArea&gt;
&lt;InputFuncSelect&gt;
&lt;value&gt;DVD&lt;/value&gt;
&lt;/InputFuncSelect&gt;
&lt;NetFuncSelect&gt;
&lt;value&gt;IRADIO&lt;/value&gt;
&lt;/NetFuncSelect&gt;
&lt;selectSurround&gt;
&lt;value&gt;STEREO&lt;/value&gt;
&lt;/selectSurround&gt;
&lt;VolumeDisplay&gt;
&lt;value&gt;Absolute&lt;/value&gt;
&lt;/VolumeDisplay&gt;
&lt;MasterVolume&gt;
&lt;value&gt;-36.0&lt;/value&gt;
&lt;/MasterVolume&gt;
&lt;Mute&gt;
&lt;value&gt;off&lt;/value&gt;
&lt;/Mute&gt;
&lt;RemoteMaintenance&gt;
&lt;value&gt;OFF&lt;/value&gt;
&lt;/RemoteMaintenance&gt;
&lt;SubwooferDisplay&gt;
&lt;value&gt;FALSE&lt;/value&gt;
&lt;/SubwooferDisplay&gt;
&lt;Zone2VolDisp&gt;
&lt;value&gt;TRUE&lt;/value&gt;
&lt;/Zone2VolDisp&gt;
&lt;/item&gt;
</pre>
</div></div>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23596081/23789761.png">InputStatus.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23596081/23789762.png">InputSensor.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23596081/23789763.png">WebConsole.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23596081/23789764.png">webConsole2.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23596082"></a>
                                    <font class="smallfont"><p>I figured it out for input. Now I'll have to rinse, wash and repeat for the 5 other parameters.</p>

<p>First, create a command that grabs the data<br/>
<img src="attachments/23596081/23789761.png" align="absmiddle" border="0"/></p>

<p>Next, create a custom sensor. Enter the possible data strings.<br/>
<img src="attachments/23596081/23789762.png" align="absmiddle" border="0"/></p>

<p>Finally, test<br/>
<img src="attachments/23596081/23789763.png" align="absmiddle" border="0"/></p>

<p><img src="attachments/23596081/23789764.png" align="absmiddle" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by desertdog at Jan 29, 2015 19:53
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:36</font></td>
		    </tr>
	    </table>
    </body>
</html>