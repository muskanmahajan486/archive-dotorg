<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : KNX + USB interface + Raspberry</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : KNX + USB interface + Raspberry
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Nov 08, 2013 by <font color="#0050B2">phil1348</font>.
				    </div>

				    <p>Hello all,</p>

<p>After a first test of Openremote on a old Via Epia server, I decided to turn to a Raspberry controller.</p>

<p>This is a very cheap combination both for purchase as for power requirement.</p>

<p>This was a good experience :</p>

<p>USB interface was not basically working. After solving this, the most tricky was to get a stable system, and the most important, a self rebooting system after i.e power shutdown.</p>

<p>I think I now get it. For the one interested, I'm open to share my experience.<br/>
If there is interest, I will try to post some resume of all the point I had to solve.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22879651"></a>
                                    <font class="smallfont"><p>Great. Thanks for sharing.<br/>
You can post your results here or maybe later we can create a How-To.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Nov 09, 2013 19:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595799"></a>
                                    <font class="smallfont"><p>After now one year experience, I have to conclude that raspberry (for remind, sold as educational device) is not enough reliable for this usage.</p>

<p>It did work very nicely at the beginning, but the behavior becomes more and more erratic with the time.</p>

<p>The two biggest problems are :</p>
<ul class="alternate" type="square">
	<li>Erratic restart after main power shutdown (what is frequent were it is installed, in France mountains area). Even adding a UPS did not completly solve the problem. The USB is not reconnected all the times, without physically disconnect-reconnect, ethernet reconnection is not 100% reliable etc..</li>
	<li>More and more erratic restart of OR after controller synchronisation.</li>
	<li>The same when "soft restart", such as reboot command.</li>
	<li>SD card corrupted, what seems to be a known problem on Raspberry PI.</li>
</ul>


<p>Thus, it's a good base to start and try, but it can only be used for "confort display". It cannot be used for heating regulation for example, cannot be used if you are not, as developper, on site. And for sure, cannot be used as a commercial product.</p>

<p>I will then conclude that I will not post any tutorial about "how to".<br/>
But I'm still open to share with others my experience.</p>

<p>For now, I will still continue with experiments..but I will have to turn to a more robust computer solution.<br/>
Does anyone can confirm than Synology would be a good option ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by phil1348 at Jan 23, 2015 13:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23595852"></a>
                                    <font class="smallfont"><p>Hi Philippe,</p>

<p>I agree there could be more reliable HW solutions than raspberry expecially in terms of resiliency after power outages; however not sure you can achieve a reliable restart in all cases using a single system even different from raspberry. Self-healing/whatchdog processes can help but have intrinsic limitation as they run on the same machine.</p>

<p>For unattended systems controlling important stuff like heating or security, in mi view the best is to put another system in parallel checking the main one. In my experience, a system that is very predictable and reliable is Arduino. I have personally never experienced a case of a wrong restart with Arduino...</p>

<p>So, one solution could be to enable a serial communication between OR system and Arduino with the former sending periodical messages and the latter checking consistency. In case of discrepancies, Arduino would take-over restarting in hardware the OR system or sending an alarm or whatever. More important, Arduino can force to a know state its I/O during this phase.</p>

<p>A more simple solution with Raspberry is to toggle one of its Output through a Rule and make arduino checking this toggle. This would ensure Rule engine is working....</p>


<p>Perhaps a bit overkilling, but in my view is the best you can achieve keeping the overall solution low cost, low power consumption and simple.</p>

<p>just my thought....</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by galbip at Jan 25, 2015 10:00
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:41</font></td>
		    </tr>
	    </table>
    </body>
</html>