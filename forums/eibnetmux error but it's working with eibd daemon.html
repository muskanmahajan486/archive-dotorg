<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : eibnetmux error but it's working with eibd daemon</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : eibnetmux error but it's working with eibd daemon
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 01, 2013 by <font color="#0050B2">simnet</font>.
				    </div>

				    <p>Hi all,</p>

<p>I have a little issue with my KNX infrastructure. For some reasons we want to use on an Alix system the eibnetmux daemon to communicate with the KNX Gateway to have multiple connection on it an a TCP socket to send some commands from other equipments. </p>

<p>In parallel we want to use Openremote and specify into the config.properties the IP of the Alix system. (eibnetmux and openremote are installed on the same box). But when i start openremote, have this error :</p>

<p>INFO 2013-03-01 10:22:32,963 (KNX): Connected to KNX-IP interface /192.168.1.20:3671<br/>
INFO 2013-03-01 10:22:32,970 (KNX): KNX-IP socket listener IOException<br/>
java.net.SocketException: Socket closed<br/>
        at java.net.PlainDatagramSocketImpl.receive0(Native Method)<br/>
        at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:135)<br/>
        at java.net.DatagramSocket.receive(DatagramSocket.java:775)<br/>
        at org.openremote.controller.protocol.bus.DatagramSocketPhysicalBus.receive(DatagramSocketPhysicalBus.java:38)<br/>
        at org.openremote.controller.protocol.knx.ip.IpProcessor$PhysicalBusListener.run(IpProcessor.java:79)<br/>
WARN 2013-03-01 10:22:32,979 (KNX): KNX-IP socket listener stopped<br/>
INFO 2013-03-01 10:22:32,984 (KNX): Stopping connection timer</p>



<p>If i use eibd daemon, openremote is working perfectly. If i monitor my KNX installation with the command "groupsocketlisten ip:127.0.0.1" it's working both with eibnetmux and eibd.</p>

<p>I need too configure something into eibnetmux to work with openremote ?</p>

<p>Thanks a lot for your answers.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-21858146"></a>
                                    <font class="smallfont"><p>Self answer ...<br/>
Wrong DPT into the designer. </p>

<p>It's ok now.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by simnet at Mar 01, 2013 13:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21858148"></a>
                                    <font class="smallfont"><p>Hi Guillarme.</p>

<p>For me Eibnetmux works great; I installed the Openremote Controller and Eibnetmux on the same Debian Linux System.<br/>
I don't know if this answer is good for you... but I try <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>1) eibnetmux: I use this command to start the deamon "eibnetmux -s -t -l 64 -r 64 -d -L <a href="file:/Desktop/OR/logs/eiblog">file:/Desktop/OR/logs/eiblog</a> 192.168.191.11:3671"<br/>
 (192.168.191.11 is our KNX/Gateway Merten)</p>

<p>2) openremote: when the controller start automaticcaly find the deamon with no-error<br/>
This my KNX log:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>INFO 2013-01-30 19:07:27,651 (KNX): KNX IP interface hostname set to 'null'     
INFO 2013-01-30 19:07:27,656 (KNX): KNX IP interface port set to '3671'         
INFO 2013-01-30 19:07:27,657 (KNX): KNX PhysicalBus clazz set to 'org.openremote.controller.protocol.bus.DatagramSocketPhysicalBus'                             
INFO 2013-01-30 19:07:27,660 (KNX): Scheduled reconnection task
WARN 2013-01-30 19:07:27,661 (KNX): Unknown KNX property '&lt;property name = "name" value = "1/1/3 STATO A4 TAVERNA"/&gt;'.                                          
INFO 2013-01-30 19:07:27,666 (KNX): Trying to create connection                 
INFO 2013-01-30 19:07:27,668 (KNX): Removing connection                         
INFO 2013-01-30 19:07:27,676 (KNX): KNX Connection manager resolving local host IP addresses...                                                                 
INFO 2013-01-30 19:07:27,679 (KNX): Found candidate NIC: name:eth0 (eth0)       
INFO 2013-01-30 19:07:27,682 (KNX): Skipped IPv6 address (not supported by KNX) /fe80:0:0:0:250:8dff:fe5d:199e%2                                                
INFO 2013-01-30 19:07:27,689 (KNX): Added candidate IP address to set - /192.168.191.164                                                                        
INFO 2013-01-30 19:07:27,690 (KNX): Skipping loopback interface: name:lo (lo)   
INFO 2013-01-30 19:07:27,896 (KNX): Found a KNX IP interface at /192.168.191.164:3671                                                                           
INFO 2013-01-30 19:07:27,906 (KNX): Created KNX Command [FRAME] L_Data.req 0.0.0 -&gt; 1/1/3 Data: 0x00 for group address '1/1/3'                                  
INFO 2013-01-30 19:07:27,931 (KNX): Connection created for KNX IP interface at /192.168.191.164:3671
INFO 2013-01-30 19:07:27,933 (KNX): Found a KNX IP interface at /192.168.191.11:3671                                                                            
INFO 2013-01-30 19:07:27,966 (KNX): Notified with KNX interface status = connected                                                                              
INFO 2013-01-30 19:07:27,966 (KNX): Connected to KNX-IP interface /192.168.191.164:3671                                                                         
</pre>
</div></div>


<p>I left "blank" in my /webapps/controller/WEB-INF/classes/config.properties like this:<br/>
###KNX-IP interface host name to use. If no hostname is provided here,        <br/>
###the KNX-IP driver will use first interface to be discovered.               <br/>
knx.ip.interface.hostname=  </p>

<p>Bye <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/>                                                                            </p>



<p>AHHHHHH !! <br/>
I'm sorry.... I didn't see the SELF ANSWER !!!!  AAAAA HHHH   !!!!</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mb at Mar 01, 2013 13:54
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:44</font></td>
		    </tr>
	    </table>
    </body>
</html>