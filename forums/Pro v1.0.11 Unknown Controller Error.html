<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Pro v1.0.11 Unknown Controller Error</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Pro v1.0.11 Unknown Controller Error
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 29, 2013 by <font color="#0050B2">pz1</font>.
				    </div>

				    <p><a class="confluence-thumbnail-link 857x492" href='http://www.openremote.org/download/attachments/22879041/UnknownORC-error.png'><img src="attachments/thumbnails/22879041/23036211" align="right" border="0"/></a> I just upgraded my Synology 2.12+ to Controller Pro v1.0.11. All seems to work well from the Android console. The nasty ISY log bug has gone. Thanks.<br/>
Unfortunately if I look under Windows XP via Web Console (9080) and try to open one of my subscreens, the system crashes with the error as shown on the thumbnail on the right. In my previous version of Pro (v1.0.8) also using console 9080, the error did not occur. And as I said before the Android does not have this problem.</p>

<p>I could not find a clue in my logs. </p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22879041/23036211.png">UnknownORC-error.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22879041/23036212.png">Sensor.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22879041/23036213.png">Label.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22879041/23036407.png">statemappings.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22879063"></a>
                                    <font class="smallfont"><p>Hi Pieter,</p>

<p>any chance I could convince you to write a how-to updating your Synology to a custom version of OR controller? I think there would be a few users who'd appreciate that information.</p>

<p>Between 1.0.8 and 1.0.11 there was a web console update <a href="http://jira.openremote.org/browse/ORCJAVA-378">ORCJAVA-378</a> which may be related.</p>

<p>&#8211; Juha</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 30, 2013 00:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879081"></a>
                                    <font class="smallfont"><p>The error occurs in the different versions of Professional Controller and Web Console as follows:</p>





<table class = "standard" cellspacing = 0 cellpadding = 0 width = >
<tr><th></th><th>v1.0.11</th><th>v1.0.8</th></tr>
<tr><td><b>WC 9080</b></td><td>fail</td><td>OK</td></tr>
<tr><td><b>WC 7074</b></td><td>OK</td><td>OK</td></tr>
<tr><td><b>Android 2.1.0 beta</b>  </td><td>OK</td><td>OK</td></tr>
</table>




<p>So it seems the combination WC 9080/v1.0.11 causes the problem (I have not yet tested Pro version .10 where ORCJAVA-378 apparantly has been applied for the first time. )</p>

<p>Due damages of last Monday's storm I have other priorities a.t.m.</p>

<p>I'll respond later to the Synology issue</p>

<p><b>edit</b>: My browser apparantly had an older version in cache. I now run with Console version 9326. Unfortunately the error with Pro v1.0.11 persists</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 30, 2013 09:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879088"></a>
                                    <font class="smallfont"><p><a class="confluence-thumbnail-link 271x347" href='http://www.openremote.org/download/attachments/22879041/Label.png'><img src="attachments/thumbnails/22879041/23036213" align="right" border="0"/></a> <a class="confluence-thumbnail-link 429x318" href='http://www.openremote.org/download/attachments/22879041/Sensor.png'><img src="attachments/thumbnails/22879041/23036212" align="right" border="0"/></a>  Found the source of this error.<br/>
With the <b>http</b> command I read a switch with Fibaro Universal Sensor, which returns either <em>true</em> or <em>false</em>.<br/>
In addition I created a custom sensor, which maps true&gt;true and false&gt;false (image on the right)<br/>
For the GUI I added a <b>label</b> where I translate  the false/true state to some text.</p>

<p>If I remove the GUI element, the error is gone.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 30, 2013 11:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879093"></a>
                                    <font class="smallfont">
<p>Thanks for tracking it down.</p>

<p>WebConsole 2.1.2 included <a href="http://jira.openremote.org/browse/WEBCONSOLE-57">WEBCONSOLE-57</a> which has an impact on how labels are rendered. It may be relevant.</p>

<p>An earlier version of WebConsole 2.1.1 is available here : <a href="https://sourceforge.net/projects/openremote/files/For%20Developers/WebConsole%20%28Developer%20Releases%29/">For Developers/WebConsole Developer Releases</a> which doesn't include the WEBCONSOLE-57 change, if you want to give it a try.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Oct 30, 2013 13:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879094"></a>
                                    <font class="smallfont"><p>In the 2.11 (build 8431) version, the error did not occur. The value of the sensor (true/false) is passed through without doing the translation in the GUI. Not unexpected, as that translation was the issue in Webconsole-57.</p>

<p>(At this moment the bug doesn't bother me, as I only display it for testing purposes. Ultimately the sensor is only used in a rule to determine whether the sunshades are already docked or not.)</p>

<p>PS: A similar construct with <b>image</b> does work fine with Webconsole build 9326.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Oct 30, 2013 14:07
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879441"></a>
                                    <font class="smallfont"><p>Should this bug be reported somewhere? Or should others first reproduce it?</p>

<p>There is a strange coincidence that this same sensor causes <a href="http://www.openremote.org/display/forums/Problem+with+understanding+rules">a nasty problem with one of my rules.</a>  </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Nov 05, 2013 16:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879451"></a>
                                    <font class="smallfont"><p>I've reopened WEBCONSOLE-57, and both Eric and Richard should have received a notification about it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Nov 05, 2013 19:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22879455"></a>
                                    <font class="smallfont"><p>Thanks. I am available as tester.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Nov 05, 2013 19:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882118"></a>
                                    <font class="smallfont"><p>Just for the record: The error is still there in WC version 9495. Not unexpected, as there was no mention in the Jira of any changes in issue 57<br/>
edit: I am on Pro 1.0.12 now<br/>
edit2: mistake, still on 1.0.11</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 04, 2014 08:35
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882205"></a>
                                    <font class="smallfont"><p>Pro 1.0.12 has not been released, I'm still working on that. No problem, but just to be sure and avoid confusion, did you build a Pro controller from the branch in my workspace ?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jan 06, 2014 08:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882206"></a>
                                    <font class="smallfont"><p>Sorry my mistake. I'll correct</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 06, 2014 08:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882208"></a>
                                    <font class="smallfont"><p>No problem, just wanted to avoid the confusion for other users.<br/>
Pro 1.0.12 should come this month with an updated WebConsole version, but I still have a bit of work on it and need to fit that in the planning.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Jan 06, 2014 08:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882983"></a>
                                    <font class="smallfont">
<p><img src="attachments/22879041/23036407.png" align="right" border="0"/> Further to my earlier post starting with: <blockquote><p>Found the source of this error.</p></blockquote><br/>
This may have to do with the <em>"true&gt;true and false&gt;false"</em> mappings in the custom sensor. I just encountered a problem with a quality of service sensor that I made for my solar panels. There are 4 values possible, which I initially mapped as 1&gt;1, 2&gt;2, 3&gt;3, and 4&gt;4. In the GUI I added an image wigdet, where I mapped to 4 different images.<br/>
On the Android, I got the correct screens, but in WebConsole not. There I got the fallback image</p>

<p>When I made different state mapping both were correct. See mappings image on the right</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pz1 at Jan 17, 2014 13:19
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:42</font></td>
		    </tr>
	    </table>
    </body>
</html>