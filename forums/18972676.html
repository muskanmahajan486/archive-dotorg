<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : KNX Command "Status"???</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : KNX Command "Status"???
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jul 26, 2011 by <font color="#0050B2">nandi</font>.
				    </div>

				    <p>Hallo zusammen<br/>
Mittlerweile habe ich Openremote zum Laufen gebracht und ich konnte auch schon die ersten Steuerungen von Licht und Storen visualisieren.</p>

<p>Nun möchte ich für's Licht einen "Switch" erstellern. Hierfür wird bekanntlich ein Sensor benötigt und dieser wiederum habe ich mittels Command "Status" und DPT 1.001 versucht zu erstellen. Leider erfolglos.<br/>
Die Arbeitsprozesse habe ich analog Youtube Anleitung von Openremote vorgenommen.</p>

<p>Woran kann das liegen? Verwende ich eine falsche DPT? Untersützt der Siemens N148 diesen Command nicht? Fragen über Fragen...</p>

<p>Vielen Dank für Eure Hilfe!</p>

<p>Beste Grüsse</p>

<p>Nandi</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/18972676/19398662.png">Screen Shot 2011-09-08 at 7.16.36 PM.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/18972676/19398661.png">Screen Shot 2011-09-08 at 7.16.58 PM.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/18972676/19398660.png">Screen Shot 2011-09-08 at 7.16.36 PM.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/18972676/19398663.jpg">Actor.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/18972676/19398664.jpg">groupaddresses.jpg</a> (image/jpeg)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-18972680"></a>
                                    <font class="smallfont"><p>Um einen Switch zu realisieren benötigst Du 3 commands. Ein "On", ein "Off" und ein Status command. Das "On" und "Off" command haben dieselbe Gruppenadresse nur jeweils mit "on" und "off" und das Status Command bekommt die Gruppenadresse auf der Dein Aktor den Status verschickt. Als command ist hier "Status" einzugeben. Dann wird ein Sensor definiert, der das Status-Command referenziert und dann ein Switch, der den Sensor und das "On" und "Off" command referenziert.</p>

<p>Liefert Dein Aktor auch den Status auf einer dedizierten Gruppenadresse?</p>

<p>Was genau funktioniert nicht? Hast Du Fehlermeldungen im Log-File?</p>

<p>Es liegt nicht am N148. Den hab ich hier auch es funktioniert ohne Probleme <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jul 26, 2011 21:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-18972682"></a>
                                    <font class="smallfont"><p>Hi Marcus<br/>
Und da war der Fehler begraben... Ich hatte für den Status die selbe Gruppenadresse wie beim ON/OFF. Es funktioniert nun und ich kann den "Switch" erstellen.<br/>
Kannst du mir evtl. auch kurz sagen, wie ich den Slider erstelle? Den kriege ich noch nicht hin...</p>

<p>Danke und Gruss<br/>
Nandi</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nandi at Jul 26, 2011 22:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-18972683"></a>
                                    <font class="smallfont"><p>Für den Slider benötigst Du ein command mit DPT 5.001 und Command "Scale" zum Setzen des Wertes und ein Status command DPT 5.001 mit "Status". Der Slider braucht dann einen Sensor, der das Status command referenziert, und das eigentliche Command zum Setzen des Wertes.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jul 26, 2011 22:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-18972684"></a>
                                    <font class="smallfont"><p>ups... da bin ich wohl noch zu sehr Anfänger... ich mache wohl die erste visu ohne Slider. <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> Danke auf jeden Fall für die Hilfe!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by nandi at Jul 26, 2011 22:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-18972685"></a>
                                    <font class="smallfont"><p>DPT 5.001 bedeutet eigentlich nur, dass es ein 1byte Wert ist. Dies ist z.b. ein absoluter Dimmwert.<br/>
Vielleicht hilft Dir das ja noch weiter <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Jul 26, 2011 23:11
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431483"></a>
                                    <font class="smallfont"><p>Is there an enlish version of this please, the dimming function and commands interest me too...</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by icefluffy at Aug 22, 2011 11:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19431486"></a>
                                    <font class="smallfont"><p>For the slider you need 2 KNX commands to set and read the absolute dimming value (1 Byte). It's a DPT 5.001 object in KNX. One command to set the value (command type: Scale) and one for reading the value (command type: Status). After creating those 2 command you need a Sensor which uses the "status" command. After that you can create a Slider which is linked to the Sensor and the Set-Command.</p>

<p>You can see it work on the documentation page: ETS4 Import How-To</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Aug 22, 2011 12:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432282"></a>
                                    <font class="smallfont"><p>Thanks for the advise... took me a while to get it right but now I can slide the slider and see the lights dim and brighten. </p>

<p>HOwever, it never switches the lights completely off.</p>

<p>Also if I push the switches on the wall, the slider is not moving on the screen. Any ideas?</p>

<p>I have in ETS 4 values for each dimmer:<br/>
2/1/5 ON/OFF (1bit)<br/>
2/2/5 Dimmer (4 bits)<br/>
2/3/5 Value (1 Byte)<br/>
2/4/5 Status (1 bit)</p>

<p>I linked the Value to a command with KNX command Scale, type 5.001. I linked the Dimmer to a command with KNX command Status, type 5.001. Then to the Sensor I added this Dimmer (Status) command. The slider uses this Sensor (with the Dimmer (4 bits)) and to setValue I used the Value (Scale) command. Hope this makes sense to you.  </p>

<p>This is what I got in controller.xml:<br/>
   &lt;command id="54" protocol="knx"&gt;<br/>
      &lt;property name="command" value="Scale" /&gt;<br/>
      &lt;property name="groupAddress" value="2/3/5" /&gt;<br/>
      &lt;property name="DPT" value="5.001" /&gt;<br/>
    &lt;/command&gt;<br/>
    &lt;command id="56" protocol="knx"&gt;<br/>
      &lt;property name="command" value="Status" /&gt;<br/>
      &lt;property name="groupAddress" value="2/2/5" /&gt;<br/>
      &lt;property name="DPT" value="5.001" /&gt;<br/>
    &lt;/command&gt;</p>

<p>Form the different posts it looks all similar and good, but my slider is not updating automagically. For completeness, I am running the OpenRemote controller  2.0.0_snapshot_20110611. </p>

<p>Any help or advise appreciated!<br/>
Rick</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Sep 08, 2011 10:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432284"></a>
                                    <font class="smallfont"><p>Rick,</p>

<p>2/2/5 is a Dimming command (up, down) not the dimmer value status. You need a group address for the dimmer value also, which would also be 1 byte. So you need switch on/off and status which are 2 group addresses each 1 bit and you need dimmer value set and status which are both 1 byte.</p>

<p>You can see a demo in the ETS4 import howto in the documentation section. Maybe that helps to demonstrate what you need.</p>

<p>If your lights don't turn off when dimming to zero make sure your KNX dimmer device is configured correct. Normally these can be configured to allow turn off while dimiing.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 08, 2011 10:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432292"></a>
                                    <font class="smallfont"><p>Hi Marcus,</p>

<p>Thanks for the hints. I had the feeling that 2/2/5 was something else than the value status. However, the only status which I can find in the KNX Actor is the status which accepts a bit and not a byte. So unless I use the same value parameter to set the value of the dimmer as well as read the dimmer, I am lost of ideas how to pull this off.</p>

<p>This is my actor as defined in ETS3:<br/>
<img src="attachments/18972676/19398663.jpg" align="absmiddle" border="0"/></p>

<p>And the group addresses are as follows linked to it:<br/>
<img src="attachments/18972676/19398664.jpg" align="absmiddle" border="0"/></p>

<p>If you have any suggestions where to find the 1Byte dimmer status, I would be very grateful.</p>

<p>Rick</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Sep 08, 2011 18:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432293"></a>
                                    <font class="smallfont"><p>Is that a binary input and dimmer in one device? Can you give me a model number and where to download the ETS application? I need to look at this further to figure out howto configure this.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 08, 2011 18:28
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432294"></a>
                                    <font class="smallfont"><p>Looking at you screenshot, the device name looks like "6126 2f-Switch sensor".<br/>
That looks to me like a BushJaeger switch sensor and not a dimming actuator.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 08, 2011 18:52
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432295"></a>
                                    <font class="smallfont"><p>Marcus,</p>

<p>Sorry for the confusion. It used to be a switch 6126, but it was replaced with a 6932-U101-500 DimmActor/Sensor.</p>

<p>The modules are obtained from the Busch-Jaeger website. ETS3 is a licensed copy from my electrician.</p>

<p>Rick </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Sep 08, 2011 19:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432300"></a>
                                    <font class="smallfont"><p>I just downloaded 6932.zip and created a Powernet project but the application does not look like your screenshot. And the application I have does not have any status objects at all. Looks like you are out of luck, sorry.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 08, 2011 21:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432301"></a>
                                    <font class="smallfont"><p>Not even the standard 1b status object?</p>

<p>Rick</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Sep 08, 2011 21:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432302"></a>
                                    <font class="smallfont"><p>No. Maybe you can send me your application? marcus at openremote dot org</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 08, 2011 21:18
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432305"></a>
                                    <font class="smallfont"><p>which application? ETS3? or the ETS3 project?</p>

<p>Rick</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Sep 08, 2011 22:05
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432309"></a>
                                    <font class="smallfont"><p>The Application for the dimmer would be ok. Should be a VD2 or VD3 file. Otherwise you can also send me the ETS3 project if you want to. That will include the other stuff also.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Sep 08, 2011 22:53
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-19432310"></a>
                                    <font class="smallfont"><p>Thanks.... Solved it!</p>

<p>You brought up to the right idea. I just had to link two variables to the same parameter DimmerValue, as this is a read/write group address. </p>

<p>So, I made a command DimmerValue pointing to 2/3/5, with type Status, DPT 5.001 and I made a command Value pointing again to 2/3/5 of type Scale, DPT 5.001.</p>

<p>When I created the sensor DimmerSensor, I used the DimmerValue as the argument and a range (or level). When I created the slider DimmerSlider, I used the DimmerSensor and the command Value as arguments. Now the slider moves with the light switches on the , goes off when I slide it all the way left, and also  provides a more natural feeling than before.</p>

<p>I hope this makes sense. Maybe I should update my little Tutorial before.... tomorrow!!</p>

<p>Thanks again for your inspiration!<br/>
Rick</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rickcn at Sep 09, 2011 00:35
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:48</font></td>
		    </tr>
	    </table>
    </body>
</html>