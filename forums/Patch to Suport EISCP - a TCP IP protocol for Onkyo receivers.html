<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Patch to Suport EISCP - a TCP IP protocol for Onkyo receivers</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Patch to Suport EISCP - a TCP IP protocol for Onkyo receivers
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Feb 16, 2014 by <font color="#0050B2">mabo</font>.
				    </div>

				    <p>Hi this is my first contribution to Openremote, so please let me know if I should post it on some other place or any thing like that.</p>

<p>I think this feature has ben requested in <a href="http://jira.openremote.org/browse/ORCJAVA-243">ORCJAVA-243</a>.</p>

<p>Many Onkyo receivers has a ethernet connection and it is possible to control the receiver with a simple TCP/IP based protocol. You can turn it on and off, switch input, control the volume etc. This patch lets you do all that via Openremote.</p>

<p>The Designer code is based on Designer_2_13_9_Rosemary_20130330<br/>
The Controller code is based on Controller_2_0_2</p>

<p><a href="https://drive.google.com/folderview?id=0B4NIW7IDY2m4Y0pwaG9PRURiYmM&amp;usp=sharing">Link to patch</a><br/>
<a href="http://www.xlobby.com/forum/download/file.php?id=59&amp;sid=543ded28f2f2d6c3c3749ff32604b122">Excel file with all Onkyo Commands</a></p>

<p>Use at own risk. I will not take any responsibility if this software would damage your receiver, loudspeakers or your ears.</p>

<p>(There is a setting in the receiver that limits the max volume you can set when using EISCP. And if you want to turn the receiver on you need to configure the receiver to listen to TCP connections when it is in standby)</p>


				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22885324"></a>
                                    <font class="smallfont"><p>Call me utterly stupid, but how do I go about implementing this patch? I'm running OR on a Raspberry Pi much to my satisfaction, but would LOVE to add support for my Onky 929....</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by pmolenaar at Mar 17, 2014 20:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22885370"></a>
                                    <font class="smallfont"><p>Thanks for showing interest in my patch!</p>

<p>Unfortunately it is kind of hard if you are not a developer. But you need to follow the instructions on <a href="http://www.openremote.org/display/docs/Building+OpenRemote+2.0+Developer+Releases">http://www.openremote.org/display/docs/Building+OpenRemote+2.0+Developer+Releases</a> to install the designer and controller from source. </p>

<p>Once you have a working version from source you can apply the patches by running:<br/>
cd &lt;project root&gt;<br/>
patch -p 1 &lt; patchfile</p>

<p>If this seems to tricky another option is to try to get Juha to include this into the next releases of OpenRemote <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mabo at Mar 20, 2014 06:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22885388"></a>
                                    <font class="smallfont"><p>Hello Mårten,<br/>
Thanks a lot for this contribution.</p>

<p>I'll take a look and see how we can integrate this.</p>

<p>Eric</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Mar 21, 2014 12:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22885529"></a>
                                    <font class="smallfont"><p>Thats great!</p>

<p>I have signed a developer agreement, but I am not sure what happens next.</p>

<p>Mårten</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mabo at Mar 26, 2014 15:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596760"></a>
                                    <font class="smallfont"><p>Hi Mårten,</p>

<p>Thank you for your contribution. I'm a new openremote user, but I succesfully install your patch on a fresh compiled build of Openremote and deployed on a QNAP device. Thank you all for openremote tutorials (especially : <a href="http://www.openremote.org/display/forums/How+to+compil+a+Full+Openremote+Setup+on+a+Linux+Server">this one</a>)</p>

<p>Now my question : If i'm right, your patch don't manage sensor ? Do you have an improved version of this patch managing sensor ?</p>

<p>Thank your for your answer.</p>

<p>Best regards</p>

<p>Adrien</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dirandad at Feb 24, 2015 21:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596848"></a>
                                    <font class="smallfont"><p>Hi!</p>

<p>I am sorry, but I have not done any more work on this patch.</p>

<p>Out of curiosity, what is it you would like to achieve with using the receiver as a sensor?</p>

<p>/Mårten</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mabo at Mar 01, 2015 09:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596873"></a>
                                    <font class="smallfont"><p>Hi Mårten,</p>

<p>The need is realy simple: Get power status and mute status, to be able to create OpenRemote switch for Power On/Off and Mute On/Off.</p>

<p>I achieve to do this using openremote command base on command line (but I get the problem: the answer of the receiver is not necessary received by the good thread that send the command, for exemple, when openremote controller send 2 commands, first for power status, and secondely for mute status, mute status command will receive both receiver answers... Conclusion: commande line is not the good solution for status managent.)</p>

<p>Adrien</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dirandad at Mar 01, 2015 20:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23596874"></a>
                                    <font class="smallfont"><p>That make sense. </p>

<p>I checked the patch, and I have not even started on the sensor part. Sorry</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mabo at Mar 01, 2015 20:27
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:31</font></td>
		    </tr>
	    </table>
    </body>
</html>