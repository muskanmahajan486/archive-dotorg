<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Best IR Transmitter to use</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Best IR Transmitter to use
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 22, 2014 by <font color="#0050B2">richardwhall</font>.
				    </div>

				    <p>Hi,</p>

<p>I am new to this community and am currently working on fully automating my Samsung Smart TV remotely. I have made use of the functionality built-in to OpenRemote and have also made use of the Samsung SOAP services (I've wrapped them in REST services to use with OpenRemote). So far I have enabled a system that can extract program information from the TV, put it on a webpage and control the TV from links on the page, as well as controlling it via the OpenRemote functionality. It is going well. BUT if the TV is OFF there is nothing I can do. The TV does not keep its network connection even in standby. So in order for any of this stuff to work while I am not there I either have to leave the TV ON, or be able to remotely turn it on.</p>

<p>With that in mind I was thinking of making use of the IR functionality of OpenRemote. But I know nothing about this and the transmitters I have seen are too expensive to just "take a punt" on something. From my reading I <b>think</b> the USB-UIRT (<a href="http://www.amazon.co.uk/Jon-Rhees-USB-UIRT-Universal-Transmitter-Black/dp/B005TX3LOU">http://www.amazon.co.uk/Jon-Rhees-USB-UIRT-Universal-Transmitter-Black/dp/B005TX3LOU</a>) device might work pretty well, but there is a warning stating that it might not work with all devices.</p>

<p>So the question is, has anybody used one of these devices to control a Samsung Smart TV? If not, has anyone used any IR device to switch on a Samsung Smart Tv and if so, which device did you use?</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23593275"></a>
                                    <font class="smallfont"><p>Used a GlobalCach√© (believe it was a GC-100 on that install).</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ebariaux at Oct 22, 2014 16:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593297"></a>
                                    <font class="smallfont"><p>Only personally used Keene IR Anywhere modules but the IR output isn't particularly powerful and can require careful positioning of emitters. Global Cache are better from what I've heard but a little bit more expensive. Saying that the Keene modules work fine in cabinet environments or stuck to a tv.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by kurrazyman at Oct 23, 2014 08:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593299"></a>
                                    <font class="smallfont"><p>Hi Richard,</p>

<p>yes, I am using Keene IR Anywhere to switch on the Samsung TV. It works pretty well, although as Rich Turner said, it's transmitter isn't very powerful. You will need to put it near the TV IR receiver. I did this and it is working very good. To power the TV up I use UDP protocol with the command </p>

<p>K 2422 1158 1156 020A 06B8 020D 06B8 0225 06A0 020A 025A 020A 025A 0209 025A 020A 025A 020A 025A 0223 06A0 020A 06B8 020D 06B8 020D 025A 0209 025A 020A 025A 020A 0258 020D 025A 0209 025A 020A 06B8 020D 025A 0223 023F 020D 025A 0223 023F 020A 025A 0209 025A 020A 06BB 0225 023F 0209 06BB 0223 06A0 0225 06A0 0209 06BB 020A 06B8 020D 06B8 020A 2000</p>

<p>I think that KIRA is the cheapest option.</p>

<blockquote>
<p>and have also made use of the Samsung SOAP services (I've wrapped them in REST services to use with OpenRemote). So far I have enabled a system that can extract program information from the TV, put it on a webpage and control the TV from links on the page, as well as controlling it via the OpenRemote functionality.</p></blockquote>
<p>This sounds very interesting. Can you share it with us? Perhaps write How-to?</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Oct 23, 2014 10:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593304"></a>
                                    <font class="smallfont"><p>Thanks Michal (and others). I will look into the Keene IR and GlobalCache.</p>

<p>In response to how I have controlled my TV, it is all to do with the upnp functionality. If you get your TV's IP address and put the following URL in your browser (http://&lt;IP Address&gt;:7676/smp_2_) you <b>should</b> get an XML page back that describes the functionality you can use. The port <b>may</b> be different and the "smp_" number may also be different. But I suspect that 7676 is pretty standard for Samsung TVs. You can actually discover this information on your network using a packet sniffer. The XML that you get back will have sections that look like this....</p>

<p>&lt;serviceList&gt;<br/>
&lt;service&gt;<br/>
&lt;serviceType&gt;urn:samsung.com:service:MainTVAgent2:1&lt;/serviceType&gt;<br/>
&lt;serviceId&gt;urn:samsung.com:serviceId:MainTVAgent2&lt;/serviceId&gt;<br/>
&lt;controlURL&gt;/smp_4_&lt;/controlURL&gt;<br/>
&lt;eventSubURL&gt;/smp_5_&lt;/eventSubURL&gt;<br/>
&lt;SCPDURL&gt;/smp_3_&lt;/SCPDURL&gt;<br/>
&lt;/service&gt;<br/>
&lt;/serviceList&gt;</p>

<p>If you change your browser address from ending "/smp_2_" to "/smp_3_" (the SCPDURL element), it will take you to a description of the functions you have available. You need to know a bit about calling SOAP services to make use of this information. But with a bit of SOAP background, it is pretty straight forward. </p>

<p>What I have done is use Talend ESB (www.Talend.com) to wrap these SOAP services in REST services to make them easier to call and allow them to be called by OpenRemote. I also use a MySQL database to hold data and represent it all in a JSP based website hosted by Tomcat. The web services are hosted using Apache Karaf. It sounds a little complicated, but it is pretty straight forward once you get to grip with those technologies.</p>

<p>Although OpenRemote have provided mechanisms for interacting with Samsung TVs, they don't provide any feedback. By using Samsung's upnp functions you can get things like the current channel, the volume, program information, tv guides for the next 8 days, etc. </p>

<p>I am still working my way through the upnp functions (and there is a fair amount of guess work required), but it is proving to be very useful.</p>

<p>I noticed that you (Michal) have got Belkin WEMO stuff working using bash scripting. I am working with WEMO stuff in the same way as this.  </p>

<p>Once I have got something bullet proof, I may put out a few tutorials. But this solution is based around ESB and web service functionality, so doesn't necessarily fit nicely into this forum. </p>

<p>I'm happy to answer questions and point people in the right direction with regard to ESBs and Web Services where I can though <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by richardwhall at Oct 23, 2014 13:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23593355"></a>
                                    <font class="smallfont"><p>I thought I would complete the circle and come back and let you know how I got on. I ended up going with the USB-UIRT (<a href="http://www.amazon.co.uk/Jon-Rhees-USB-UIRT-Universal-Transmitter-Black/dp/B005TX3LOU">http://www.amazon.co.uk/Jon-Rhees-USB-UIRT-Universal-Transmitter-Black/dp/B005TX3LOU</a>) as a friend of mine had one that he couldn't get to work. I have subsequently shown him how to set it up and had to give it back. But it works and I shall be getting one myself.</p>

<p>It took a while to figure out how to configure it, but here are the steps and settings I used with my NUC running UBUNTU 14....</p>


<p>1)	Install LIRC using .......sudo apt-get install lirc<br/>
2)	Configure the hardware.conf file found in /etc/lirc as follows....</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
# /etc/lirc/hardware.conf
#
#Chosen Remote Control
REMOTE=<span class="code-quote">"USB-UIRT-REMOTE"</span>
REMOTE_MODULES=""
REMOTE_DRIVER=<span class="code-quote">"usb_uirt_raw"</span>
REMOTE_DEVICE=<span class="code-quote">"/dev/ttyUSB0"</span>
REMOTE_SOCKET=""
REMOTE_LIRCD_CONF=<span class="code-quote">"lircd.conf"</span>
REMOTE_LIRCD_ARGS=<span class="code-quote">"-d /dev/ttyUSB0"</span>

#Chosen IR Transmitter
TRANSMITTER=<span class="code-quote">"USB-UIRT-TRANSMITTER"</span>
TRANSMITTER_MODULES=""
TRANSMITTER_DRIVER=<span class="code-quote">"usb_uirt_raw"</span>
TRANSMITTER_DEVICE=<span class="code-quote">"/dev/ttyUSB0"</span>
TRANSMITTER_SOCKET=""
TRANSMITTER_LIRCD_CONF=<span class="code-quote">"lircd.conf"</span>
TRANSMITTER_LIRCD_ARGS=""

#Disable kernel support.
#Typically, lirc will disable in-kernel support <span class="code-keyword">for</span> ir devices in order to
#handle them internally.  Set to <span class="code-keyword">false</span> to prevent lirc from disabling <span class="code-keyword">this</span>
#in-kernel support. 
#DISABLE_KERNEL_SUPPORT=<span class="code-quote">"<span class="code-keyword">true</span>"</span>

#Enable lircd
START_LIRCD=<span class="code-quote">"<span class="code-keyword">true</span>"</span>

#Don't start lircmd even <span class="code-keyword">if</span> there seems to be a good config file
#START_LIRCMD=<span class="code-quote">"<span class="code-keyword">false</span>"</span>

#Try to load appropriate kernel modules
LOAD_MODULES=<span class="code-quote">"<span class="code-keyword">false</span>"</span>

# Default configuration files <span class="code-keyword">for</span> your hardware <span class="code-keyword">if</span> any
LIRCMD_CONF=""

#Forcing noninteractive reconfiguration
#If lirc is to be reconfigured by an external application
#that doesn't have a debconf frontend available, the noninteractive
#frontend can be invoked and set to parse REMOTE and TRANSMITTER
#It will then populate all other variables without any user input
#If you would like to configure lirc via standard methods, be sure
#to leave <span class="code-keyword">this</span> set to <span class="code-quote">"<span class="code-keyword">false</span>"</span>
FORCE_NONINTERACTIVE_RECONFIGURATION=<span class="code-quote">"<span class="code-keyword">false</span>"</span>
START_LIRCMD=""
</pre>
</div></div>
<p>3)	Record the remote control IR signals using this commands....</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">sudo service lirc start
sudo irrecord -d /dev/ttyUSB0 -H usb_uirt_raw samsung.conf</pre>
</div></div>

<p>This will save the config to the samsung.conf file.</p>

<p>4)	The samsung.conf file is then referenced by the /etc/lircd.conf file.....</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
#This configuration has been automatically generated via
#the Ubuntu LIRC <span class="code-keyword">package</span> maintainer scripts.
#
#It includes the <span class="code-keyword">default</span> configuration <span class="code-keyword">for</span> the remote and/or
#transmitter that you have selected during <span class="code-keyword">package</span> installation.
#
#Feel free to add any custom remotes to the configuration
#via additional include directives or below the existing
#Ubuntu include directives from your selected remote and/or
#transmitter.

#No <span class="code-keyword">default</span> remote configuration was included <span class="code-keyword">for</span> USB-UIRT
#You will need to include your own custom configuration <span class="code-keyword">for</span>
#<span class="code-keyword">this</span> remote, and file a bug at https:<span class="code-comment">//bugs.launchpad.net/ubuntu/+source/lirc/+filebug
</span>
#Configuration <span class="code-keyword">for</span> the USB-UIRT2
include <span class="code-quote">"samsung.conf"</span>
</pre>
</div></div>
<p>5)	Test the recorded codes using.....</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">irw</pre>
</div></div>
<p>Then test by pressing buttons on the remote that correspond to the buttons you recorded.</p>

<p>6)	Send signal to device using...</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">irsend -d /<span class="code-keyword">var</span>/run/lirc/lircd1 SEND_ONCE samsung.conf KEY_POWER</pre>
</div></div>

<p>These aren't complete instructions by any means, but there wasn't a single place on the net that had the above on one page. <br/>
This should get you going using the USB-UIRT. I wrapped the 6th command up in a REST service so that it could be called easily from anywhere with access to the endpoint.  </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by richardwhall at Oct 26, 2014 23:55
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:34</font></td>
		    </tr>
	    </table>
    </body>
</html>