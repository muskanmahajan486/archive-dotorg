<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : EnOcean ECO200+PTM330 question.</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : EnOcean ECO200+PTM330 question.
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on May 18, 2013 by <font color="#0050B2">aktur</font>.
				    </div>

				    <p>Hi,</p>

<p>I'm having a lot of fun with my EnOcean starter kit. For ECO+PTM330 I have a question. It has two positions, when I switch it into position one then I see in the log:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>2013-05-18 13:44:50,244 TRACE [EnOcean serial port reader]: Received serial data from [COM port: /dev/ttyUSB1, Protocol: ESP3, Communication Layer: RXTX] : 0x55 0x00 0x07 0x07 0x01 
2013-05-18 13:44:50,248 TRACE [EnOcean serial port reader]: Received serial data from [COM port: /dev/ttyUSB1, Protocol: ESP3, Communication Layer: RXTX] : 0x7A 0xF6 0x00 0x00 0x8B 0xFD 0x06 0x20 0x01 0xFF 0xFF 0xFF 0xFF 0x4D 0x00 0x1F 
2013-05-18 13:44:50,250 DEBUG [EnOcean serial port reader]: Received radio telegram : [RADIO: RORG=RPS, sender ID=0x008BFD06, payload=0x00, status=0x20]
2013-05-18 13:44:50,253 TRACE [ESP processor listener executor]: Processed ROCKER_AI, received ROCKER_AI
2013-05-18 13:44:50,254 TRACE [ESP processor listener executor]: Processed ROCKER_AI, received ROCKER_AI
</pre>
</div></div>

<p>When I switch it to opposite then this is shown:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>2013-05-18 13:43:32,575 TRACE [EnOcean serial port reader]: Received serial data from [COM port: /dev/ttyUSB1, Protocol: ESP3, Communication Layer: RXTX] : 0x55 
2013-05-18 13:43:32,581 TRACE [EnOcean serial port reader]: Received serial data from [COM port: /dev/ttyUSB1, Protocol: ESP3, Communication Layer: RXTX] : 0x00 0x07 0x07 0x01 0x7A 0xF6 0x10 0x00 0x8B 0xFD 0x06 0x20 0x01 0xFF 0xFF 0xFF 0xFF 
2013-05-18 13:43:32,584 TRACE [EnOcean serial port reader]: Received serial data from [COM port: /dev/ttyUSB1, Protocol: ESP3, Communication Layer: RXTX] : 0x50 0x00 0xDE 
2013-05-18 13:43:32,586 DEBUG [EnOcean serial port reader]: Received radio telegram : [RADIO: RORG=RPS, sender ID=0x008BFD06, payload=0x10, status=0x20]
2013-05-18 13:43:32,588 TRACE [ESP processor listener executor]: Processed ROCKER_AI, received ROCKER_AI
2013-05-18 13:43:32,590 TRACE [ESP processor listener executor]: Processed ROCKER_AI, received ROCKER_AI
</pre>
</div></div>
<p>As you can see, the difference is in payload.</p>

<p>I've created two commands:<br/>
<img src="attachments/22414448/22708299.png" align="absmiddle" border="0"/><br/>
<img src="attachments/22414448/22708300.png" align="absmiddle" border="0"/><br/>
Linked with two custom sensors and then put two labels corresponding to these sensors. When I put the switch in the first position both labels are 'N/A'. When I switch it to the second position then both labels become 'ROCKER_AI'. This is not what I want to achieve. I want that one label reacts to the first switch position and the other to the second. How can I achieve this?</p>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22414448/22708299.png">EnOceanSwitchPressed.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22414448/22708300.png">EnOceanSwitchReleased.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22414454"></a>
                                    <font class="smallfont"><p>See <a href="http://www.openremote.org/display/forums/Cannot+find+EnOcean-Controller">http://www.openremote.org/display/forums/Cannot+find+EnOcean-Controller</a> for how to receive the status of an EnOcean switch.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rhitz at May 18, 2013 14:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414456"></a>
                                    <font class="smallfont"><p>Hi Rainer,</p>

<p>I've studied this page already for a long time and tried everything. Nothing works for me with this device. PTM200 is OK though, so I think that the problem is only with the PTM330.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at May 18, 2013 14:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414477"></a>
                                    <font class="smallfont"><p>After studying the ESK 300 documentation I think that the ECO200+PTM330 combination of the ESK 300 is not a finished product related to the F6-02-01 profile. A finished product would at least need two buttons. The ECO200+PTM330 behaves as if you press and release always the bottom left rocker of a regular PTM 210 based switch.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rhitz at May 19, 2013 07:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414871"></a>
                                    <font class="smallfont"><p>Actually, I would like to have events generated for both, button press and button release actions. This way it would be possible to program different commands based on short or long presses. Just like the Apple remote are working. Right now it is not possible to mimic the Apple remote with OpenRemote which is a pity</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at May 24, 2013 14:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22414930"></a>
                                    <font class="smallfont"><p>Theoretically it would be possible to introduce new commands like STATUS_ROCKER_AI_PRESS, STATUS_ROCKER_AI_RELEASE, STATUS_ROCKER_AO_PRESS. I'll think about it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rhitz at May 25, 2013 08:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22415072"></a>
                                    <font class="smallfont"><p>Yes, this is what I really need for my application. Can you point me where I can make local changes in the source to add this commands so I can test it before you'll decide whether you add these or not?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at May 27, 2013 10:24
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22872089"></a>
                                    <font class="smallfont"><p>New commands (see enum CommandType) have to be added to the the Java class EepF60201 (.../protocol/enocean/profile/EepF60201.java).</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by rhitz at May 30, 2013 14:04
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:41</font></td>
		    </tr>
	    </table>
    </body>
</html>