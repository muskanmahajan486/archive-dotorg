<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Security Keypad</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Security Keypad
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 24, 2015 by <font color="#0050B2">drewscm</font>.
				    </div>

				    <p>I have a DSC security that I have working with OR, has anyone done a virtual keypad for entering the code? Would anyone be willing to share their code?</p>

<p>Thanks</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-23597232"></a>
                                    <font class="smallfont"><p>Has nobody done a keypad, or been interested in one?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Mar 27, 2015 02:21
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597272"></a>
                                    <font class="smallfont"><p>Hi Scott - I am using the DSC functionality mostly for movement detectors that trigger lights - I rarely use my alarm for its real purpose.    IMHO the standard OR interface does not lend itself to data entry.   I have a wake up alarm function where you can set a time but the only way I was able to input hours/minutes was using a slider to select which is not ideal.   I have not come across a solution for keypad entry in OR or I would have used that for the wakeup alarm.</p>

<p>What are you looking to achieve?  There may be workarounds.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Mar 30, 2015 09:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597289"></a>
                                    <font class="smallfont"><p>Looking to use the Keypad to input security code for the alarm. My plan is to have a tablet mounted in the wall near the back door, with Open Remote UI and keep the secuirty keypad in the closet as a backup. I have noticed their is much in the way of input. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Mar 31, 2015 03:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597299"></a>
                                    <font class="smallfont"><p>I can think of a two workarounds that might work both would mean having the security code hard coded into OR and then a separate layer of security which triggers OR. </p>

<p>1. Using drools you could probably find a way to checks the order that you press buttons on an OR panel with a virtual keypad and in memory commands.   You could then have any type of code (alpha numeric etc) which then would trigger OR to send a set/unset command.  </p>


<p>2. Similarly you could try an app like Tasker which runs on Android and could do something similar perhaps even linked to the tablet screen unlock (face recognition etc...).  I've tested Tasker alongside OR and you can get it to trigger OR commands using http.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Apr 01, 2015 08:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597322"></a>
                                    <font class="smallfont"><p>I've been thinking of using a html page with a input field where you can enter your pin code and then send it to controller. I have my alarm panel connected to my Vera and for testing purpose i tried to run a scene at first. I have been trying to so something like this. I added this as a webview. For now the works in the phone's browser but it does not work in openremote(i am not sure why pressing the button does nothing).  Also it only works in while running the controller in Windows, it does not work on Synology(i don't know why again). Maybe someone can help....</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
&lt;style&gt;
  body {background-color:black}
  h3   {color:blue}
&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;h3&gt;Pin code:&lt;/h3&gt;
&lt;input type=<span class="code-quote">"text"</span> id=<span class="code-quote">"pin"</span> value=""&gt;&lt;br /&gt;
&lt;button onclick=<span class="code-quote">"liteon()"</span>&gt;Arm&lt;/button&gt;
&lt;/body&gt;


&lt;script&gt;
function liteon()
{
<span class="code-keyword">var</span> param = document.getElementById('pin').value;
<span class="code-keyword">var</span> xmlhttp;
  xmlhttp=<span class="code-keyword">new</span> XMLHttpRequest();
xmlhttp.open(<span class="code-quote">"GET"</span>,<span class="code-quote">"http:<span class="code-comment">//veraip:3480/data_request?id=lu_action&amp;serviceId=urn:micasaverde-com:serviceId:HomeAutomationGateway1&amp;action=RunScene&amp;SceneNum="</span>+param,<span class="code-keyword">true</span>);
</span>xmlhttp.send();
}
&lt;/script&gt;
&lt;/html&gt;
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at Apr 02, 2015 16:27
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597400"></a>
                                    <font class="smallfont"><p>Hi yes I've tried doing something similar to enter a value through an embedded webform and it never worked.  I think the webview functionality is really meant for display not input.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Apr 05, 2015 16:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597508"></a>
                                    <font class="smallfont"><p>Jules</p>

<p>Do you use the DSC for any outputs? Is it possible to trigger the PGM's from the envisalink through openremote?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Apr 10, 2015 15:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597579"></a>
                                    <font class="smallfont"><p>I just use the zone_state function to tracked open and restored zones.  I am not sure about PGM functions - Phil Taylor is the one to ask - did you look at the tutorial -</p>

<p><a href="http://openremote.org/display/docs/OpenRemote+2.0+How+To+-+DSC+Alarm+Systems">DSC tutorial</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Apr 13, 2015 07:59
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597591"></a>
                                    <font class="smallfont"><p>Yea I looked at the tutorial and there is not a command to trigger PGM's. I know if is possible through the envisalink because it can be done through the eyezon website when I connect to the envisalin. I will have to do some digging, I ordered an output expansion board by accident so I'd like to get some use out of it. </p>

<p>Im assuming you have seperate partitions setup in your system, one for alarm sensors and another for sensors ie occupancy, that you read but aren't part of your alarm?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Apr 13, 2015 19:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597592"></a>
                                    <font class="smallfont"><p>I set them all up in the same partition some are just for occupancy others are for both.   You can do some clever things with the wireless door sensors - I have one which is on the loft door that turns on the loft light when the door is open.   </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Apr 13, 2015 20:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597630"></a>
                                    <font class="smallfont"><p>Hi Jules,</p>

<p>I am using OR to turn on the lights in our bedroom every morning. However, sometimes it is nice to sleep in late so it would be good to be able to change the "alarm" setting within the OR App. As I understood from your post, you have been able to change time settings by using a slider... Can you explain how you did this?<br/>
As you said, this is not ideal, do you have other ways to implement this? <br/>
I am currently controlling my lights with rules in OR, which is connected to my KNX system.<br/>
Thanx</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by istian at Apr 14, 2015 22:46
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23597647"></a>
                                    <font class="smallfont"><p>Hi - yes I have a in memory virtual commands for alarm on/off and two others for minutes and hours which in turn have range sensors with 0 - 59 and 0 - 2 as min and max values.  Finally in the designer you create sliders for both hours and minutes and a switch for alarm on/off.</p>

<p>Then in rules I have</p>

<p>rule "Alarm On"<br/>
when<br/>
Event(source=="GVALARMSTATUS", value=="on")<br/>
Event(source=="GVALARMHOURS_STATUS", $htime:value)<br/>
Event(source =="hour", value==$htime)<br/>
Event(source =="GVALARMMINUTES_STATUS", $mtime:value)<br/>
Event(source =="minute", value==$mtime)<br/>
eval(true)<br/>
then<br/>
execute.command("GVALARMMUSIC_ON");<br/>
end</p>

<p>also my rule header is as follows:<br/>
package org.openremote.controller.protocol<br/>
import org.openremote.controller.model.event.*;<br/>
global org.openremote.controller.statuscache.CommandFacade execute;<br/>
global org.openremote.controller.statuscache.SwitchFacade switches;<br/>
global org.openremote.controller.statuscache.LevelFacade levels;<br/>
import java.util.concurrent.TimeUnit;<br/>
import java.io.*;</p>

<p>Hope this makes sense!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by jules_bike at Apr 15, 2015 16:39
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23598920"></a>
                                    <font class="smallfont"><p>I setup virtual commands for my keypad in order to disarm my alarm. Currently once I hit the correct keys the system disarms, but it doesn't matter what order I press them. so I have come up with a few questions hopefully someone can help me out with on rules. I would think this would be useful to others as well.</p>

<p>How do I setup the rule to read a certain sequence of keys?</p>

<p>Is there anyway to have it where once four keys are pressed, if they are not correct it triggers fault command and once three faults have been entered it triggers panic command? </p>

<p>What is the best way to clear the keys that have been turned on? I was thinking a few second timer.</p>


<p>rule "Security Keypad" when</p>

<p>  Event( source == "Virkey1status", value == "on" )<br/>
  Event( source == "Virkey2status", value == "on" )<br/>
  Event( source == "Virkey3status", value == "on" )<br/>
  Event( source == "Virkey4status", value == "on" )</p>

<p>then</p>

<p>  execute.command( "Disarm" );</p>

<p>end</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at May 15, 2015 17:49
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599029"></a>
                                    <font class="smallfont"><p>I've created a simple design with a keypad - <a href="https://youtu.be/LeNF2mrvU3g">YouTube video</a>. The design is on <a href="https://dl.dropboxusercontent.com/u/2892838/OR-keypad-design.zip">dropbox</a> and you can import it directly into professional designer, or copy manually if you are using the free designer.</p>

<p>The rules are copied here:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">package</span> org.openremote.controller.protocol;

<span class="code-keyword">import</span> org.openremote.controller.model.event.*;
global org.openremote.controller.statuscache.CommandFacade execute;

rule <span class="code-quote">"Init"</span>
then
  execute.command(<span class="code-quote">"VCODE"</span>,<span class="code-quote">"-"</span>);
  execute.command(<span class="code-quote">"VKEY"</span>,<span class="code-quote">"-"</span>);
end

rule <span class="code-quote">"Key pressed"</span>
timer(<span class="code-object">int</span>: 300ms) <span class="code-comment">// debounce
</span>when
  $code:Event(source==<span class="code-quote">"VCODE"</span>)
  Event($s:source matches <span class="code-quote">"VKEY\\d+"</span>, value==<span class="code-quote">"ON"</span>)
then
  execute.command($s, <span class="code-quote">"off"</span>);
  <span class="code-keyword">if</span>($code.getValue().toString().equals(<span class="code-quote">"-"</span>)){
    execute.command(<span class="code-quote">"VCODE"</span>, $s.substring(4,5));
  }<span class="code-keyword">else</span>{
    execute.command(<span class="code-quote">"VCODE"</span>, $code.getValue().toString() + $s.substring(4,5));
  }
end

rule <span class="code-quote">"Code clear"</span>
timer(<span class="code-object">int</span>: 5s) <span class="code-comment">// clear code after 5 seconds
</span>when
  Event(source==<span class="code-quote">"VCODE"</span>, value!=<span class="code-quote">"-"</span>)
then
  execute.command(<span class="code-quote">"VKEY"</span>, <span class="code-quote">"-"</span>);
  execute.command(<span class="code-quote">"VCODE"</span>, <span class="code-quote">"-"</span>);
end

rule <span class="code-quote">"Last key"</span>
when
  Event($s:source matches <span class="code-quote">"VKEY\\d"</span>, value==<span class="code-quote">"ON"</span>)
then
  execute.command(<span class="code-quote">"VKEY"</span>, $s.substring(4,5));
end
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at May 17, 2015 20:26
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599129"></a>
                                    <font class="smallfont"><p>Michal</p>

<p>I have the keypad working just like your video... Any tips on how to take it a step farther and limit the length to 4 numbers "1234", If VCODE equals Passcode then execute "DISARM" else register missed code, if 3 missed codes execute "TRIGGER_ALARM" </p>


<p>Thanks for you help!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at May 20, 2015 04:09
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599142"></a>
                                    <font class="smallfont"><p>Well, this is getting more demanding. Mind to think about support from the com site? <img class="emoticon" src="images/icons/emoticons/wink.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> Anyway here it is - <a href="https://youtu.be/_9B_3BZcOMg">YouTube video</a>. I've put this design on <a href="https://dl.dropboxusercontent.com/u/2892838/OR-keypad-enh-design.zip">dropbox</a> too.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at May 20, 2015 16:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599151"></a>
                                    <font class="smallfont"><p>THANK YOU WITH ALL MY HEART ! <img class="emoticon" src="images/icons/emoticons/biggrin.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at May 20, 2015 21:29
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599164"></a>
                                    <font class="smallfont"><p>In order to use the provided code and send it to VERA i thought of doing the following things:</p>

<p>-write a http command setAlarmOff</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
-&lt;command id=<span class="code-quote">"5362"</span> protocol=<span class="code-quote">"http"</span>&gt;

&lt;property name=<span class="code-quote">"workload"</span> value=<span class="code-quote">"${param}"</span>/&gt;

&lt;property name=<span class="code-quote">"method"</span> value=<span class="code-quote">"POST"</span>/&gt;

&lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"http:<span class="code-comment">//myip:3480/data_request?id=lu_action&amp;output_format=json&amp;DeviceNum=XX&amp;serviceId=urn:micasaverde-com:serviceId:AlarmPartition2&amp;action=RequestArmMode&amp;State=Disarmed&amp;PINCode=${param}"</span>/&gt;
</span>
&lt;property name=<span class="code-quote">"name"</span> value=<span class="code-quote">"SetAlarmOff"</span>/&gt;
</pre>
</div></div>

<ul class="alternate" type="square">
	<li>make a custom sensor SetAlarmOff Sensor</li>
</ul>


<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
-&lt;sensor id=<span class="code-quote">"246043"</span> type=<span class="code-quote">"custom"</span> name=<span class="code-quote">"SetAlarmOff Sensor"</span>&gt;

&lt;include ref=<span class="code-quote">"5362"</span> type=<span class="code-quote">"command"</span>/&gt;

&lt;/sensor&gt;
</pre>
</div></div> 

<p>-add the following lines to the rules</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
rule <span class="code-quote">"Disarm"</span>
when
  Event(source==<span class="code-quote">"VPASSCODE"</span>, $passcode: value)
  Event(source==<span class="code-quote">"VCODE"</span>, value==$passcode)
  Event(source==<span class="code-quote">"TRIGGER_ALARM"</span>, value==<span class="code-quote">"off"</span>)
then
  <span class="code-object">int</span> code = <span class="code-object">Integer</span>.parseInt($passcode.toString());
  execute.command(<span class="code-quote">"SetAlarmOff Sensor"</span>, code) ;
  execute.command(<span class="code-quote">"DISARM"</span>, <span class="code-quote">"ON"</span>);
  execute.command(<span class="code-quote">"VTRY"</span>, <span class="code-quote">"0"</span>);
  execute.command(<span class="code-quote">"VCODE"</span>, <span class="code-quote">"-"</span>);
end
</pre>
</div></div>

<p>Is this correct? Because it's not working for me...and it stopped the keypad from working</p>

<p>Thanks for eveything</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at May 21, 2015 12:00
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599168"></a>
                                    <font class="smallfont"><p>In the execute.command() you need to put the command name, which is "SetAlarmOff" in your case. Sensor names you put in "when" block within Event(). As I'm using sensor and command names the same, because I'm lazy, they can be confusing.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at May 21, 2015 14:47
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599178"></a>
                                    <font class="smallfont"><p>I am not sure my http POST command is correct. If i write <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"><span class="code-quote">"http:<span class="code-comment">//myip:3480/data_request?id=lu_action&amp;output_format=json&amp;DeviceNum=XX&amp;serviceId=urn:micasaverde-com:serviceId:AlarmPartition2&amp;action=RequestArmMode&amp;State=Disarmed&amp;PINCode=xxxx"</span></span></pre>
</div></div> in the browser it's working, but when i make the http post request with the workload $param  i get nothing...i also tryed with http GET and the link <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"> http:<span class="code-comment">//myip:3480/data_request?id=lu_action&amp;output_format=json&amp;DeviceNum=XX&amp;serviceId=urn:micasaverde-com:serviceId:AlarmPartition2&amp;action=RequestArmMode&amp;State=Disarmed&amp;PINCode=${param}</span></pre>
</div></div>.. no luck with that either </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at May 21, 2015 19:16
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599180"></a>
                                    <font class="smallfont"><p>1. Don't send command to sensor.<br/>
2. Don't send integer. Use string instead.</p>

<p>Look in log files what is going wrong.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at May 21, 2015 20:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23599183"></a>
                                    <font class="smallfont"><p>With sending string it worked.</p>

<p>Thank you very much !</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ckbsmart at May 21, 2015 20:45
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23605797"></a>
                                    <font class="smallfont"><p>I got the PGM integrated. I run wireshark and found how the GUI interacts with the device over the IP network.<br/>
The easiest way is creating a command:<br/>
Protocol HTTP<br/>
Method GET<br/>
URL: <a href="http://your Envisalink3 IP/2?A=1&amp;P=2&amp;p=1">http://your Envisalink3 IP/2?A=1&amp;P=2&amp;p=1</a><br/>
username: your envisalink3 usename<br/>
password: your envisalink3 password<br/>
All other parameters are blank</p>

<p>The P=2 in the URL is equivalent to entering *72 in the keypad. If you want to trigger the PGM1 use P=1</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by hnicanor at Feb 24, 2016 06:12
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-23605799"></a>
                                    <font class="smallfont"><p>Thanks for sharing the info I went away from that direction, gives another optionnow</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Feb 24, 2016 12:25
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:33</font></td>
		    </tr>
	    </table>
    </body>
</html>