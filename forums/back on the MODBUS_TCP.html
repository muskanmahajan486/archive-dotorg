<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : back on the MODBUS_TCP</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : back on the MODBUS_TCP
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 03, 2014 by <font color="#0050B2">adrian1983</font>.
				    </div>

				    <p>hello everybody and happy new year</p>

<p>I'm back on the modbus TCP, does it work now? like somebody said before i saw on wireshark that the problem is the handshake before sending the datas.<br/>
Would you think that add TCP sockets fonctions that we could use easily would be possible ???</p>

<p>thank you in advance.</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22882075"></a>
                                    <font class="smallfont"><p>OK good news it works with ananas (Modbus client/serve apps) and wireshark recognized it perfectly !! Ithink i was too tired yesterday at 1H40 am to have a good reading of wireshark!!</p>

<p>you have to use the syntax that way exemple (write simple register):</p>


<p>0x00 00 00 00 00 06 01 06 00 01 12 34</p>

<p>it works !!!!! that's sick !!!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by adrian1983 at Jan 03, 2014 13:05
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882115"></a>
                                    <font class="smallfont"><p>Can you elaborate on how you got Modbus working? I am working on my system for my new house, any information would be awesome</p>

<p>Thanks</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Jan 04, 2014 06:20
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882136"></a>
                                    <font class="smallfont"><p>yeah no probs!! but i think i was a lil too fast cause, ok i can send modbus TCP frames, like i said wireshark recognize them and i tried it with a modbus tcp server simulator (no PLC at home right now) and it works really good.<br/>
BUT (cause there is always a but) the problem is it's ok to send frames but how could we treat the answers of the server??? I'm afraid we will be obliged to use shell script cause OR can't check up the answer frame and look where is the value we're intrested in inside the all frame in a case of a read modbus fonction.</p>

<p>was i clear??? it sounds a lil confused right ???</p>

<p>feel free to comunication with me on the subject.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by adrian1983 at Jan 04, 2014 12:54
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882450"></a>
                                    <font class="smallfont"><p>Can you post some examples of commands you have used? </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Jan 09, 2014 04:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22883050"></a>
                                    <font class="smallfont"><p>try the one i posted on the first post and look on wireshark what's going on it's a write single register example.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by adrian1983 at Jan 19, 2014 11:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884454"></a>
                                    <font class="smallfont"><p>does it work for you???</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by adrian1983 at Feb 18, 2014 09:38
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22884571"></a>
                                    <font class="smallfont"><p>I messed with it a bit, but never got it to work correctly. I have been real short on experiment time due to planning stages of custom home and of course work picked up like crazy last few weeks. </p>


<p>I really wish someone would work on a modbus solution for openremote, I have found all sorts of devices I can implement into my system. I wish I could help but coding is not a strong point of mine, patients issue. I found lots of different libraries online I don't think it would be tough to implement. </p>

<p>Can you send a few sample commands you setup in openremote? Like how to turn coil on or off. I'd really appreciate it</p>

<p>If someone does look into implementing modbus into openremote, let me know I'd be more than willing to help in anyway possible because I could build a killer system in my new home. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by drewscm at Feb 21, 2014 02:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22885847"></a>
                                    <font class="smallfont"><p>you have serial modbus  and TCP modbus  (RTU 8bits or ASCII).</p>

<p>When i tried it i send a TCP command with the example i wrote before (0x00 00 00 00 00 06 01 06 00 01 12 34)</p>

<p>It's a function 6 "write simple register"and the value is on the last two byte (12 34).</p>

<p>I didn't try with sensor though. </p>

<p>I Don't really have time those  days work on some arduino, and rapsberri personnaly plus professionnal work</p>

<p>I'm tireeeeddd loool.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by adrian1983 at Apr 12, 2014 02:19
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:34</font></td>
		    </tr>
	    </table>
    </body>
</html>