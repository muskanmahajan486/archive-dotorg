<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : Your inputs requested on my Home Entertainment + Speech integration</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : Your inputs requested on my Home Entertainment + Speech integration
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 06, 2014 by <font color="#0050B2">dclaeys</font>.
				    </div>

				    <p>Dears,</p>

<p>I am currently working on my home automation project.<br/>
Now as I have a good idea about where I want to go with the lights, shutters, plugs, heating, etc...<br/>
I also already figured it out on how to get it implemented.</p>

<p>But where I am stuck is the integration of the home Entertainment part.</p>

<p>What I want: </p>
<ul class="alternate" type="square">
	<li>one TV in my living room (with 5:1 audio system)</li>
	<li>one TV in my master bedroom (with 5:1 audio system)</li>
	<li>the integration of a movie/tv-show/music database (available for both tv's)</li>
	<li>the home talking to me.</li>
</ul>


<ul class="alternate" type="square">
	<li>TV's I probably will go to Samsung TV's.</li>
	<li>the movie/tv-show/music database I am looking at XBMC.</li>
</ul>


<p>The thing that blocks me is the "Home Talking To Me" (speech) part.<br/>
Now I have read a couple of thinks on the internet and I understand that a Windows based system can not send out Speech Output to other devices.<br/>
So I guess I have to go to an Apple (OS x) system.</p>

<p>If I buy 1 Apple Mac Mini (apple-md387fn-a-i5-mac-mini), to run:</p>
<ul class="alternate" type="square">
	<li>OpenRemote</li>
	<li>XBMC for TV in Livingroom</li>
	<li>Hold the media database</li>
</ul>


<p>And 1 Apple TV, to run:</p>
<ul class="alternate" type="square">
	<li>XBMC for TV in Bedroom.</li>
</ul>


<p>Will I then have a nice media system that is able to have the "Speech" part?</p>

<p>I actually prefer to have the speech (e.g. Welcome Home") spoken on the smartphone device itself, will that be possible?</p>

<p>Are there any cheaper solutions to my quest <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>Thanks for the inputs!<br/>
Regards,<br/>
Dieter</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-22882241"></a>
                                    <font class="smallfont"><p>In case you go with Samsung TV I would go for Plex (<a href="https://plex.tv/">https://plex.tv/</a>) instead of XBMC. Plex features client-server architecture while XBMC is standalone oriented. Samsung TV's have Plex client so no need for Apple TV in Bedroom. Also, it is possible to place the Mac Mini in other room than the Livingroom which can be beneficial in respect of noise (I have my media server on attic running Plex server on Synology NAS). NAS is OK if you don't need transcoding - with Samsung TVs allow direct streaming of 1080p without problems.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 06, 2014 14:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882243"></a>
                                    <font class="smallfont"><p>Thanks for the input.<br/>
Do you know if there is any other way about the "Speech Output".<br/>
I was informed that on a windows based system its not possible.<br/>
I can be wrong informed, i don't really know.<br/>
Also I am just looking to Windows and Apply systems to run everything.<br/>
I haven't really considered other things, maybe I should?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dclaeys at Jan 06, 2014 14:25
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882247"></a>
                                    <font class="smallfont"><p>I don't have experience with the speech output. However, as it is possible to run any executable through OpenRemote then as long as you can do it from a command line you are fine.</p>

<p>For a smartphone it is possible to send push massages from rules. Maybe there is a push application which allows assigning arbitrary sound files to push messages? The you would be able to hear the 'welcome home' message on your smartphone. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 06, 2014 17:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882307"></a>
                                    <font class="smallfont"><p>Michal,</p>

<p>Thanks for the info!!!<br/>
I took some time to surf the net, and I am looking now to a NAS of QNAP.<br/>
It's offering both OpenRemote and Plex as apps, so I am good to go from there.</p>

<p>Basically it's like half the price of the MAC Mini I had in mind and the power consumption is like 10x less!</p>

<p>You mentioned it's possible to send push messages from rules.<br/>
Can you give me some more information about that one please?</p>

<p>I have found several stuff on the internet that indeed would make it possible to assign sound (voice) to push messages.</p>

<p>Again, big thanks man!</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dclaeys at Jan 08, 2014 08:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882326"></a>
                                    <font class="smallfont"><blockquote>
<p>I took some time to surf the net, and I am looking now to a NAS of QNAP.</p></blockquote>
<p>I have Synology NAS and am very happy with it, no experience with QNAP. Anyway, IMHO the NAS should have more powerful processor than ARM (mine has Intel Atom, however transcoding above SD quality is not always smooth, luckily I don't need it inside my LAN) and as much memory as possible (mine has 3GB).</p>

<blockquote>
<p>You mentioned it's possible to send push messages from rules.<br/>
Can you give me some more information about that one please?</p></blockquote>
<p>I've written an example of sending push messages to NMA
<a href="http://mqlservice.net/openremote/2013/09/26/notify-my-android-from-openremote/">http://mqlservice.net/openremote/2013/09/26/notify-my-android-from-openremote/</a></p>

<p>Of course other push services can be used in a similar way, for example Pushover which is available for both iOS and Android.</p>

<blockquote>
<p>I have found several stuff on the internet that indeed would make it possible to assign sound (voice) to push messages.</p></blockquote>
<p>Can you please compile a list and share it on the forum?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 08, 2014 09:15
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882344"></a>
                                    <font class="smallfont"><p>Hello,<br/>
I'm also very interested by those functionalities.</p>

<p>My OpenRemote App is running on Iphone/Ipad. do you have such 3rd party software for this OS (Push message and Push to voice)?</p>

<p>I'm trying to play with Google translation text to speech (tts) to emit some sound:<br/>
It's working in a webview (just put into the URL the text you want to hear, and when the webview is loaded, the Iphone is playing the sound <sup>_</sup>)<br/>
but since the URL is static, I just succed to play 1 sound!</p>

<p>URL exemple:   <a href="http://translate.google.com/translate_tts?tl=fr&amp;q=Bonjour">http://translate.google.com/translate_tts?tl=fr&amp;q=Bonjour</a> (with tl="yourlanguage" and q="yourMessage")</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by florian at Jan 08, 2014 10:30
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882374"></a>
                                    <font class="smallfont"><blockquote>
<p>It's working in a webview (just put into the URL the text you want to hear, and when the webview is loaded, the Iphone is playing the sound _)<br/>
but since the URL is static, I just succed to play 1 sound!</p></blockquote>
<p>You can link the webview component with a sensor and the sensor can feed it with dynamic URL. This way you can create different sounds.<br/>
The sensor can be created via virtual in memory command and feed with different URL's through rules:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
rule <span class="code-quote">"Sound1"</span>
when
  Event(<span class="code-quote">"French"</span>)
then
  execute.command(<span class="code-quote">"VCMD"</span>, <span class="code-quote">"http:<span class="code-comment">//translate.google.com/translate_tts?tl=fr&amp;q=Bonjour"</span>);
</span>end

rule <span class="code-quote">"Sound2"</span>
when
  Event(<span class="code-quote">"English"</span>)
then
  execute.command(<span class="code-quote">"VCMD"</span>, <span class="code-quote">"http:<span class="code-comment">//translate.google.com/translate_tts?tl=en&amp;q=Hello"</span>);
</span>end

etc...
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 08, 2014 13:17
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882375"></a>
                                    <font class="smallfont"><p>Well, this is the most promising one so far...<br/>
the only downturn is that you need to jailbreak you iPod;iphone;iPad
<a href="http://www.idownloadblog.com/2012/02/27/speakevents/">http://www.idownloadblog.com/2012/02/27/speakevents/</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dclaeys at Jan 08, 2014 13:36
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882381"></a>
                                    <font class="smallfont"><p>I will test this solution tomorrow, and if it works, I will work with this.<br/>
I don't really fancy jailbreaking my iPhone for this <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dclaeys at Jan 08, 2014 13:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882409"></a>
                                    <font class="smallfont"><p>I've tried, without success.</p>

<p>I've created 3 things:<br/>
1) a command of "In-memory Virtual" type with a command = "status".<br/>
2) a "custom" sensor to be linked with the Webview<br/>
3) a webview</p>

<p>can you tell me where i'm wrong ?</p>

<p>(the rule is ok)</p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by florian at Jan 08, 2014 16:08
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882411"></a>
                                    <font class="smallfont"><p>To trigger example rules which I've given you would need also sensors called "French" and "English". The virtual command should have name "VCMD". Without any additional sensor the rule for just checking the setup would be:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
rule <span class="code-quote">"Sound"</span>
when
then
  execute.command(<span class="code-quote">"VCMD"</span>, <span class="code-quote">"http:<span class="code-comment">//translate.google.com/translate_tts?tl=en&amp;q=Hi_there"</span>);
</span>end
</pre>
</div></div></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 08, 2014 16:13
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882415"></a>
                                    <font class="smallfont"><blockquote>
<p>I don't have experience with the speech output. However, as it is possible to run any executable through OpenRemote then as long as you can do it from a command line you are fine.</p></blockquote>

<p>Othmar Kyas has examples for Mac and Windows in his <a href="http://www.amazon.com/How-Smart-Home-Othmar-Kyas-ebook/dp/B00FYUTH28/">How To Smart Home e-book</a>. Useful for anyone who comes across here looking for command line solutions. And well worth the $5 price &#8211; there's some pretty useful stuff there for anybody looking to get started.</p>
</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by juha at Jan 08, 2014 18:42
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882447"></a>
                                    <font class="smallfont"><p>Hello Juha,</p>

<p>I've bought the book a couple of weeks ago and its indeed a useful book to get started.<br/>
My original idea was to run everything on a MAC environment (MAC Mini + Airport 4TB + Apple TV) as it is indeed very easy to do in a MAC Environment.<br/>
You just need to give 3 parameters and that's it (What,Who,Where)</p>

<p>But then I got some valid comments from one of my collegues at work.</p>
<ul class="alternate" type="square">
	<li>Why put OpenRemote, that is open source and a very nice tool, on an apple environment that is completely closed.</li>
	<li>Running cost: The Apple MAC Mini consumes 85W, that's would bring me on a running cost of around 250Euro/Year.</li>
</ul>


<p>This made me look for other possibilities and now I am looking at a QNAP NAS.<br/>
The NAS would bring it back to a consumtion of 7W and a running cost of 20Euro/Year.<br/>
It would also bring my investment cost down from 1160Euro To 360Euro.</p>

<p>So I really hope that I can find a way to work around it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dclaeys at Jan 09, 2014 00:57
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882468"></a>
                                    <font class="smallfont"><p>unfortunately I don't get this working. <img class="emoticon" src="images/icons/emoticons/sad.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dclaeys at Jan 09, 2014 10:55
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882482"></a>
                                    <font class="smallfont"><p>Ok, I tried this now:<br/>
I made a html file on your drive under webapps/controller (VCMD.html)<br/>
e.g.
<a href="file:///C:/OpenRemote/webapps/controller/VCMD.html">file:///C:/OpenRemote/webapps/controller/VCMD.html</a> <br/>
which i then call from my smartphone via a webwidget.<br/>
(<a href="http://LocalHost:8080/controller/VCMD.html">http://LocalHost:8080/controller/VCMD.html</a>)</p>



<p>In that Html I auto-redirect automatically to:
<a href="http://translate.google.com/translate_tts?tl=en&amp;q=Hello">http://translate.google.com/translate_tts?tl=en&amp;q=Hello</a></p>

<p>by below code in the HTML file<br/>
&lt;html&gt;<br/>
&lt;head&gt;<br/>
&lt;title&gt;&lt;/title&gt;<br/>
&lt;meta http-equiv="refresh" content="2; URL=<a href="http://translate.google.com/translate_tts?tl=en&amp;q=Hello">http://translate.google.com/translate_tts?tl=en&amp;q=Hello</a>"&gt;<br/>
&lt;/head&gt;<br/>
&lt;body&gt;<br/>
&lt;/body&gt;<br/>
&lt;/html&gt;</p>

<p>This way we can keep always the same link in the SmartPhone.<br/>
It works on my pc,but then does not work on my phone</p>

<p> I also still don't have a clue how to make the complete "redirection process" a dynamic thing.<br/>
PowerShell has troubles with the " inside it.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dclaeys at Jan 09, 2014 12:56
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882517"></a>
                                    <font class="smallfont"><p>Indeed, it does not work. The webview component reacts very wired on the tts URL. It plays sound only once when GUI is displayed for the first time and it is not updating on the sensor. Moreover, it does not react on any controls furthermore, i.e. I'm unable to replay the sound when pressing play button. </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by aktur at Jan 09, 2014 20:34
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882544"></a>
                                    <font class="smallfont"><p>I've got a different solution which is working for me <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<p>I use a Nexus 7 as my "panel", and as it's Android, I can run Tasker (cheap paid for app).<br/>
I also have a Tasker plugin called "Autovoice" (cheap and paid for)</p>

<p>You can create Tasker events such that if Autovoice listens (on demand or all the time) and when it recognizes a string of words (in my case "Open Remote Heating On" or "Open Remote Heating Off" (in any order/phrasing), it can execute an HTTP GET.  I've set mine so that it only listens when the OpenRemote client is in focus/running on the tablet.</p>

<p>Given OpenRemote has a REST API, this means I can have Tasker "press" (or "click") the relevant buttons.<br/>
It's a bit of a fudge in that it's "outside" OpenRemote.</p>

<p>However, what I'd like to do would be auto generate some Tasker rules with a script, based on the OpenRemote XML.  I can detect what are buttons/sliders etc - but the problem is naming the devices.  Each OR item has a name, but it shows on the UI, so all mine are blank.  If we could have a name and/or a descriptor, OR a flag that name is set but not displayed, I can auto-generate a Tasker list, with all the strings.  </p>

<p>So, if you had a button for "Master Off" like I have, and a switch for "Lounge Lights", I'd run the script with a variable for your hotword "Open Remote" or "Computer" AND your OR server IP/Port and it would generate strings for :</p>

<p>"Open Remote Master Off"<br/>
"Open Remote Lounge Lights On"<br/>
"Open Remote Lounge Lights Off"<br/>
And link to the REST API nicely.</p>

<p>But due to the "name"/display problem, I'm stuck :\</p>

<p>NB: Tasker/Autovoice can also speak back to you, so mine says "Goodbye" when I say "Open Remote Master Off" and then turns everything off.  <img class="emoticon" src="images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ptruman at Jan 10, 2014 11:01
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-22882594"></a>
                                    <font class="smallfont"><p>Peter,</p>

<p>That's cool!<br/>
and this is also where I want to go with my home automation.<br/>
The thing is that I want to do everything with my iPhone and seems they havent got those apps available to do that.<br/>
Haven't found them at least.<br/>
Well...I have found them, but then you have to jailbreak you phone, which I don't like to do.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by dclaeys at Jan 12, 2014 01:29
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:39</font></td>
		    </tr>
	    </table>
    </body>
</html>