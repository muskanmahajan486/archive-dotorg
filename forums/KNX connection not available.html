<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Forums : KNX connection not available</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Forums : KNX connection not available
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 22, 2012 by <font color="#0050B2">hkienlen</font>.
				    </div>

				    <p>Hello,</p>

<p>I'm trying to make Openremote controller run from a computer in the WAN that access my KNX Siemens N142/22 gateway at home : so 2 different networks. A port forward has been added on my home router to route every incomming traffic from port xxxx to local KNX Siemens N142/22 gateway port xxxx. <br/>
I know that solution is not secure.</p>

<p>I'm able from the WAN to connect to the  KNX Siemens N142/22 with ETS 4</p>

<p>But the Openremote Controller is not able to connect to the  KNX Siemens N142/22 in spite off :</p>
<ul class="alternate" type="square">
	<li>Siemens N142/22 is not configured as a router</li>
	<li>ETS 4 is not running</li>
	<li>knx.ip.interface.hostname has been set with the IP or the hostname of the router in webapps/controller/WEB-INF/classes/config.properties</li>
	<li>knx.ip.interface.port has been adjusted to port xxxx</li>
</ul>


<p>The controller has been restart, but it seems there's no output connection to the router on port xxxx</p>

<p>Here's a sample of the knx.log :</p>

<p>INFO 2012-10-22 14:32:09,865 (KNX): KNX Connection manager resolving local host IP addresses...<br/>
INFO 2012-10-22 14:32:09,865 (KNX): Skipping point-to-point interface: name:as0t3 (as0t3)<br/>
INFO 2012-10-22 14:32:09,865 (KNX): Skipping point-to-point interface: name:as0t2 (as0t2)<br/>
INFO 2012-10-22 14:32:09,865 (KNX): Skipping point-to-point interface: name:as0t1 (as0t1)<br/>
INFO 2012-10-22 14:32:09,865 (KNX): Skipping point-to-point interface: name:as0t0 (as0t0)<br/>
INFO 2012-10-22 14:32:09,865 (KNX): Found candidate NIC: name:eth1 (eth1)<br/>
INFO 2012-10-22 14:32:09,865 (KNX): Added candidate IP address to set - /192.168.1.12<br/>
INFO 2012-10-22 14:32:09,865 (KNX): Added candidate IP address to set - /192.168.1.11<br/>
INFO 2012-10-22 14:32:09,865 (KNX): Added candidate IP address to set - /192.168.1.10<br/>
INFO 2012-10-22 14:32:09,866 (KNX): Added candidate IP address to set - /192.168.1.1<br/>
INFO 2012-10-22 14:32:09,866 (KNX): Added candidate IP address to set - /88.190.210.206<br/>
INFO 2012-10-22 14:32:09,866 (KNX): Found candidate NIC: name:eth0 (eth0)<br/>
INFO 2012-10-22 14:32:09,866 (KNX): Added candidate IP address to set - /192.168.100.150<br/>
INFO 2012-10-22 14:32:09,866 (KNX): Skipping loopback interface: name:lo (lo)<br/>
INFO 2012-10-22 14:32:09,975 (KNX): KNX connection not available.<br/>
INFO 2012-10-22 14:32:10,129 (KNX): KNX connection not available.<br/>
INFO 2012-10-22 14:32:10,476 (KNX): KNX connection not available.<br/>
INFO 2012-10-22 14:32:10,630 (KNX): KNX connection not available.</p>

<p>No input connection has been detected on the router (netstat command)....</p>

<p>Any advise ?</p>

<p>Regards</p>

				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-21857576"></a>
                                    <font class="smallfont"><p>Hello to all,</p>

<p>This is my first post on your forum and i would like to thank all you guys for the work you are doing with openremote. I have managed to install the controller and done a basic switch on my android phone. When running everything i get the same lines in the knx log file as our friend Herv√© KIENLEN (KNX connection not available). Does anyone have any advise for this??</p>

<p>Kind Regards,</p>

<p>Stavroschar</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by stavroschar at Feb 15, 2013 07:06
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-21857671"></a>
                                    <font class="smallfont"><p>I am not sure if the OpenRemote KNX impl. knows how to handle an IP gateway behind a NAT router.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mredeker at Feb 16, 2013 10:04
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 10:43</font></td>
		    </tr>
	    </table>
    </body>
</html>