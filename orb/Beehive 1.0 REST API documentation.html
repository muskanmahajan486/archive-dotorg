<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>OpenRemote Box : Beehive 1.0 REST API documentation</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            OpenRemote Box : Beehive 1.0 REST API documentation
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 30, 2010 by <font color="#0050B2">dan cong</font>.
				    </div>

				    <p>The following document describes the Beehive 1.0 REST API which supports both XML and JSON.</p>

<p>By default the response format is XML, you can also use JSON. You needn't to specify 'Accept' type in HTTP header, if you want to use JSON, see how to 'Use JSONP format' in this document.</p>

<p>Feature: </p>

<ul>
	<li>LIRC infrared code query service.</li>
	<li>Concatenate lircd.conf</li>
	<li>Default button icons</li>
</ul>


<p>Index:</p>

<div>
<ul>
    <li><a href='#Beehive1.0RESTAPIdocumentation-%281%29ExportaLIRCconfigurationasatextfile%2CconcatenatedifferentRemoteSection.'>(1) Export a LIRC configuration as a text file, concatenate different RemoteSection.</a></li>
    <li><a href='#Beehive1.0RESTAPIdocumentation-%282%29Listallhardwarevendorsinthedatabase'>(2) List all hardware vendors in the database</a></li>
    <li><a href='#Beehive1.0RESTAPIdocumentation-%283%29Listallmodelsofavendorinthedatabase'>(3) List all models of a vendor in the database</a></li>
    <li><a href='#Beehive1.0RESTAPIdocumentation-%284%29ListallRemoteSectionsofamodelinthedatabase'>(4) List all RemoteSections of a model in the database</a></li>
    <li><a href='#Beehive1.0RESTAPIdocumentation-%285%29ListallRemoteOptionsofaRemoteSectioninthedatabase'>(5) List all RemoteOptions of a RemoteSection in the database</a></li>
    <li><a href='#Beehive1.0RESTAPIdocumentation-%286%29ListallCodesofaSectioninthedatabase'>(6) List all Codes of a Section in the database</a></li>
    <li><a href='#Beehive1.0RESTAPIdocumentation-%287%29Listalliconsidentifiedbybuttoncommandname%28IncludedinM2%29'>(7) List all icons identified by button command name (Included in M2)</a></li>
    <li><a href='#Beehive1.0RESTAPIdocumentation-%288%29Listallicons%28IncludedinM2%29'>(8) List all icons (Included in M2)</a></li>
    <li><a href='#Beehive1.0RESTAPIdocumentation-UseJSONPformat'>Use JSONP format</a></li>
</ul></div>
<h3><a name="Beehive1.0RESTAPIdocumentation-%281%29ExportaLIRCconfigurationasatextfile%2CconcatenatedifferentRemoteSection."></a>(1) Export a LIRC configuration as a text file, concatenate different RemoteSection.</h3>

<ul>
	<li>Request URL:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>/lirc.conf</pre>
</div></div></li>
</ul>


<ul>
	<li>Request Method: GET</li>
</ul>


<ul>
	<li>Parameters: ids (RemoteSection ids, separate by comma)</li>
</ul>


<ul>
	<li>Sample Request Url:<a href="http://localhost:8080/beehive/rest/lirc.conf?ids=1,2">http://localhost:8080/beehive/rest/lirc.conf?ids=1,2</a></li>
</ul>


<ul>
	<li>Output:Combined Configuration files content as String.</li>
</ul>


<ul>
	<li>Sample Response:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>#
# This config file has been automatically converted from a device file
# found in the 06/26/00 release of the Windows Slink-e software
# package.
#
# Many thanks to Colby Boles of Nirvis Systems Inc. for allowing us to
# use these files.
#
# The original filename was: "3m mp8640 3m lcd projector.cde"
#
# The original description for this device was:
#
# 3m mp8640 3m lcd projector
#



begin remote
  name                    MP8640
  bits                    32
  flags                   SPACE_ENC
  eps                     20
  aeps                    200

  header                  8800 4400
  one                     550 1650
  zero                    550 550
  ptrail                  550
  repeat                  8800 2200
  gap                     38500
  toggle_bit              0

  frequency               38000

      begin codes
          STANDBY/ON              0x000000000AF5E817
          VOLUME'/\'              0x000000000AF548B7
          ...

      end codes

end remote



#
# this config file was automatically generated
# using lirc-0.6.6(serial) on Sat May 24 18:35:13 2003
#
# contributed by
#
# brand:                       Abit
# model no. of remote control: ?
# devices being controlled by this remote: AU10 audio card / windvd
#


begin remote

  name                    ABIT_WINDVD
  bits                    16
  flags                   SPACE_ENC|CONST_LENGTH
  eps                     30
  aeps                    100

  header                  9149 4422
  one                     666 1569
  zero                    666 474
  ptrail                  666
  pre_data_bits           16
  pre_data                0x807F
  gap                     108554
  toggle_bit              0

      begin codes
          OnOff                   0x000000000000E01F
          Mute                    0x00000000000010EF
          Title                   0x000000000000906F
          Screen                  0x00000000000050AF
          eject                   0x000000000000D02F
          ...
      end codes


end remote

</pre>
</div></div></li>
</ul>


<h3><a name="Beehive1.0RESTAPIdocumentation-%282%29Listallhardwarevendorsinthedatabase"></a>(2) List all hardware vendors in the database</h3>

<ul>
	<li>Request URL:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>/lirc</pre>
</div></div></li>
</ul>


<ul>
	<li>Request Method: GET</li>
</ul>


<ul>
	<li>Sample Request Url:<a href="http://localhost:8080/beehive/rest/lirc">http://localhost:8080/beehive/rest/lirc</a></li>
</ul>


<ul>
	<li>Output:xml or json of a vendors list.</li>
</ul>


<ul>
	<li>Sample Response:
	<ul>
		<li>content-type:application/xml
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;vendors&gt;</span>
    <span class="code-tag">&lt;vendor&gt;</span>
        <span class="code-tag">&lt;id&gt;</span>1<span class="code-tag">&lt;/id&gt;</span>
        <span class="code-tag">&lt;name&gt;</span>3m<span class="code-tag">&lt;/name&gt;</span>
    <span class="code-tag">&lt;/vendor&gt;</span>
    <span class="code-tag">&lt;vendor&gt;</span>
        <span class="code-tag">&lt;id&gt;</span>2<span class="code-tag">&lt;/id&gt;</span>
        <span class="code-tag">&lt;name&gt;</span>abit<span class="code-tag">&lt;/name&gt;</span>
   <span class="code-tag">&lt;/vendor&gt;</span>
   ...
<span class="code-tag">&lt;/vendors&gt;</span>
</pre>
</div></div></li>
		<li>content-type:application/json
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"vendors":
          {"vendor":[
                   {"id":1,
                    "name":"3m"
                   },
                   {"id":2,
                    "name":"abit"},
                   ...
                   ]
          }
}</pre>
</div></div></li>
	</ul>
	</li>
</ul>


<ul>
	<li>Errors:
	<ul>
		<li>Error Code:204, No Content. See HTTP/1.1 documentation.If  system has no Vendor at all.</li>
	</ul>
	</li>
</ul>



<h3><a name="Beehive1.0RESTAPIdocumentation-%283%29Listallmodelsofavendorinthedatabase"></a>(3) List all models of a vendor in the database</h3>

<ul>
	<li>Request URL:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>/lirc/{vendor_name}</pre>
</div></div></li>
</ul>


<ul>
	<li>Request Method: GET</li>
</ul>


<ul>
	<li>Sample Request Url:<a href="http://localhost:8080/beehive/rest/lirc/3m">http://localhost:8080/beehive/rest/lirc/3m</a>.</li>
	<li>Output:xml or json of a Model list of a Vendor.</li>
</ul>


<ul>
	<li>Sample Response:
	<ul>
		<li>content-type:application/xml:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;models&gt;</span>
  <span class="code-tag">&lt;model&gt;</span>
    <span class="code-tag">&lt;id&gt;</span>1<span class="code-tag">&lt;/id&gt;</span>
    <span class="code-tag">&lt;name&gt;</span>MP8640<span class="code-tag">&lt;/name&gt;</span>
  <span class="code-tag">&lt;/model&gt;</span>
<span class="code-tag">&lt;/models&gt;</span>
</pre>
</div></div></li>
		<li>content-type:application/json :
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"models":
         {"model":{
                 "id":1,
                 "name":"MP8640"}
         }
 } </pre>
</div></div></li>
	</ul>
	</li>
</ul>


<ul>
	<li>Errors:
	<ul>
		<li>Error Code:404, Not Found. See  HTTP/1.1 documentation.  If  system can't  find such a Vendor .</li>
		<li>Error Code:204, No Content. See  HTTP/1.1 documentation.  If  this Vendor  has no Model at all .</li>
	</ul>
	</li>
</ul>


<h3><a name="Beehive1.0RESTAPIdocumentation-%284%29ListallRemoteSectionsofamodelinthedatabase"></a>(4) List all RemoteSections of a model in the database</h3>

<ul>
	<li>Request URL:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>/lirc/{vendor_name}/{model_name}</pre>
</div></div></li>
</ul>


<ul>
	<li>Request Method: GET</li>
</ul>


<ul>
	<li>Sample Request Url:<a href="http://localhost:8080/beehive/rest/lirc/3m/MP8640">http://localhost:8080/beehive/rest/lirc/3m/MP8640</a>.</li>
	<li>Output:xml or json of a RemoteSection list of a Model.</li>
</ul>


<ul>
	<li>Sample Response:
	<ul>
		<li>content-type:application/xml:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;sections&gt;</span>
   <span class="code-tag">&lt;section&gt;</span>
       <span class="code-tag">&lt;id&gt;</span>1<span class="code-tag">&lt;/id&gt;</span>
       <span class="code-tag">&lt;comment&gt;</span>
	    #
            # This config file has been automatically converted from a device file.
	    #...
	<span class="code-tag">&lt;/comment&gt;</span>
	<span class="code-tag">&lt;name&gt;</span>MP8640<span class="code-tag">&lt;/name&gt;</span>
	<span class="code-tag">&lt;raw&gt;</span>false<span class="code-tag">&lt;/raw&gt;</span>
    <span class="code-tag">&lt;/section&gt;</span>
<span class="code-tag">&lt;/sections&gt;</span>
</pre>
</div></div></li>
		<li>content-type:application/json :
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"sections":
    {"section":
        {"id":1,
          "comment":"#\r\n# This config file has been automatically converted from a device file\r\n#...",
          "name":"MP8640",
          "raw":false
        }
    }
}
</pre>
</div></div></li>
	</ul>
	</li>
</ul>


<ul>
	<li>Errors:
	<ul>
		<li>Error Code:404, Not Found. See  HTTP/1.1 documentation.  If  system can't  find such a RemoteSection .</li>
	</ul>
	</li>
</ul>


<h3><a name="Beehive1.0RESTAPIdocumentation-%285%29ListallRemoteOptionsofaRemoteSectioninthedatabase"></a>(5) List all RemoteOptions of a RemoteSection in the database</h3>

<ul>
	<li>Request URL:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> /lirc/{vendor_name}/{model_name}/{section_id}/options</pre>
</div></div></li>
</ul>


<ul>
	<li>Request Method: GET</li>
</ul>


<ul>
	<li>Sample Request Url:<a href="http://localhost:8080/beehive/rest/lirc/3m/MP8640/1/options">http://localhost:8080/beehive/rest/lirc/3m/MP8640/1/options</a></li>
	<li>Output:xml or json of a RemoteOption list of a section.</li>
</ul>


<ul>
	<li>Sample Response:
	<ul>
		<li>content-type:application/xml:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;options&gt;</span>
  <span class="code-tag">&lt;option&gt;</span>
     <span class="code-tag">&lt;id&gt;</span>1<span class="code-tag">&lt;/id&gt;</span>
     <span class="code-tag">&lt;comment&gt;</span><span class="code-tag">&lt;/comment&gt;</span>
     <span class="code-tag">&lt;name&gt;</span>name<span class="code-tag">&lt;/name&gt;</span>
     <span class="code-tag">&lt;value&gt;</span>MP8640<span class="code-tag">&lt;/value&gt;</span>
   <span class="code-tag">&lt;/option&gt;</span>
  ...
<span class="code-tag">&lt;options&gt;</span>
</pre>
</div></div></li>
		<li>content-type:application/json :
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"options":
         {"option":[
                  {"id":1,
                   "comment":"",
                   "name":"name",
                   "value":"MP8640"},
                   ...
                  ]
         }
 }
</pre>
</div></div></li>
	</ul>
	</li>
</ul>


<ul>
	<li>Errors:
	<ul>
		<li>Error Code:204, No Content. See  HTTP/1.1 documentation.  If  this RemoteSection  has no RemoteOption at all .</li>
	</ul>
	</li>
</ul>


<h3><a name="Beehive1.0RESTAPIdocumentation-%286%29ListallCodesofaSectioninthedatabase"></a>(6) List all Codes of a Section in the database</h3>

<ul>
	<li>Request URL:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> /lirc/{vendor_name}/{model_name}/{section_id}/codes</pre>
</div></div></li>
</ul>


<ul>
	<li>Request Method: GET</li>
</ul>


<ul>
	<li>Sample Request Url:<a href="http://localhost:8080/beehive/rest/lirc/3m/MP8640/1/codes">http://localhost:8080/beehive/rest/lirc/3m/MP8640/1/codes</a></li>
	<li>Output:xml or json of a Code list of a RemoteSection.</li>
</ul>


<ul>
	<li>Sample Response:
	<ul>
		<li>content-type:application/xml:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;codes&gt;</span>
  <span class="code-tag">&lt;code&gt;</span>
    <span class="code-tag">&lt;id&gt;</span>1<span class="code-tag">&lt;/id&gt;</span>
    <span class="code-tag">&lt;comment&gt;</span><span class="code-tag">&lt;/comment&gt;</span>
    <span class="code-tag">&lt;name&gt;</span>STANDBY/ON<span class="code-tag">&lt;/name&gt;</span>
    <span class="code-tag">&lt;remoteName&gt;</span>MP8640<span class="code-tag">&lt;/remoteName&gt;</span>
    <span class="code-tag">&lt;value&gt;</span>0x000000000AF5E817<span class="code-tag">&lt;/value&gt;</span>
  <span class="code-tag">&lt;/code&gt;</span>
  ...
<span class="code-tag">&lt;/codes&gt;</span>
</pre>
</div></div></li>
		<li>content-type:application/json :
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"codes":
       {"code":  [{"id":1,
                   "comment":"",
                   "name":"STANDBY\/ON",
                   "remoteName":"MP8640",
                   "value":"0x000000000AF5E817"
                   },
                   ...
                   ]
        }
}
</pre>
</div></div></li>
	</ul>
	</li>
</ul>


<ul>
	<li>Errors:
	<ul>
		<li>Error Code:204, No Content. See  HTTP/1.1 documentation.  If  this RemoteSection  has no Code at all .</li>
	</ul>
	</li>
</ul>


<h3><a name="Beehive1.0RESTAPIdocumentation-%287%29Listalliconsidentifiedbybuttoncommandname%28IncludedinM2%29"></a>(7) List all icons identified by button command name (Included in M2)</h3>

<ul>
	<li>Request URL:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> /icons/{icon_name}</pre>
</div></div></li>
</ul>


<ul>
	<li>Request Method: GET</li>
</ul>


<ul>
	<li>Sample Request Url:<a href="http://localhost:8080/beehive/rest/icons/menu">http://localhost:8080/beehive/rest/icons/menu</a></li>
	<li>Output:xml or json of a Icon list of a button command name.</li>
</ul>


<ul>
	<li>Sample Response:
	<ul>
		<li>content-type:application/xml:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;icons&gt;</span>
  <span class="code-tag">&lt;icon&gt;</span>
     <span class="code-tag">&lt;id&gt;</span>21<span class="code-tag">&lt;/id&gt;</span>
     <span class="code-tag">&lt;fileName&gt;</span>http://localhost:8080/beehive/icons/menu.png<span class="code-tag">&lt;/fileName&gt;</span>
     <span class="code-tag">&lt;name&gt;</span>menu<span class="code-tag">&lt;/name&gt;</span>
  <span class="code-tag">&lt;/icon&gt;</span>
  ...
<span class="code-tag">&lt;/icons&gt;</span>
</pre>
</div></div></li>
		<li>content-type:application/json :
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"icons":
        {"icon":
              [{"id":21,
               "fileName":"http:\/\/localhost:8080\/beehive\/icons\/menu.png",
               "name":"menu"},
              ...
              ]
        }
}
</pre>
</div></div></li>
	</ul>
	</li>
</ul>


<ul>
	<li>Errors:
	<ul>
		<li>Error Code:404, Not Found. See  HTTP/1.1 documentation.  If  system can't  find any icons.</li>
		<li>Error Code:204, No Content. See  HTTP/1.1 documentation.  If  this button has no icons at all .</li>
	</ul>
	</li>
</ul>


<h3><a name="Beehive1.0RESTAPIdocumentation-%288%29Listallicons%28IncludedinM2%29"></a>(8) List all icons (Included in M2)</h3>

<ul>
	<li>Request URL:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> /icons</pre>
</div></div></li>
</ul>


<ul>
	<li>Request Method: GET</li>
</ul>


<ul>
	<li>Sample Request Url:<a href="http://localhost:8080/beehive/rest/icons">http://localhost:8080/beehive/rest/icons</a></li>
	<li>Output:xml or json of a Icon list of all button command.</li>
</ul>


<ul>
	<li>Sample Response:
	<ul>
		<li>content-type:application/xml:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;icons&gt;</span>
  <span class="code-tag">&lt;icon&gt;</span>
     <span class="code-tag">&lt;id&gt;</span>1<span class="code-tag">&lt;/id&gt;</span>
     <span class="code-tag">&lt;fileName&gt;</span>http://localhost:8080/beehive/icons/power.png<span class="code-tag">&lt;/fileName&gt;</span>
     <span class="code-tag">&lt;name&gt;</span>power<span class="code-tag">&lt;/name&gt;</span>
  <span class="code-tag">&lt;/icon&gt;</span>
  <span class="code-tag">&lt;icon&gt;</span>
     <span class="code-tag">&lt;id&gt;</span>2<span class="code-tag">&lt;/id&gt;</span>
     <span class="code-tag">&lt;fileName&gt;</span>http://localhost:8080/beehive/icons/home.png<span class="code-tag">&lt;/fileName&gt;</span>
     <span class="code-tag">&lt;name&gt;</span>home<span class="code-tag">&lt;/name&gt;</span>
  <span class="code-tag">&lt;/icon&gt;</span>
  ...
<span class="code-tag">&lt;/icons&gt;</span>
</pre>
</div></div></li>
		<li>content-type:application/json :
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{"icons":
        {"icon":
              [{"id":1,
               "fileName":"http:\/\/localhost:8080\/beehive\/icons\/power.png",
               "name":"power"},
               {"id":2,
               "fileName":"http:\/\/localhost:8080\/beehive\/icons\/home.png",
               "name":"home"},
              ...
              ]
        }
}
</pre>
</div></div></li>
	</ul>
	</li>
</ul>


<ul>
	<li>Errors:
	<ul>
		<li>Error Code:404, Not Found. See  HTTP/1.1 documentation.  If  system can't  find any icons.</li>
		<li>Error Code:204, No Content. See  HTTP/1.1 documentation.  If  this button has no icons at all .</li>
	</ul>
	</li>
</ul>


<h3><a name="Beehive1.0RESTAPIdocumentation-UseJSONPformat"></a>Use JSONP format</h3>

<p>JSON-P is a method of wrapping the JSON output of API calls to allow other developers to call cross site. To use JSON-P, developer should include a 'callback' as request parameter like this: <a href="http://localhost:8080/beehive/rest/lirc?callback=aaa">http://localhost:8080/beehive/rest/lirc?callback=aaa</a><br/>
then response will be : </p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>aaa &amp;&amp; aaa({"vendors":{"vendor":[{"id":1,"name":"3m"},{"id":2,"name":"abit"}]}})
</pre>
</div></div>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:23</font></td>
		    </tr>
	    </table>
    </body>
</html>