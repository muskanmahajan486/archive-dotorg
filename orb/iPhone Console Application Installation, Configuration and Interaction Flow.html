<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>OpenRemote Box : iPhone Console Application Installation, Configuration and Interaction Flow</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            OpenRemote Box : iPhone Console Application Installation, Configuration and Interaction Flow
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 24, 2009 by <font color="#0050B2">juha</font>.
				    </div>

				    <p>The following attempts to explain the flow of data exchange that occurs between the OpenRemote iPhone native console application and OpenRemote controller to render a user interface and react to user interface events.</p>


<h2><a name="iPhoneConsoleApplicationInstallation%2CConfigurationandInteractionFlow-InstallationandConfiguration"></a>Installation and Configuration</h2>

<p><img src="attachments/950463/4816897.png" align="right" border="0"/></p>

<p>1. Download application from iPhone App Store. </p>

<p>2. Configure application to connect to OpenRemote controller. </p>

<p>The iPhone must be configured to access the local network first over WiFi (including wireless security). An OpenRemote Box (ORB) hosting the controller could be used as a WiFi access point. Alternatively ORB or controller software can be made available on any IP address on the local network. </p>

<p>Controller can auto-discover the controller instance over a multicast, if multicast is enabled. Otherwise, a connection URL including IP address (or host name) and port can be entered manually.</p>

<p>3. Download a user interface XML descriptor from the controller. </p>

<p>4. Store the XML descriptor on the iPhone.</p>

<p>5. Parse the descriptor. Create the required data structures for the user interface based on the XML document content. Locate the icon image source URLs from the descriptor and download the images and potentially other resources from the OpenRemote controller.</p>

<p>6. Store downloaded external resources on iPhone, if any.</p>

<h2><a name="iPhoneConsoleApplicationInstallation%2CConfigurationandInteractionFlow-UseFlow"></a>Use Flow</h2>

<p>7. Render user interface based on the data structures created in step #5. Each button is associated with an unique ID that will be tracked as user interface events are generated.</p>

<p>8. Wait for user interface events on button selection and react to them. A tap on the icon area would generate an event associated with a button ID and an action identifier, for example "ON_PRESS_EVENT(ID=Button1)".</p>

<p>9. Generate a HTTP request to a known URL on the OpenRemote controller (resolved as part of step #2) which includes the icon ID and action identifier.</p>


				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">Attachments:</a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/950463/4816897.png">iphoneflowdiagram.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:23</font></td>
		    </tr>
	    </table>
    </body>
</html>