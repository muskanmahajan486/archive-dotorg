<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Community : New Contributors Getting Started</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Community : New Contributors Getting Started
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Apr 15, 2013 by <font color="#0050B2">juha</font>.
				    </div>

				    <h1><a name="NewContributorsGettingStarted-NewContributorsGettingStarted"></a>New Contributors Getting Started</h1>

<p>You should be reading this document if you've completed the OpenRemote Contributor License Agreement. If you haven't yet but would like to contribute code back to the OpenRemote project, <a href="mailto:contact@openremote.org?Subject=I&#39;d Like to Contribute Code to OpenRemote">please let us know by email</a> and we can help you complete this legal step and proceed with your Open Source contribution.</p>

<p>Once you have clicked through the ORCLA, you will need a write access to the Subversion repository. Our repository is currently hosted by Sourceforge and they do require you to <a href="https://sourceforge.net/user/registration">register a user account</a> with them in order for us to add you as a developer to the project (with read/write access to the source repository). Once you've registered your account with SourceForge, <a href="mailto:contact@openremote.org?Subject=Please Add My User Account to OpenRemote Repository">please notify us</a> of the UNIX username you've chosen for yourself so we can add you as a developer to the repository.</p>

<p>We do use Subversion, and in particular we extensively use branching and merging capabilities of Subversion. Please make sure you are familiar with and comfortable with using Subversion for this. <a href="http://svnbook.red-bean.com/">There's an excellent book resource available to get started with Subversion.</a></p>




<div style="margin: 40px;"><div class="panel" style="border-width: 1px;"><div class="panelContent">
<div class='toc'>
<ul>
    <li><a href='#NewContributorsGettingStarted-SubversionDirectoryStructure'>Subversion Directory Structure</a></li>
<ul>
    <li><a href='#NewContributorsGettingStarted-ReleaseTags'>Release Tags</a></li>
    <li><a href='#NewContributorsGettingStarted-DeveloperFeatureBranches'>Developer Feature Branches</a></li>
    <li><a href='#NewContributorsGettingStarted-CreatingYourWorkspace'>Creating Your Workspace</a></li>
    <li><a href='#NewContributorsGettingStarted-CreatingaFeatureBranch'>Creating a Feature Branch</a></li>
</ul>
    <li><a href='#NewContributorsGettingStarted-CommitPolicies'>Commit Policies</a></li>
<ul>
    <li><a href='#NewContributorsGettingStarted-MakeYourCommitsSmall%28Like%2CTiny%29'>Make Your Commits Small (Like, Tiny)</a></li>
    <li><a href='#NewContributorsGettingStarted-DoNotCommitIrrelevantStuff'>Do Not Commit Irrelevant Stuff</a></li>
    <li><a href='#NewContributorsGettingStarted-CommunicateYourIntent'>Communicate Your Intent</a></li>
    <li><a href='#NewContributorsGettingStarted-FollowSourceCodeConventions'>Follow Source Code Conventions</a></li>
</ul>
</ul></div>
</div></div></div>



<h2><a name="NewContributorsGettingStarted-SubversionDirectoryStructure"></a>Subversion Directory Structure</h2>

<p>Subversion can be thought of as a remote, versioning file system accessible via HTTP protocol, web browser and other tools. <a href="http://svn.code.sf.net/p/openremote/code">You can view the root of the filesystem with your web browser and drill into the files</a>. All subversion operations are available through HTTP so this is a live view to the current state of the repository.</p>

<p>The top level directories and important subdirectories are explained below.</p>

<h3><a name="NewContributorsGettingStarted-ReleaseTags"></a>Release Tags</h3>

<p>View <a href="http://svn.code.sf.net/p/openremote/code/tags/project/">/tags/project</a>.</p>

<p>The project tags contain directories for stable releases for each project sub-component. You should <b>never commit anything to tag directory</b> but use it as a read-only space. For committing changes, use your personal workspace instead, as explained below. </p>

<p>Use tags for branching when you start new feature development:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> #
 # Start a branch from tag 2.0.2 to work on issue ORCJAVA-288...
 #

 # Checkout my workspace....
 &gt; svn co https://svn.code.sf.net/p/openremote/code/workspace/myname               
 &gt; cd myname

 # Copy from tag to start new development...
 &gt; svn copy https://svn.code.sf.net/p/openremote/code/tags/project/\
   Controller/Controller_2_0_2 ./Controller_2_0_2_ORCJAVA-288
</pre>
</div></div>

<p>If for some reason your workspace has not been created yet, follow the instructions below. For valid tags, view <a href="http://svn.code.sf.net/p/openremote/code/tags/project/">/tags/project</a> in our subversion repository.</p>


<h3><a name="NewContributorsGettingStarted-DeveloperFeatureBranches"></a>Developer Feature Branches</h3>

<ul class="alternate" type="square">
	<li><a href="https://openremote.svn.sourceforge.net/svnroot/openremote/workspace/">/openremote/workspace</a></li>
</ul>


<p>Here you'll find each developers personal feature branches. <b>All development occurs here</b>. The release branches are for merging code from these developer feature branches towards upcoming releases.</p>

<p>A feature branch can be anything from a new line of development, architectural refactoring, to a single feature development (with just a few commits) even down to a single bug fix (with a single commit). Creating branches are cheap so this is not an issue. Merging branches is hard, so try to follow instructions here and your changes will get merged back to release branches sooner.</p>


<h3><a name="NewContributorsGettingStarted-CreatingYourWorkspace"></a>Creating Your Workspace</h3>

<p>Usually, your workspace has been already created for you, so check first by viewing the <a href="http://svn.code.sf.net/p/openremote/code/workspace/">/workspace</a> directory. If your workspace is not there, you can create it yourself:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> # Checkout the workspace directory only, not including other developer branches
 # --depth=files saves you from a HUGE checkout that could take hours
 &gt; svn co https://svn.code.sf.net/p/openremote/code/workspace --depth=files

 # Create and commit your directory, make sure you do it under workspace
 &gt; cd workspace
 &gt; svn mkdir myusername
 &gt; svn commit -m "created my workspace" myusername
</pre>
</div></div>


<h3><a name="NewContributorsGettingStarted-CreatingaFeatureBranch"></a>Creating a Feature Branch</h3>

<p>Once you've got your workspace ready, you can create a feature branch under it (or bug fix branch or experimental branch, whatever you want to do).</p>

<p>You can branch from the stable <a href="http://svn.code.sf.net/p/openremote/code/tags/project/">tags</a> (these include alpha and beta tags and snapshots as well). Stable in the latter case means that they should at least compile. If you're unsure which tag to base your work on, ask one of the core developers.</p>

<h4><a name="NewContributorsGettingStarted-Example1"></a>Example 1</h4>

<p>For example, to create a feature branch from tag 2.0.2 of Controller:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>&gt; cd workspace
&gt; svn copy https://svn.code.sf.net/p/openremote/code/tags/project/Controller/Controller_2_0_2/\
   ./myusername/Controller_2_0_2_MYFEATURE
&gt; svn commit -m "Created feature branch from /tags/project/Controller_2_0_2 tag" \
  myusername/Controller_2_0_2_MYFEATURE 
</pre>
</div></div>

<p>To keep things clean, it's a good idea to make a clean commit immediately after branching before making any of your changes. Also, it helps with later merging if you're clear in your commit message and in your directory name which branch you've based your feature branch from.</p>



<h2><a name="NewContributorsGettingStarted-CommitPolicies"></a>Commit Policies</h2>

<p>When making commits, please follow the guidelines below. These are mainly to ensure the later merging of your changes to release branches is easier. Failing to follow these instructions means that reviewing and merging your changes will be delayed and in worst case rejected altogether!</p>


<h3><a name="NewContributorsGettingStarted-MakeYourCommitsSmall%28Like%2CTiny%29"></a>Make Your Commits Small (Like, Tiny)</h3>

<p>Make small commits. Really small. As small as possible. Even if you commit just one line at a time is fine. Really. Commits are cheap.</p>

<p>Small commits are easier to review and therefore easier to merge. Single line of code is quick to read and either accept or reject. Reading hundreds of lines of code is hard, consumes a lot of energy and may get pushed to another day.</p>

<p>Also, it is ok to commit one file at a time (even if they contain just one line change). Subversion is not the most friendly about breaking changesets down to smaller segments so keeping the commits small and committing one file at a time is fine. Even if the change in the file itself is not self-contained and requires later commits to compile. Don't worry about making atomic commits &#8211; we don't use trunk and release branches are only used as merge targets so making inconsistent commits in your own workspace is fine (no one else is using it yet except you). If you want to be nice, you can mention in your commit message that the particular revision you're committing won't compile by itself but will require additional revisions to be committed.</p>


<h3><a name="NewContributorsGettingStarted-DoNotCommitIrrelevantStuff"></a>Do Not Commit Irrelevant Stuff</h3>

<p>Get in the habit of checking what your commit is going to contain before actually hitting that 'svn commit' command. Really, do this. Commands 'svn stat' and 'svn diff' are your friends.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> # Tells us that two files are going to get added and one existing file is 
 # going to be modified if we commit from top level directory.
 #
 # Consider if committing files individually would be a better idea (see above!!)
 &gt; svn stat 
   A       src/org/openremote/controller/deployer/DeviceProtocolBuilder.java
   M       src/org/openremote/controller/deployer/AbstractModelBuilder.java
   A       src/org/openremote/controller/deployer/Version20CommandBuilder.java
</pre>
</div></div>


<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre> # Shows us exactly what's going to be included in the commit.
 # Make sure these are relevant to your commit log. In particular,
 # make sure you're not committing formatting changes that might
 # have been automatically applied by your editor or IDE. This is
 # guaranteed to get a commit rejected!!
 &gt; svn diff src/org/openremote/controller/deployer/AbstractModelBuilder.java 
Index: src/org/openremote/controller/deployer/AbstractModelBuilder.java
===================================================================
--- src/org/openremote/controller/deployer/AbstractModelBuilder.java	(revision 5261)
+++ src/org/openremote/controller/deployer/AbstractModelBuilder.java	(working copy)
@@ -44,7 +44,7 @@
  *
  * @author &lt;a href="mailto:juha@openremote.org"&gt;Juha Lindfors&lt;/a&gt;
  */
-abstract class AbstractModelBuilder implements ModelBuilder
+public abstract class AbstractModelBuilder implements ModelBuilder
 {
 
   /*
@@ -76,7 +76,7 @@
    * @return  the child elements of the root element
    */
   @SuppressWarnings("unchecked")
-  protected static List&lt;Element&gt; getChildElements(Element rootElement)
+  public static List&lt;Element&gt; getChildElements(Element rootElement)
   {
     return rootElement.getChildren();
   }
</pre>
</div></div>


<p>The point here is to make sure your commits are isolated to the relevant changes that you intend to commit and describe in your commit log. Avoid accidentally committing unrelated code changes (Subversion commands tend to be recursive so be careful about this).</p>

<p>The point here is again to make reviewing your changes easier when merging to release branches. Clearly commented commit that only contains the relevant files and lines to the actual change is quick and easy to do. Commit lots of irrelevant stuff with your actual change, and some people won't be particularly happy.</p>

<div class = "note">
  <img class="noteimage" src="attachments/11960350/12582917.png"/><p>  Avoid committing any formatting changes at all. This makes it very difficult to separate your formatting changes from your actual code changes. Reviewing your changes will be no fun at all, merging your changes with other people's changes in the same lines will be a pain in the behind, and you'll very likely see your commit rejected!</p>
</div>




<h3><a name="NewContributorsGettingStarted-CommunicateYourIntent"></a>Communicate Your Intent</h3>

<p>Communication is key. Describe what your commit intends to do in the commit log. Use either 'svn commit -m "message"' or 'svn commit -F file.txt' for longer multi-line comments.</p>

<p>Also, commenting your intent in the code helps. Again it makes review easier if we don't have to guess what you wanted to do or accomplish.</p>

<p>Finally, it is ok to leave notes in the source code comments. If you're unsure about if certain code behaves correctly, if there might be a corner case or exception case you didn't know how to deal with, or you just think further changes should be added later, just leave a note or a TODO in the source. That helps everyone.</p>


<h3><a name="NewContributorsGettingStarted-FollowSourceCodeConventions"></a>Follow Source Code Conventions</h3>

<p>Current source conventions are documented at <a href="Source Code Conventions.html" title="Source Code Conventions">Source Code Conventions</a>. Do follow them for any new files you create. If you find older files that have not been formatted to follow these conventions, adhere to the least-number-of-changes principle described above, and follow existing conventions. <b>Do not re-format any source files.</b></p>


				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://www.openremote.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jun 05, 2016 09:24</font></td>
		    </tr>
	    </table>
    </body>
</html>